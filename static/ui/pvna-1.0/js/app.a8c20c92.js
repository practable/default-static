(function(e){function t(t){for(var a,c,r=t[0],i=t[1],l=t[2],d=0,p=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&p.push(s[c][0]),s[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==s[i]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},s={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/ui/pvna-1.0/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00fa":function(e,t,n){"use strict";n("e3bd")},2368:function(e,t,n){},"2f56":function(e,t,n){},4029:function(e,t,n){e.exports=n.p+"img/VNA.32deef38.png"},4142:function(e,t,n){"use strict";n("90a8")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=o,e.exports=s,s.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("f2bf"),s=n("5502"),o=(n("4de4"),{state:{connectionDroppedAt:0,connectionIsDropped:!1,lastVideoCheck:0,lastVideoWrite:0,streams:[],streamsObtained:!1,videoURL:"",videoURLObtained:!1,dataURL:"",dataURLObtained:!1,expiryTime:"",camera:"",sessionExpired:!1},mutations:{SET_CONNECTION_DROPPED_AT:function(e,t){e.connectionDroppedAt=t},SET_CONNECTION_IS_DROPPED:function(e,t){e.connectionIsDropped=t},SET_LAST_VIDEO_CHECK:function(e,t){e.lastVideoCheck=t},SET_LAST_VIDEO_WRITE:function(e,t){e.lastVideoWrite=t},DELETE_STREAMS:function(e){e.streams={},e.streamsObtained=!1},SET_STREAMS:function(e,t){e.streams=t,e.streamsObtained=!0},SET_VIDEO_URL:function(e,t){e.videoURL=t,e.videoURLObtained=!0},DELETE_VIDEO_URL:function(e){e.videoURL="",e.videoURLObtained=!1},SET_DATA_URL:function(e,t){e.dataURL=t,e.dataURLObtained=!0},DELETE_DATA_URL:function(e){e.dataURL="",e.dataURLObtained=!1},SET_EXPIRY_TIME:function(e,t){e.expiryTime=t},SET_CAMERA:function(e,t){e.camera=t},SET_SESSION_EXPIRED:function(e,t){e.sessionExpired=t}},actions:{setConnectionDroppedAt:function(e,t){e.commit("SET_CONNECTION_DROPPED_AT",t)},setConnectionIsDropped:function(e,t){e.commit("SET_CONNECTION_IS_DROPPED",t)},setLastVideoCheck:function(e,t){e.commit("SET_LAST_VIDEO_CHECK",t)},setLastVideoWrite:function(e,t){e.commit("SET_LAST_VIDEO_WRITE",t)},deleteStreams:function(e){e.commit("DELETE_STREAMS")},setStreams:function(e,t){e.commit("SET_STREAMS",t)},setVideoURL:function(e,t){e.commit("SET_VIDEO_URL",t)},deleteVideoURL:function(e){e.commit("DELETE_VIDEO_URL")},setDataURL:function(e,t){e.commit("SET_DATA_URL",t)},deleteDataURL:function(e){e.commit("DELETE_DATA_URL")},setExpiryTime:function(e,t){e.commit("SET_EXPIRY_TIME",t)},setCamera:function(e,t){e.commit("SET_CAMERA",t)},setSessionExpired:function(e,t){e.commit("SET_SESSION_EXPIRED",t)}},getters:{getStreamsObtained:function(e){return e.streamsObtained},getStreams:function(e){return e.streams},getStream:function(e){return function(t){if(null!=e.streams){if(!e.streamsObtained)return{};var n=e.streams.filter((function(e){return e.for==t}));return n.length<1?{}:n[0]}return{}}},getVideoURL:function(e){return e.videoURL},getVideoURLObtained:function(e){return e.videoURLObtained},getDataURL:function(e){return e.dataURL},getDataURLObtained:function(e){return e.dataURLObtained},getExpiryTime:function(e){return e.expiryTime},getConnectionDroppedAt:function(e){return e.connectionDroppedAt},getConnectionIsDropped:function(e){return e.connectionIsDropped},getLastVideoCheck:function(e){return e.lastVideoCheck},getLastVideoWrite:function(e){return e.lastVideoWrite},getCamera:function(e){return e.camera},getSessionExpired:function(e){return e.sessionExpired}}}),c=o,r=(n("a434"),n("159b"),n("a9e3"),n("6b93"),{state:function(){return{response:{},result_dB:[],frequency:[],history:[],previous_s11_phase:null,previous_s12_phase:null,previous_s21_phase:null,previous_s22_phase:null}},mutations:{SET_RESPONSE:function(e,t){e.response=t},ADD_HISTORY:function(e,t){e.history.push(t)},DELETE_HISTORY:function(e,t){e.history.splice(t,1)},CLEAR_HISTORY:function(e){e.history.length=0,e.history=[]},CALCULATE_FREQUENCY:function(e,t){e.frequency=[];var n=t.islog,a=t.range.start,s=t.range.end,o=t.size;t.result.forEach((function(t,c){var r;r=n?a*Math.pow(Number(s)/a,Number(c)/(o-1)):(1e3*a+1e3*(s-a)/(o-1)*c)/1e3,e.frequency.push(r)}))},GET_FREQUENCIES:function(e,t){e.frequency=[],t.result.forEach((function(t){e.frequency.push(t.freq)}))},SET_RESPONSE_DB:function(e,t){if(console.log("setting response db"),e.result_dB=[],"rq"==t.cmd||"crq"==t.cmd)t.result.forEach((function(t){var n=i.calculatedB(t.s11,e.previous_s11_phase);e.previous_s11_phase=n.phase;var a=i.calculatedB(t.s12,e.previous_s12_phase);e.previous_s12_phase=a.phase;var s=i.calculatedB(t.s21,e.previous_s21_phase);e.previous_s21_phase=s.phase;var o=i.calculatedB(t.s22,e.previous_s22_phase);e.previous_s22_phase=o.phase;var c={s11:n,s12:a,s21:s,s22:o};e.result_dB.push(c)})),e.previous_s11_phase=null,e.previous_s12_phase=null,e.previous_s21_phase=null,e.previous_s22_phase=null;else{var n=t.result,a=i.calculatedB(n.s11),s=i.calculatedB(n.s12),o=i.calculatedB(n.s21),c=i.calculatedB(n.s22),r={s11:a,s12:s,s21:o,s22:c};e.result_dB.push(r)}}},actions:{setResponse:function(e,t){e.commit("SET_RESPONSE",t),e.commit("SET_RESPONSE_DB",t),e.commit("GET_FREQUENCIES",t)},addHistory:function(e,t){e.commit("ADD_HISTORY",t)},deleteHistory:function(e,t){e.commit("DELETE_HISTORY",t)},clearHistory:function(e){e.commit("CLEAR_HISTORY")}},getters:{getResponse:function(e){return e.response},getResultDB:function(e){return e.result_dB},getFrequencies:function(e){return e.frequency},getHistory:function(e){return e.history},getXResult:function(e){return e.frequency},getYResult:function(e){return e.result_dB},getNumData:function(e){return e.frequency.length}}}),i={calculatedB:function(e,t){var n=Number(e.real),a=Number(e.imag),s=20*Math.log10(Math.sqrt(n*n+a*a)),o=0;o=n>0?360*Math.atan(a/n)/(2*Math.PI):n<0&&a>=0?360*Math.atan(a/n)/(2*Math.PI)+180:n<0&&a<0?360*Math.atan(a/n)/(2*Math.PI)-180:0;var c=i.unwrapPhase(o,t);return{dB:s,phase:c}},unwrapPhase:function(e,t){if(!(null!=t&&Math.abs(t-e)>180))return e;var n=e+360;if(Math.abs(t-n)<180)return n;var a=e-360;return Math.abs(t-a)<180?a:void 0}},l=r,u={state:function(){return{isDraggable:!0,showCalibrationModal:!1,showRequestModal:!1}},mutations:{SET_DRAGGABLE:function(e,t){e.isDraggable=t},SET_SHOW_CALIBRATION_MODAL:function(e,t){e.showCalibrationModal=t},SET_SHOW_REQUEST_MODAL:function(e,t){e.showRequestModal=t}},actions:{setDraggable:function(e,t){e.commit("SET_DRAGGABLE",t)},setShowCalibrationModal:function(e,t){e.commit("SET_SHOW_CALIBRATION_MODAL",t)},setShowRequestModal:function(e,t){e.commit("SET_SHOW_REQUEST_MODAL",t)}},getters:{getDraggable:function(e){return e.isDraggable},getShowCalibrationModal:function(e){return e.showCalibrationModal},getShowRequestModal:function(e){return e.showRequestModal}}},d=u,p={state:function(){return{dataSocket:null,isCalibrated:!1}},mutations:{SET_DATA_SOCKET:function(e,t){e.dataSocket=t},REQUEST_SINGLE:function(e,t){e.dataSocket.send(JSON.stringify({id:t.id,t:t.t,cmd:"sq",freq:t.freq,avg:t.avg,sparam:{s11:t.sparam.s11,s12:t.sparam.s12,s21:t.sparam.s21,s22:t.sparam.s22}}))},REQUEST_RANGE:function(e,t){e.dataSocket.send(JSON.stringify({id:t.id,t:t.t,cmd:"rq",range:{start:t.range.start,end:t.range.end},size:t.size,islog:t.islog,avg:t.avg,sparam:{s11:t.sparam.s11,s12:t.sparam.s12,s21:t.sparam.s21,s22:t.sparam.s22}}))},REQUEST_CALIBRATION:function(e,t){console.log("calibration request sent"),e.dataSocket.send(JSON.stringify({id:t.id,t:t.t,cmd:"rc",range:{start:t.range.start,end:t.range.end},size:t.size,islog:t.islog,avg:t.avg,sparam:{s11:t.sparam.s11,s12:t.sparam.s12,s21:t.sparam.s21,s22:t.sparam.s22}}))},REQUEST_RANGE_AFTER_CAL:function(e,t){e.isCalibrated?(console.log("range request sent"),e.dataSocket.send(JSON.stringify({cmd:"crq",avg:t.avg,what:t.what,sparam:{S11:t.sparam.s11,S12:t.sparam.s12,S21:t.sparam.s21,S22:t.sparam.s22}}))):console.log("Error: need to request calibration first")},SET_CALIBRATED:function(e,t){e.isCalibrated=t},SET_PORT_OPEN:function(e){e.dataSocket.send(JSON.stringify({set:"port",to:"open"}))}},actions:{setDataSocket:function(e,t){e.commit("SET_DATA_SOCKET",t)},requestSingle:function(e,t){e.commit("REQUEST_SINGLE",t)},requestRange:function(e,t){e.commit("REQUEST_RANGE",t)},requestCalibration:function(e,t){e.commit("REQUEST_CALIBRATION",t)},requestRangeAfterCal:function(e,t){e.commit("REQUEST_RANGE_AFTER_CAL",t)},setCalibrated:function(e,t){e.commit("SET_CALIBRATED",t)},setPortOpen:function(e){e.commit("SET_PORT_OPEN")}},getters:{getDataSocket:function(e){return e.dataSocket},getCalibrated:function(e){return e.isCalibrated}}},g=p,b=Object(s["a"])({modules:{stream:c,data:l,ui:d,command:g}}),m=b,f={id:"app",class:"container-fluid-sm m-0"},j={class:"row",id:"component-grid"},h=["draggable"],O=["draggable"],v=["draggable"],y=["draggable"],k=["draggable"],S=["draggable"],_=["draggable"],R=["draggable"],C=["draggable"],D=["draggable"];function x(e,t,n,s,o,c){var r=Object(a["q"])("navigation-bar"),i=Object(a["q"])("streams"),l=Object(a["q"])("send-commands"),u=Object(a["q"])("graph-output"),d=Object(a["q"])("data-stream");return Object(a["k"])(),Object(a["f"])("div",f,[Object(a["h"])(r),Object(a["h"])(i,{id:"streams"}),Object(a["g"])("div",j,[Object(a["g"])("div",{class:Object(a["j"])(o.leftClass),id:"left-screen"},[Object(a["g"])("div",{class:"col drop-area",id:"drop_0_0",draggable:e.getDraggable,onDragstart:t[0]||(t[0]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[1]||(t[1]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[2]||(t[2]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[3]||(t[3]=Object(a["y"])((function(){}),["prevent"]))},[Object(a["h"])(l,{id:"send-commands",singleFrequencyAllowed:o.singleFrequencyAllowed,rangeFrequencyAllowed:o.rangeFrequencyAllowed,sparams:o.sparamsOn,averagingAllowed:o.averagingAllowed},null,8,["singleFrequencyAllowed","rangeFrequencyAllowed","sparams","averagingAllowed"])],40,h),Object(a["g"])("div",{class:"col drop-area",id:"drop_1_0",draggable:e.getDraggable,onDragstart:t[4]||(t[4]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[5]||(t[5]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[6]||(t[6]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[7]||(t[7]=Object(a["y"])((function(){}),["prevent"]))},[Object(a["h"])(u,{id:"graph",sparams:o.sparamsOn},null,8,["sparams"])],40,O),Object(a["g"])("div",{class:"col drop-area",id:"drop_2_0",draggable:e.getDraggable,onDragstart:t[8]||(t[8]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[9]||(t[9]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[10]||(t[10]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[11]||(t[11]=Object(a["y"])((function(){}),["prevent"]))},null,40,v),Object(a["g"])("div",{class:"col drop-area",id:"drop_3_0",draggable:e.getDraggable,onDragstart:t[12]||(t[12]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[13]||(t[13]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[14]||(t[14]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[15]||(t[15]=Object(a["y"])((function(){}),["prevent"]))},null,40,y),Object(a["g"])("div",{class:"col drop-area",id:"drop_4_0",draggable:e.getDraggable,onDragstart:t[16]||(t[16]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[17]||(t[17]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[18]||(t[18]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[19]||(t[19]=Object(a["y"])((function(){}),["prevent"]))},null,40,k)],2),Object(a["g"])("div",{class:Object(a["j"])(o.rightClass),id:"right-screen"},[Object(a["g"])("div",{class:"col drop-area",id:"drop_0_1",draggable:e.getDraggable,onDragstart:t[20]||(t[20]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[21]||(t[21]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[22]||(t[22]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[23]||(t[23]=Object(a["y"])((function(){}),["prevent"]))},[Object(a["h"])(d,{id:"data-stream"})],40,S),Object(a["g"])("div",{class:"col drop-area",id:"drop_1_1",draggable:e.getDraggable,onDragstart:t[24]||(t[24]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[25]||(t[25]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[26]||(t[26]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[27]||(t[27]=Object(a["y"])((function(){}),["prevent"]))},null,40,_),Object(a["g"])("div",{class:"col drop-area",id:"drop_2_1",draggable:e.getDraggable,onDragstart:t[28]||(t[28]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[29]||(t[29]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[30]||(t[30]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[31]||(t[31]=Object(a["y"])((function(){}),["prevent"]))},null,40,R),Object(a["g"])("div",{class:"col drop-area",id:"drop_3_1",draggable:e.getDraggable,onDragstart:t[32]||(t[32]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[33]||(t[33]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[34]||(t[34]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[35]||(t[35]=Object(a["y"])((function(){}),["prevent"]))},null,40,C),Object(a["g"])("div",{class:"col drop-area",id:"drop_4_1",draggable:e.getDraggable,onDragstart:t[36]||(t[36]=function(){return c.dragComponent&&c.dragComponent.apply(c,arguments)}),onDrop:t[37]||(t[37]=function(){return c.dropComponent&&c.dropComponent.apply(c,arguments)}),onDragover:t[38]||(t[38]=Object(a["y"])((function(){}),["prevent"])),onDragenter:t[39]||(t[39]=Object(a["y"])((function(){}),["prevent"]))},null,40,D)],2)])])}var w=n("5530");n("ac1f"),n("1276");function E(e,t,n,s,o,c){var r=Object(a["q"])("connect-and-display");return Object(a["k"])(),Object(a["d"])(r,{url:e.url},null,8,["url"])}var q=n("bc3a"),T=n.n(q),A=(n("b680"),n("4029")),I=n.n(A),B=n("f28b"),F=n.n(B),L=function(e){return Object(a["m"])("data-v-759abe1e"),e=e(),Object(a["l"])(),e},M={key:0,class:"col-12"},N=L((function(){return Object(a["g"])("img",{id:"session-end-image",src:"https://assets.practable.io/images/common/thank-you-screen.svg",alt:"session ended"},null,-1)})),P=[N],U={key:1,class:"row mb-4",id:"overlay"},z=L((function(){return Object(a["g"])("div",{class:"col-6"},[Object(a["g"])("img",{id:"pvna-image",src:I.a,alt:"pvna-image"})],-1)})),V=L((function(){return Object(a["g"])("div",{class:"col-4"},[Object(a["g"])("img",{id:"pocketvna-image",src:F.a,alt:"pocketvna-image"})],-1)})),H=[z,V],$={class:"row mb-2"},Y={class:"col-12"},W={class:"form-check form-check-inline"},G=L((function(){return Object(a["g"])("label",{class:"form-check-label",for:"real-imag-radio"},"Real/Imag",-1)})),Q={class:"form-check form-check-inline"},X=L((function(){return Object(a["g"])("label",{class:"form-check-label",for:"dBRadio"},"dB/phase",-1)})),J={class:"row mb-2"},K={class:"col-3"},Z={class:"form-check form-check-inline"},ee=L((function(){return Object(a["g"])("label",{class:"form-check-label",for:"csvRadio"},".csv",-1)})),te={class:"form-check form-check-inline"},ne=L((function(){return Object(a["g"])("label",{class:"form-check-label",for:"s2pRadio"},".s2p",-1)})),ae={class:"col-4"},se={class:"input-group"},oe={key:2},ce={class:"row"},re={class:"input-group"},ie=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Command",-1)})),le={class:"input-group-text text-primary bg-white"},ue={class:"row"},de={class:"input-group"},pe=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Frequency/Hz",-1)})),ge={class:"input-group-text text-primary bg-white"},be={class:"row"},me={key:0,class:"col-3"},fe={class:"input-group"},je=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"S11",-1)})),he={key:0},Oe=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Real",-1)})),ve={class:"input-group-text text-primary bg-white"},ye=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Imag",-1)})),ke={class:"input-group-text text-primary bg-white"},Se={key:1},_e=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"dB",-1)})),Re={class:"input-group-text text-primary bg-white"},Ce=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"phase/deg",-1)})),De={class:"input-group-text text-primary bg-white"},xe={key:1,class:"col-3"},we={class:"input-group"},Ee=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"S12",-1)})),qe={key:0},Te=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Real",-1)})),Ae={class:"input-group-text text-primary bg-white"},Ie=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Imag",-1)})),Be={class:"input-group-text text-primary bg-white"},Fe={key:1},Le=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"dB",-1)})),Me={class:"input-group-text text-primary bg-white"},Ne=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"phase/deg",-1)})),Pe={class:"input-group-text text-primary bg-white"},Ue={key:2,class:"col-3"},ze={class:"input-group"},Ve=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"S21",-1)})),He={key:0},$e=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Real",-1)})),Ye={class:"input-group-text text-primary bg-white"},We=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Imag",-1)})),Ge={class:"input-group-text text-primary bg-white"},Qe={key:1},Xe=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"dB",-1)})),Je={class:"input-group-text text-primary bg-white"},Ke=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"phase/deg",-1)})),Ze={class:"input-group-text text-primary bg-white"},et={key:3,class:"col-3"},tt={class:"input-group"},nt=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"S22",-1)})),at={key:0},st=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Real",-1)})),ot={class:"input-group-text text-primary bg-white"},ct=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"Imag",-1)})),rt={class:"input-group-text text-primary bg-white"},it={key:1},lt=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"dB",-1)})),ut={class:"input-group-text text-primary bg-white"},dt=L((function(){return Object(a["g"])("span",{class:"input-group-text"},"phase/deg",-1)})),pt={class:"input-group-text text-primary bg-white"},gt={key:3,class:"table"},bt={key:0,class:"table border border-primary text-center"},mt=L((function(){return Object(a["g"])("th",{key:"freq",scope:"col"},"Frequency/Hz",-1)})),ft={key:"s11r",scope:"col"},jt={key:"s11i",scope:"col"},ht={key:"s12r",scope:"col"},Ot={key:"s12i",scope:"col"},vt={key:"s21r",scope:"col"},yt={key:"s21i",scope:"col"},kt={key:"s22r",scope:"col"},St={key:"s22i",scope:"col"},_t=["id"],Rt={key:0},Ct={key:1},Dt={key:2},xt={key:3},wt={key:4},Et={key:5},qt={key:6},Tt={key:7},At={key:1,class:"table border border-primary text-center"},It=L((function(){return Object(a["g"])("th",{key:"freq",scope:"col"},"Frequency/Hz",-1)})),Bt={key:"s11r",scope:"col"},Ft={key:"s11i",scope:"col"},Lt={key:"s12r",scope:"col"},Mt={key:"s12i",scope:"col"},Nt={key:"s21r",scope:"col"},Pt={key:"s21i",scope:"col"},Ut={key:"s22r",scope:"col"},zt={key:"s22i",scope:"col"},Vt=["id"],Ht={key:0},$t={key:1},Yt={key:2},Wt={key:3},Gt={key:4},Qt={key:5},Xt={key:6},Jt={key:7};function Kt(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("div",null,[e.getSessionExpired?(Object(a["k"])(),Object(a["f"])("div",M,P)):(Object(a["k"])(),Object(a["f"])("div",U,H)),Object(a["g"])("div",$,[Object(a["g"])("div",Y,[Object(a["g"])("div",W,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"real-imag-radio",value:"real-imag",id:"real-imag-radio","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.output_mode=e})},null,512),[[a["t"],o.output_mode]]),G]),Object(a["g"])("div",Q,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"dBRadio",value:"dB-phase",id:"dBRadio","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.output_mode=e})},null,512),[[a["t"],o.output_mode]]),X])])]),Object(a["g"])("div",J,[Object(a["g"])("div",K,[Object(a["g"])("div",Z,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"csvRadio",value:"csv",id:"csvRadio","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.output_type=e})},null,512),[[a["t"],o.output_type]]),ee]),Object(a["g"])("div",te,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"s2pRadio",value:"s2p",id:"s2pRadio","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.output_type=e})},null,512),[[a["t"],o.output_type]]),ne])]),Object(a["g"])("div",ae,[Object(a["g"])("div",se,[Object(a["g"])("button",{type:"button",class:"btn btn-primary btn-sm",id:"outputButton",onClick:t[4]||(t[4]=function(){return c.download&&c.download.apply(c,arguments)})},"Download")])])]),"sq"==e.getResponse.cmd?(Object(a["k"])(),Object(a["f"])("div",oe,[Object(a["g"])("div",ce,[Object(a["g"])("div",re,[ie,Object(a["g"])("span",le,Object(a["r"])(e.getResponse.cmd),1)])]),Object(a["g"])("div",ue,[Object(a["g"])("div",de,[pe,Object(a["g"])("span",ge,Object(a["r"])(e.getResponse.freq),1)])]),Object(a["g"])("div",be,[e.getResponse.sparam.S11?(Object(a["k"])(),Object(a["f"])("div",me,[Object(a["g"])("div",fe,[je,"real-imag"==o.output_mode?(Object(a["k"])(),Object(a["f"])("div",he,[Oe,Object(a["g"])("span",ve,Object(a["r"])(e.getResponse.result.s11.Real.toPrecision(3)),1),ye,Object(a["g"])("span",ke,Object(a["r"])(e.getResponse.result.s11.Imag.toPrecision(3)),1)])):(Object(a["k"])(),Object(a["f"])("div",Se,[_e,Object(a["g"])("span",Re,Object(a["r"])(e.getResultDB[0].s11.dB.toPrecision(3)),1),Ce,Object(a["g"])("span",De,Object(a["r"])(e.getResultDB[0].s11.phase.toFixed(0)),1)]))])])):Object(a["e"])("",!0),e.getResponse.sparam.S12?(Object(a["k"])(),Object(a["f"])("div",xe,[Object(a["g"])("div",we,[Ee,"real-imag"==o.output_mode?(Object(a["k"])(),Object(a["f"])("div",qe,[Te,Object(a["g"])("span",Ae,Object(a["r"])(e.getResponse.result.s12.Real.toPrecision(3)),1),Ie,Object(a["g"])("span",Be,Object(a["r"])(e.getResponse.result.s12.Imag.toPrecision(3)),1)])):(Object(a["k"])(),Object(a["f"])("div",Fe,[Le,Object(a["g"])("span",Me,Object(a["r"])(e.getResultDB[0].s12.dB.toPrecision(3)),1),Ne,Object(a["g"])("span",Pe,Object(a["r"])(e.getResultDB[0].s12.phase.toFixed(0)),1)]))])])):Object(a["e"])("",!0),e.getResponse.sparam.S21?(Object(a["k"])(),Object(a["f"])("div",Ue,[Object(a["g"])("div",ze,[Ve,"real-imag"==o.output_mode?(Object(a["k"])(),Object(a["f"])("div",He,[$e,Object(a["g"])("span",Ye,Object(a["r"])(e.getResponse.result.s21.Real.toPrecision(3)),1),We,Object(a["g"])("span",Ge,Object(a["r"])(e.getResponse.result.s21.Imag.toPrecision(3)),1)])):(Object(a["k"])(),Object(a["f"])("div",Qe,[Xe,Object(a["g"])("span",Je,Object(a["r"])(e.getResultDB[0].s21.dB.toPrecision(3)),1),Ke,Object(a["g"])("span",Ze,Object(a["r"])(e.getResultDB[0].s21.phase.toFixed(0)),1)]))])])):Object(a["e"])("",!0),e.getResponse.sparam.S22?(Object(a["k"])(),Object(a["f"])("div",et,[Object(a["g"])("div",tt,[nt,"real-imag"==o.output_mode?(Object(a["k"])(),Object(a["f"])("div",at,[st,Object(a["g"])("span",ot,Object(a["r"])(e.getResponse.result.s22.Real.toPrecision(3)),1),ct,Object(a["g"])("span",rt,Object(a["r"])(e.getResponse.result.s22.Imag.toPrecision(3)),1)])):(Object(a["k"])(),Object(a["f"])("div",it,[lt,Object(a["g"])("span",ut,Object(a["r"])(e.getResultDB[0].s22.dB.toPrecision(3)),1),dt,Object(a["g"])("span",pt,Object(a["r"])(e.getResultDB[0].s22.phase.toFixed(0)),1)]))])])):Object(a["e"])("",!0)])])):"rq"==e.getResponse.cmd||"crq"==e.getResponse.cmd?(Object(a["k"])(),Object(a["f"])("div",gt,["real-imag"==o.output_mode?(Object(a["k"])(),Object(a["f"])("table",bt,[Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[mt,e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("th",ft,"S11/Real")):Object(a["e"])("",!0),e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("th",jt,"S11/Imag")):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("th",ht,"S12/Real")):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("th",Ot,"S12/Imag")):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("th",vt,"S21/Real")):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("th",yt,"S21/Imag")):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("th",kt,"S22/Real")):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("th",St,"S22/Imag")):Object(a["e"])("",!0)])]),(Object(a["k"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(e.getResponse.result,(function(t,n){return Object(a["k"])(),Object(a["f"])("tr",{id:n,key:n},[Object(a["g"])("td",null,Object(a["r"])(e.getFrequencies[n].toFixed(0)),1),e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("td",Rt,Object(a["r"])(t.s11.real.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("td",Ct,Object(a["r"])(t.s11.imag.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("td",Dt,Object(a["r"])(t.s12.real.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("td",xt,Object(a["r"])(t.s12.imag.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("td",wt,Object(a["r"])(t.s21.real.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("td",Et,Object(a["r"])(t.s21.imag.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("td",qt,Object(a["r"])(t.s22.real.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("td",Tt,Object(a["r"])(t.s22.imag.toPrecision(3)),1)):Object(a["e"])("",!0)],8,_t)})),128))])):(Object(a["k"])(),Object(a["f"])("table",At,[Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[It,e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("th",Bt,"S11/dB")):Object(a["e"])("",!0),e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("th",Ft,"S11/phase(deg)")):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("th",Lt,"S12/dB")):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("th",Mt,"S12/phase(deg)")):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("th",Nt,"S21/dB")):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("th",Pt,"S21/phase(deg)")):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("th",Ut,"S22/dB")):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("th",zt,"S22/phase(deg)")):Object(a["e"])("",!0)])]),(Object(a["k"])(!0),Object(a["f"])(a["a"],null,Object(a["o"])(e.getResultDB,(function(t,n){return Object(a["k"])(),Object(a["f"])("tr",{id:n,key:n},[Object(a["g"])("td",null,Object(a["r"])(e.getFrequencies[n].toFixed(0)),1),e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("td",Ht,Object(a["r"])(t.s11.dB.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s11?(Object(a["k"])(),Object(a["f"])("td",$t,Object(a["r"])(t.s11.phase.toFixed(0)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("td",Yt,Object(a["r"])(t.s12.dB.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s12?(Object(a["k"])(),Object(a["f"])("td",Wt,Object(a["r"])(t.s12.phase.toFixed(0)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("td",Gt,Object(a["r"])(t.s21.dB.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s21?(Object(a["k"])(),Object(a["f"])("td",Qt,Object(a["r"])(t.s21.phase.toFixed(0)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("td",Xt,Object(a["r"])(t.s22.dB.toPrecision(3)),1)):Object(a["e"])("",!0),e.getResponse.sparam.s22?(Object(a["k"])(),Object(a["f"])("td",Jt,Object(a["r"])(t.s22.phase.toFixed(0)),1)):Object(a["e"])("",!0)],8,Vt)})),128))]))])):Object(a["e"])("",!0)])}n("d3b7"),n("25f0");var Zt={name:"ConnectAndDisplay",props:{url:String},components:{},data:function(){return{output_mode:"dB-phase",output_type:"csv",previous_phase:null}},computed:Object(w["a"])({},Object(s["c"])(["getSessionExpired","getResponse","getFrequencies","getResultDB"])),watch:{url:function(){""!=this.url&&this.connect()}},created:function(){},mounted:function(){},methods:{connect:function(){var e=this,t=!1,n=this;this.dataSocket=new WebSocket(this.url),this.$store.dispatch("setDataSocket",this.dataSocket),this.dataSocket.onopen=function(){console.log("data connection opened")},this.dataSocket.onmessage=function(a){try{var s=JSON.parse(a.data);if("hb"==s.cmd){var o=new Event("websocket:hb");document.dispatchEvent(o)}else"sq"==s.cmd?(e.previous_phase=null,n.$store.dispatch("setResponse",s)):"rq"==s.cmd?(e.previous_phase=null,console.log("response received"),console.log(s),n.$store.dispatch("setResponse",s)):"rc"==s.cmd?(e.previous_phase=null,console.log(s),n.$store.dispatch("setCalibrated",!0),n.$store.dispatch("setShowCalibrationModal",!1)):"crq"==s.cmd?(e.previous_phase=null,console.log(s),n.$store.dispatch("setResponse",s),n.$store.dispatch("setShowRequestModal",!1),n.$store.dispatch("setCalibrated",!1)):(e.previous_phase=null,console.log("response command not recognised"),console.log(s))}catch(c){t&&console.log(c)}}},download:function(){"csv"==this.output_type?this.outputToCSV():this.outputToS2P()},outputToS2P:function(){var e=new Date,t="";t="!Date: "+e.getDate().toString()+"/"+(e.getMonth()+1).toString()+"/"+e.getFullYear().toString()+"\n",t+="!S2P File: Measurement: s11,s12,s21,s22\n";var n="";n=e.getDate().toString()+(e.getMonth()+1).toString()+e.getFullYear().toString();var a=this;"real-imag"==a.output_mode?(t+="!Frequency/Hz S11/Real S11/Imag S21/Real S21/Imag S12/Real S12/Imag S22/Real S22/Imag\n",t+="# Hz S RI R 50 \n",this.getResponse.result.forEach((function(e,n){t+=a.getFrequencies[n],t+=" ",t+=e.s11.real.toString(),t+=" ",t+=e.s11.imag.toString(),t+=" ",t+=e.s21.real.toString(),t+=" ",t+=e.s21.imag.toString(),t+=" ",t+=e.s12.real.toString(),t+=" ",t+=e.s12.imag.toString(),t+=" ",t+=e.s22.real.toString(),t+=" ",t+=e.s22.imag.toString(),t+=" ",t+="\n"}))):(t+="! Frequency/Hz S11/dB S11/phase(deg) S21/dB S21/phase(deg) S12/dB S12/phase(deg) S22/dB S22/phase(deg)\n",t+="# Hz S DB R 50 \n",this.getResultDB.forEach((function(e,n){t+=a.getFrequencies[n],t+=" ",t+=e.s11.dB.toString(),t+=" ",t+=e.s11.phase.toString(),t+=" ",t+=e.s21.dB.toString(),t+=" ",t+=e.s21.phase.toString(),t+=" ",t+=e.s12.dB.toString(),t+=" ",t+=e.s12.phase.toString(),t+=" ",t+=e.s22.dB.toString(),t+=" ",t+=e.s22.phase.toString(),t+=" ",t+="\n"}))),n+=".s2p";var s=document.createElement("a");s.href="data:application/octet-stream;charset=utf-8,"+encodeURIComponent(t),s.target="_blank",s.download=n,s.click()},outputToCSV:function(){var e="",t="",n=new Date;t=n.getDate().toString()+(n.getMonth()+1).toString()+n.getFullYear().toString();var a=this;"real-imag"==a.output_mode?(e="Frequency/Hz,S11/Real,S11/Imag,S12/Real,S12/Imag,S21/Real,S21/Imag,S22/Real,S22/Imag\n",this.getResponse.result.forEach((function(t,n){e+=a.getFrequencies[n],e+=",",e+=t.s11.real.toString(),e+=",",e+=t.s11.imag.toString(),e+=",",e+=t.s12.real.toString(),e+=",",e+=t.s12.imag.toString(),e+=",",e+=t.s21.real.toString(),e+=",",e+=t.s21.imag.toString(),e+=",",e+=t.s22.real.toString(),e+=",",e+=t.s22.imag.toString(),e+=",",e+="\n"}))):(e="Frequency/Hz,S11/dB,S11/phase(deg),S12/dB,S12/phase(deg),S21/dB,S21/phase(deg),S22/dB,S22/phase(deg)\n",this.getResultDB.forEach((function(t,n){e+=a.getFrequencies[n],e+=",",e+=t.s11.dB.toString(),e+=",",e+=t.s11.phase.toString(),e+=",",e+=t.s12.dB.toString(),e+=",",e+=t.s12.phase.toString(),e+=",",e+=t.s21.dB.toString(),e+=",",e+=t.s21.phase.toString(),e+=",",e+=t.s22.dB.toString(),e+=",",e+=t.s22.phase.toString(),e+=",",e+="\n"}))),t+=".csv";var s=document.createElement("a");s.href="data:text/csv;charset=utf-8,"+encodeURI(e),s.target="_blank",s.download=t,s.click()}}},en=(n("00fa"),n("6b0d")),tn=n.n(en);const nn=tn()(Zt,[["render",Kt],["__scopeId","data-v-759abe1e"]]);var an=nn,sn={name:"DataStream",components:{ConnectAndDisplay:an},data:function(){return{stream:Object}},mounted:function(){document.addEventListener("streams:dropped",this.getWebsocketConnection)},computed:Object(w["a"])(Object(w["a"])({},Object(s["c"])({urlOK:"getDataURLObtained",url:"getDataURL"})),{},{streamOK:function(){return this.$store.getters.getStream("data")}}),watch:{streamOK:function(e){e?this.getWebsocketConnection():console.log("no stream")},urlOK:function(e){e&&console.log("get dataURL",this.urlOK,this.url)}},methods:{getWebsocketConnection:function(){this.stream=this.$store.getters.getStream("data");var e=this.stream.url,t=this.stream.token,n=this;this.$store.dispatch("deleteDataURL"),T.a.post(e,{},{headers:{Authorization:t}}).then((function(e){n.$store.dispatch("setDataURL",e.data.uri)})).catch((function(e){return console.log(e)}))}}};const on=tn()(sn,[["render",E]]);var cn=on,rn=(n("caad"),n("2532"),Object(a["g"])("h4",null," Send Command ",-1)),ln={class:"row mb-2"},un={class:"col-12"},dn={key:0,class:"form-check form-check-inline"},pn=["disabled"],gn=Object(a["g"])("label",{class:"form-check-label",for:"singleRadio"},"Single Frequency",-1),bn={key:1,class:"form-check form-check-inline"},mn=["disabled"],fn=Object(a["g"])("label",{class:"form-check-label",for:"rangeRadio"},"Range of frequencies",-1),jn={class:"row mb-2"},hn={class:"col-12"},On={key:0,class:"form-check form-check-inline"},vn=["disabled"],yn=Object(a["g"])("label",{class:"form-check-label",for:"s11check"},"S11",-1),kn={key:1,class:"form-check form-check-inline"},Sn=Object(a["g"])("label",{class:"form-check-label",for:"s12check"},"S12",-1),_n={key:2,class:"form-check form-check-inline"},Rn=Object(a["g"])("label",{class:"form-check-label",for:"s21check"},"S21",-1),Cn={key:3,class:"form-check form-check-inline"},Dn=Object(a["g"])("label",{class:"form-check-label",for:"s22check"},"S22",-1),xn={class:"col-12"},wn={class:"input-group"},En=Object(a["g"])("div",{class:"col-3"},[Object(a["g"])("span",{for:"averageRange",class:"input-group-text me-4"},"Average")],-1),qn={class:"col-6"},Tn={class:"col-2"},An={class:"input-group-text ms-4"},In={class:"col-12"},Bn={class:"input-group"},Fn=Object(a["g"])("div",{class:"col-3"},[Object(a["g"])("span",{for:"sizeRange",class:"input-group-text me-4"},"Steps")],-1),Ln={class:"col-6"},Mn=["disabled"],Nn={class:"col-2"},Pn={class:"input-group-text ms-4"},Un={key:2,class:"row mb-2"},zn={class:"form-check"},Vn=["disabled"],Hn=Object(a["g"])("label",{class:"form-check-label",for:"flexCheckDefault"}," Logarithmic ",-1),$n={key:3,class:"row mb-2"},Yn={class:"col-12"},Wn={class:"form-check form-check-inline"},Gn=Object(a["g"])("label",{class:"form-check-label",for:"dutRadio"},"DUT",-1),Qn={class:"form-check form-check-inline"},Xn=Object(a["g"])("label",{class:"form-check-label",for:"shortRadio"},"Short",-1),Jn={class:"form-check form-check-inline"},Kn=Object(a["g"])("label",{class:"form-check-label",for:"openRadio"},"Open",-1),Zn={class:"form-check form-check-inline"},ea=Object(a["g"])("label",{class:"form-check-label",for:"loadRadio"},"Load",-1),ta=Object(a["g"])("span",{class:"input-group-text",id:"basic-addon1"},"Frequency",-1),na=["min","max"],aa=Object(a["g"])("span",{class:"input-group-text",id:"basic-addon1"},"MHz",-1),sa=Object(a["g"])("span",{class:"input-group-text",id:"basic-addon1"},"Start",-1),oa=["min","max","disabled"],ca=Object(a["g"])("span",{class:"input-group-text",id:"basic-addon1"},"MHz",-1),ra=Object(a["g"])("span",{class:"input-group-text",id:"basic-addon1"},"End",-1),ia=["min","max","disabled"],la=Object(a["g"])("span",{class:"input-group-text",id:"basic-addon1"},"MHz",-1),ua={key:0,class:"modal",id:"modal-show",tabindex:"-1"},da=Object(a["g"])("div",{class:"modal-dialog"},[Object(a["g"])("div",{class:"modal-content"},[Object(a["g"])("div",{class:"modal-header"},[Object(a["g"])("h5",{class:"modal-title"},"Calibrating Pocket VNA")]),Object(a["g"])("div",{class:"modal-body"},[Object(a["g"])("div",{class:"d-flex row align-items-center"},[Object(a["g"])("div",{class:"col-2"},[Object(a["g"])("div",{class:"spinner-border text-primary text-center",role:"status"},[Object(a["g"])("span",{class:"visually-hidden"},"Loading...")])]),Object(a["g"])("div",{class:"col-10"},[Object(a["g"])("p",null," Please wait for the pocket VNA to calibrate."),Object(a["g"])("p",null,"This could take around 30 seconds.")])])]),Object(a["g"])("div",{class:"modal-footer"})])],-1),pa=[da],ga={key:0,class:"modal",id:"modal-show",tabindex:"-1"},ba=Object(a["g"])("div",{class:"modal-dialog"},[Object(a["g"])("div",{class:"modal-content"},[Object(a["g"])("div",{class:"modal-header"},[Object(a["g"])("h5",{class:"modal-title"},"Requesting data from Pocket VNA")]),Object(a["g"])("div",{class:"modal-body"},[Object(a["g"])("div",{class:"d-flex row align-items-center"},[Object(a["g"])("div",{class:"col-2"},[Object(a["g"])("div",{class:"spinner-border text-primary text-center",role:"status"},[Object(a["g"])("span",{class:"visually-hidden"},"Loading...")])]),Object(a["g"])("div",{class:"col-10"},[Object(a["g"])("p",null," Please wait for the pocket VNA to send data."),Object(a["g"])("p",null,"This could take around 30 seconds.")])])]),Object(a["g"])("div",{class:"modal-footer"})])],-1),ma=[ba];function fa(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("div",null,[rn,Object(a["g"])("div",ln,[Object(a["g"])("div",un,[n.singleFrequencyAllowed?(Object(a["k"])(),Object(a["f"])("div",dn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"singleRadio",value:"single",id:"singleRadio","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.mode=e}),disabled:!n.rangeFrequencyAllowed},null,8,pn),[[a["t"],o.mode]]),gn])):Object(a["e"])("",!0),n.rangeFrequencyAllowed?(Object(a["k"])(),Object(a["f"])("div",bn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"rangeRadio",value:"range",id:"rangeRadio","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.mode=e}),disabled:!n.singleFrequencyAllowed},null,8,mn),[[a["t"],o.mode]]),fn])):Object(a["e"])("",!0)])]),Object(a["g"])("div",jn,[Object(a["g"])("div",hn,[n.sparams.includes("s11")?(Object(a["k"])(),Object(a["f"])("div",On,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"checkbox",name:"flexCheckDefault",id:"s11check","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.s11=e}),disabled:1==n.sparams.length},null,8,vn),[[a["s"],o.s11]]),yn])):Object(a["e"])("",!0),n.sparams.includes("s12")?(Object(a["k"])(),Object(a["f"])("div",kn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"checkbox",name:"flexCheckDefault",id:"s12check","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.s12=e})},null,512),[[a["s"],o.s12]]),Sn])):Object(a["e"])("",!0),n.sparams.includes("s21")?(Object(a["k"])(),Object(a["f"])("div",_n,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"checkbox",name:"flexCheckDefault",id:"s21check","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.s21=e})},null,512),[[a["s"],o.s21]]),Rn])):Object(a["e"])("",!0),n.sparams.includes("s22")?(Object(a["k"])(),Object(a["f"])("div",Cn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"checkbox",name:"flexCheckDefault",id:"s22check","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.s22=e})},null,512),[[a["s"],o.s22]]),Dn])):Object(a["e"])("",!0)])]),n.averagingAllowed?(Object(a["k"])(),Object(a["f"])("div",{key:0,class:"row mb-2",onMousedown:t[7]||(t[7]=function(t){return e.setDraggable(!1)}),onMouseup:t[8]||(t[8]=function(t){return e.setDraggable(!0)})},[Object(a["g"])("div",xn,[Object(a["g"])("div",wn,[En,Object(a["g"])("div",qn,[Object(a["x"])(Object(a["g"])("input",{type:"range",class:"form-range",min:"1",max:"10",step:"1",id:"averageRange","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.avgCounts=e})},null,512),[[a["u"],o.avgCounts]])]),Object(a["g"])("div",Tn,[Object(a["g"])("span",An,Object(a["r"])(o.avgCounts),1)])])])],32)):Object(a["e"])("",!0),"range"==o.mode?(Object(a["k"])(),Object(a["f"])("div",{key:1,class:"row mb-2",onMousedown:t[10]||(t[10]=function(t){return e.setDraggable(!1)}),onMouseup:t[11]||(t[11]=function(t){return e.setDraggable(!0)})},[Object(a["g"])("div",In,[Object(a["g"])("div",Bn,[Fn,Object(a["g"])("div",Ln,[Object(a["x"])(Object(a["g"])("input",{type:"range",class:"form-range",min:"2",max:"501",step:"1",id:"sizeRange","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.size=e}),disabled:e.getCalibrated},null,8,Mn),[[a["u"],o.size]])]),Object(a["g"])("div",Nn,[Object(a["g"])("span",Pn,Object(a["r"])(o.size),1)])])])],32)):Object(a["e"])("",!0),"range"==o.mode?(Object(a["k"])(),Object(a["f"])("div",Un,[Object(a["g"])("div",zn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"checkbox",name:"flexCheckDefault",id:"isLogcheck","onUpdate:modelValue":t[12]||(t[12]=function(e){return o.islog=e}),disabled:e.getCalibrated},null,8,Vn),[[a["s"],o.islog]]),Hn])])):Object(a["e"])("",!0),e.getCalibrated?(Object(a["k"])(),Object(a["f"])("div",$n,[Object(a["g"])("div",Yn,[Object(a["g"])("div",Wn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"dutRadio",value:"dut",id:"dutRadio","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.what=e})},null,512),[[a["t"],o.what]]),Gn]),Object(a["g"])("div",Qn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"shortRadio",value:"short",id:"shortRadio","onUpdate:modelValue":t[14]||(t[14]=function(e){return o.what=e})},null,512),[[a["t"],o.what]]),Xn]),Object(a["g"])("div",Jn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"openRadio",value:"open",id:"openRadio","onUpdate:modelValue":t[15]||(t[15]=function(e){return o.what=e})},null,512),[[a["t"],o.what]]),Kn]),Object(a["g"])("div",Zn,[Object(a["x"])(Object(a["g"])("input",{class:"form-check-input",type:"radio",name:"loadRadio",value:"load",id:"loadRadio","onUpdate:modelValue":t[16]||(t[16]=function(e){return o.what=e})},null,512),[[a["t"],o.what]]),ea])])])):Object(a["e"])("",!0),"single"==o.mode?(Object(a["k"])(),Object(a["f"])("div",{key:4,class:"input-group",onMousedown:t[19]||(t[19]=function(t){return e.setDraggable(!1)}),onMouseup:t[20]||(t[20]=function(t){return e.setDraggable(!0)})},[ta,Object(a["x"])(Object(a["g"])("input",{type:"number",class:Object(a["j"])(parseFloat(o.frequency)>=0&&parseFloat(o.frequency)<o.maxFrequency?"form-control":"form-control is-invalid"),min:o.minFrequency,max:o.maxFrequency,placeholder:"frequency","aria-label":"freq","aria-describedby":"basic-addon1",id:"freq","onUpdate:modelValue":t[17]||(t[17]=function(e){return o.frequency=e})},null,10,na),[[a["u"],o.frequency]]),aa,Object(a["g"])("button",{id:"request",type:"button",class:"btn btn-primary btn-lg",onClick:t[18]||(t[18]=function(){return c.singleFreqCommand&&c.singleFreqCommand.apply(c,arguments)})},"Request")],32)):(Object(a["k"])(),Object(a["f"])("div",{key:5,class:"input-group",onMousedown:t[25]||(t[25]=function(t){return e.setDraggable(!1)}),onMouseup:t[26]||(t[26]=function(t){return e.setDraggable(!0)})},[sa,Object(a["x"])(Object(a["g"])("input",{type:"number",class:Object(a["j"])(parseFloat(o.frequency)>=0&&parseFloat(o.frequency)<o.maxFrequency?"form-control":"form-control is-invalid"),min:o.minFrequency,max:o.maxFrequency,placeholder:"Start frequency","aria-label":"freq","aria-describedby":"basic-addon1",id:"freq","onUpdate:modelValue":t[21]||(t[21]=function(e){return o.frequency=e}),disabled:e.getCalibrated},null,10,oa),[[a["u"],o.frequency]]),ca,ra,Object(a["x"])(Object(a["g"])("input",{type:"number",class:Object(a["j"])(parseFloat(o.frequency_end)>=0&&parseFloat(o.frequency_end)<=o.maxFrequency&&parseFloat(o.frequency_end)>o.frequency?"form-control":"form-control is-invalid"),min:o.minFrequency,max:o.maxFrequency,placeholder:"End frequency","aria-label":"freq","aria-describedby":"basic-addon1",id:"freq_end","onUpdate:modelValue":t[22]||(t[22]=function(e){return o.frequency_end=e}),disabled:e.getCalibrated},null,10,ia),[[a["u"],o.frequency_end]]),la,e.getCalibrated?Object(a["e"])("",!0):(Object(a["k"])(),Object(a["f"])("button",{key:0,id:"request_calibration",type:"button",class:"btn btn-primary btn-lg",onClick:t[23]||(t[23]=function(){return c.rangeFreqCalibration&&c.rangeFreqCalibration.apply(c,arguments)})},"Calibrate")),e.getCalibrated?(Object(a["k"])(),Object(a["f"])("button",{key:1,id:"request_results",type:"button",class:"btn btn-primary btn-lg",onClick:t[24]||(t[24]=function(){return c.rangeFreqRequest&&c.rangeFreqRequest.apply(c,arguments)})},"Request")):Object(a["e"])("",!0)],32)),Object(a["h"])(a["b"],{name:"fade"},{default:Object(a["w"])((function(){return[e.getShowCalibrationModal?(Object(a["k"])(),Object(a["f"])("div",ua,pa)):Object(a["e"])("",!0)]})),_:1}),Object(a["h"])(a["b"],{name:"fade"},{default:Object(a["w"])((function(){return[e.getShowRequestModal?(Object(a["k"])(),Object(a["f"])("div",ga,ma)):Object(a["e"])("",!0)]})),_:1})])}var ja=n("5a0c"),ha=n.n(ja),Oa={name:"SendCommands",props:["singleFrequencyAllowed","rangeFrequencyAllowed","sparams","averagingAllowed"],data:function(){return{mode:"range",frequency:1,frequency_end:4,minFrequency:0,maxFrequency:4e3,units:1e6,s11:!0,s12:!1,s21:!1,s22:!1,avgCounts:1,size:20,islog:!0,what:"dut"}},components:{},computed:Object(w["a"])({},Object(s["c"])(["getCalibrated","getShowCalibrationModal","getShowRequestModal"])),watch:{},created:function(){this.singleFrequencyAllowed&&!this.rangeFrequencyAllowed?this.mode="single":!this.singleFrequencyAllowed&&this.rangeFrequencyAllowed?this.mode="range":this.mode="single"},mounted:function(){},methods:Object(w["a"])(Object(w["a"])({},Object(s["b"])(["setDraggable"])),{},{singleFreqCommand:function(){this.frequency<this.minFrequency?this.frequency=this.minFrequency:this.frequency>this.maxFrequency&&(this.frequency=this.maxFrequency);var e={id:"",t:ha()().unix(),freq:this.frequency*this.units,avg:this.avgCounts,sparam:{s11:this.s11,s12:this.s12,s21:this.s21,s22:this.s22}};this.$store.dispatch("requestSingle",e)},rangeFreqCommand:function(){this.frequency<this.minFrequency?this.frequency=this.minFrequency:this.frequency>this.maxFrequency&&(this.frequency=this.maxFrequency),this.frequency_end<this.minFrequency?this.frequency_end=this.minFrequency:this.frequency_end>this.maxFrequency&&(this.frequency_end=this.maxFrequency);var e={id:"",t:ha()().unix(),range:{start:this.frequency*this.units,end:this.frequency_end*this.units},size:Number(this.size),islog:this.islog,avg:Number(this.avgCounts),sparam:{s11:this.s11,s12:this.s12,s21:this.s21,s22:this.s22}};this.$store.dispatch("requestRange",e)},rangeFreqCalibration:function(){this.frequency<this.minFrequency?this.frequency=this.minFrequency:this.frequency>this.maxFrequency&&(this.frequency=this.maxFrequency),this.frequency_end<this.minFrequency?this.frequency_end=this.minFrequency:this.frequency_end>this.maxFrequency&&(this.frequency_end=this.maxFrequency);var e={id:"",t:ha()().unix(),range:{start:this.frequency*this.units,end:this.frequency_end*this.units},size:Number(this.size),islog:this.islog,avg:Number(this.avgCounts),sparam:{s11:this.s11,s12:this.s12,s21:this.s21,s22:this.s22}};this.$store.dispatch("requestCalibration",e),this.$store.dispatch("setShowCalibrationModal",!0)},rangeFreqRequest:function(){var e={avg:Number(this.avgCounts),sparam:{s11:this.s11,s12:this.s12,s21:this.s21,s22:this.s22},what:this.what};this.$store.dispatch("requestRangeAfterCal",e),this.$store.dispatch("setShowRequestModal",!0)},toggleCalibrationMessage:function(){this.showCalibrationMessage=!this.showCalibrationMessage}})};const va=tn()(Oa,[["render",fa]]);var ya=va;function ka(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("div")}n("3ca3"),n("ddb0"),n("9861"),n("841c");var Sa={name:"Streams",components:{},data:function(){return{connectionChecker:null}},created:function(){},mounted:function(){if(!this.getStreamsObtained){try{var e=new URLSearchParams(window.location.search),t=e.get("streams"),n=JSON.parse(decodeURIComponent(String(t)));this.$store.dispatch("setStreams",n);var a=e.get("exp");this.$store.dispatch("setExpiryTime",a)}catch(r){console.log("error decoding streams"),this.$store.dispatch("deleteStreams")}var s=this,o=function(){s.$store.dispatch("setLastVideoWrite",ha()().valueOf())};document.addEventListener("websocket:hb",(function(){o()}));var c=function(){var e=s.$store.getters.getLastVideoCheck,t=s.$store.getters.getLastVideoWrite,n=function(){s.$store.dispatch("setConnectionIsDropped",!0),s.$store.dispatch("setConnectionDroppedAt",ha()().unix());var e=new Event("streams:dropped");document.dispatchEvent(e)};if(e>t){if(s.$store.getters.getConnectionIsDropped){var a=s.$store.getters.getConnectionDroppedAt,o=ha()().unix()-a;return void(o>10&&n())}n()}else s.$store.dispatch("setLastVideoCheck",ha()().valueOf()),s.$store.dispatch("setConnectionIsDropped",!1)};this.connectionChecker=setInterval(c,5e3)}},computed:Object(w["a"])({},Object(s["c"])(["getStreamsObtained","getSessionExpired"])),watch:{getSessionExpired:function(e){e&&clearInterval(this.connectionChecker)}},methods:{}};const _a=tn()(Sa,[["render",ka]]);var Ra=_a,Ca={class:"navbar fixed-top navbar-expand-lg navbar-dark bg-primary"},Da={class:"container-fluid"},xa={class:"navbar-brand",href:"#"},wa=Object(a["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["g"])("span",{class:"navbar-toggler-icon"})],-1),Ea={class:"collapse navbar-collapse",id:"navbarSupportedContent"},qa=Object(a["g"])("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0"},null,-1),Ta={class:"d-flex"},Aa=Object(a["g"])("div",{class:"row"}," Temp popup ",-1),Ia={class:"d-flex"};function Ba(e,t,n,s,o,c){var r=Object(a["q"])("toolbar"),i=Object(a["q"])("clock");return Object(a["k"])(),Object(a["f"])("nav",Ca,[Object(a["g"])("div",Da,[Object(a["g"])("a",xa,Object(a["r"])(c.labName),1),wa,Object(a["g"])("div",Ea,[qa,Object(a["g"])("div",Ta,[Object(a["h"])(r,{class:"me-5",parentCanvasID:"",parentDivID:"navbar",parentComponentName:"navbar",showDownload:!1,showOptions:!1,showPopupHelp:!0},{popup:Object(a["w"])((function(){return[Aa]})),_:1})]),Object(a["g"])("div",Ia,[Object(a["h"])(i)])])])])}var Fa={id:"sessionTime"};function La(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("div",Fa," Session ends in: "+Object(a["r"])(o.current_time_left),1)}var Ma={name:"Clock",data:function(){return{current_time:"",current_time_left:"",interval_id:0}},components:{},computed:{sessionEndTime:function(){var e=new Date(1e3*this.$store.getters.getExpiryTime);return this.getTime(e)}},watch:{},created:function(){},mounted:function(){var e=this;this.interval_id=setInterval((function(){e.updateClock()}),1e3)},methods:{addZeroes:function(e){return e<10?"0"+e:e},updateClock:function(){var e=new Date;this.current_time=this.getTime(e),this.current_time_left=this.getTimeLeft(e)},getTime:function(e){var t=e.getHours(),n=e.getMinutes(),a=e.getSeconds();return t=this.addZeroes(t),n=this.addZeroes(n),a=this.addZeroes(a),t+":"+n+":"+a},getTimeLeft:function(e){var t=1e3*this.$store.getters.getExpiryTime-e.getTime(),n=t/1e3,a=Math.floor(n/60);return n=Math.floor(n%60),a=this.addZeroes(a),n=this.addZeroes(n),t>0?a+" min : "+n+" secs":(this.$store.dispatch("setSessionExpired",!0),clearInterval(this.interval_id),"ENDED")}}};n("9ccd");const Na=tn()(Ma,[["render",La],["__scopeId","data-v-38ef9306"]]);var Pa=Na,Ua={class:"row m-1"};function za(e,t,n,s,o,c){var r=Object(a["q"])("download-image-button"),i=Object(a["q"])("popup-help"),l=Object(a["q"])("options-tool");return Object(a["k"])(),Object(a["f"])("div",Ua,[n.showDownload?(Object(a["k"])(),Object(a["d"])(r,{key:0,parentComponentName:c.getParentComponentName,parentCanvasID:c.getCanvasID,parentDivID:c.getParentDivID},null,8,["parentComponentName","parentCanvasID","parentDivID"])):Object(a["e"])("",!0),n.showPopupHelp?(Object(a["k"])(),Object(a["d"])(i,{key:1,parentDivID:c.getParentDivID},{default:Object(a["w"])((function(){return[Object(a["p"])(e.$slots,"popup")]})),_:3},8,["parentDivID"])):Object(a["e"])("",!0),n.showOptions?(Object(a["k"])(),Object(a["d"])(l,{key:2},{default:Object(a["w"])((function(){return[Object(a["p"])(e.$slots,"options")]})),_:3})):Object(a["e"])("",!0)])}var Va=function(e){return Object(a["m"])("data-v-41a0e5c6"),e=e(),Object(a["l"])(),e},Ha=Va((function(){return Object(a["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},[Object(a["g"])("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}),Object(a["g"])("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"})],-1)})),$a=[Ha];function Ya(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("button",{type:"button",class:"btn btn-secondary",id:"download-button",onClick:t[0]||(t[0]=function(){return c.downloadImage&&c.downloadImage.apply(c,arguments)})},$a)}var Wa=n("c0e9"),Ga=n.n(Wa),Qa={name:"DownloadImageButton",props:{parentComponentName:String,parentCanvasID:String,parentDivID:String},data:function(){return{}},components:{},created:function(){},mounted:function(){},computed:{},watch:{},methods:{downloadImage:function(){if(""!=this.parentCanvasID){var e=document.getElementById(this.parentCanvasID),t=e.toDataURL("image/png"),n=document.createElement("a"),a=new Date;n.download=this.parentComponentName+a.getHours()+"_"+a.getMinutes()+".png",n.href=t,n.click(),n.remove()}else{var s=this;Ga()(document.getElementById(s.parentDivID)).then((function(e){var t=e.toDataURL("image/png"),n=document.createElement("a"),a=new Date;n.download=s.parentComponentName+a.getHours()+"_"+a.getMinutes()+".png",n.href=t,n.click(),n.remove()}))}}}};n("6422");const Xa=tn()(Qa,[["render",Ya],["__scopeId","data-v-41a0e5c6"]]);var Ja=Xa,Ka=function(e){return Object(a["m"])("data-v-52f8c5e3"),e=e(),Object(a["l"])(),e},Za={id:"popup-help"},es=Ka((function(){return Object(a["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-square",viewBox:"0 0 16 16"},[Object(a["g"])("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),Object(a["g"])("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})],-1)})),ts=[es],ns={key:0,id:"popup-div"};function as(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("div",Za,[Object(a["g"])("button",{type:"button",class:"btn btn-secondary",id:"help-button",onClick:t[0]||(t[0]=function(){return c.toggleHelp&&c.toggleHelp.apply(c,arguments)})},ts),Object(a["h"])(a["b"],{name:"fade"},{default:Object(a["w"])((function(){return[o.popup_showing?(Object(a["k"])(),Object(a["f"])("div",ns,[Object(a["g"])("button",{type:"button",class:"btn-close btn-close-white",id:"close-button",onClick:t[1]||(t[1]=function(){return c.toggleHelp&&c.toggleHelp.apply(c,arguments)})}),Object(a["p"])(e.$slots,"default",{id:"popup-text"},void 0,!0)])):Object(a["e"])("",!0)]})),_:3})])}var ss={name:"PopupHelp",props:{parentDivID:String},data:function(){return{popup_showing:!1}},components:{},created:function(){},mounted:function(){},computed:{},watch:{},methods:{toggleHelp:function(){this.popup_showing=!this.popup_showing}}};n("7134");const os=tn()(ss,[["render",as],["__scopeId","data-v-52f8c5e3"]]);var cs=os,rs=function(e){return Object(a["m"])("data-v-10e6acea"),e=e(),Object(a["l"])(),e},is={id:"options-button"},ls=rs((function(){return Object(a["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear",viewBox:"0 0 16 16"},[Object(a["g"])("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),Object(a["g"])("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})],-1)})),us=[ls],ds={key:0,id:"popup-div"};function ps(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("div",is,[Object(a["g"])("button",{type:"button",class:"btn btn-secondary",id:"help-button",onClick:t[0]||(t[0]=function(){return c.toggleHelp&&c.toggleHelp.apply(c,arguments)})},us),Object(a["h"])(a["b"],{name:"fade"},{default:Object(a["w"])((function(){return[o.popup_showing?(Object(a["k"])(),Object(a["f"])("div",ds,[Object(a["g"])("button",{type:"button",class:"btn-close btn-close-white",id:"close-button",onClick:t[1]||(t[1]=function(){return c.toggleHelp&&c.toggleHelp.apply(c,arguments)})}),Object(a["p"])(e.$slots,"default",{id:"popup-text"},void 0,!0)])):Object(a["e"])("",!0)]})),_:3})])}var gs={name:"OptionsTool",props:{},data:function(){return{popup_showing:!1,popupWidth:50,popupHeight:50}},components:{},created:function(){},mounted:function(){},computed:{},watch:{},methods:{toggleHelp:function(){this.popup_showing=!this.popup_showing}}};n("6a8d");const bs=tn()(gs,[["render",ps],["__scopeId","data-v-10e6acea"]]);var ms=bs,fs={name:"Toolbar",props:{parentComponentName:String,parentCanvasID:String,parentDivID:String,showDownload:Boolean,showPopupHelp:Boolean,showOptions:Boolean},data:function(){return{}},components:{DownloadImageButton:Ja,PopupHelp:cs,OptionsTool:ms},created:function(){},mounted:function(){},computed:{getParentComponentName:function(){return this.parentComponentName},getCanvasID:function(){return this.parentCanvasID},getParentDivID:function(){return this.parentDivID}},watch:{},methods:{}};const js=tn()(fs,[["render",za]]);var hs=js,Os={name:"NavigationBar",components:{Clock:Pa,Toolbar:hs},props:{},emits:[],data:function(){return{}},computed:Object(w["a"])(Object(w["a"])({},Object(s["c"])([])),{},{labName:function(){return"Pocket VNA Lab"}}),methods:{addTool:function(e){var t=this;this.toggleComponent("workspace"),setTimeout((function(){t.$emit("add"+e)}),100)},toggleComponent:function(e){this.$emit("toggle"+e)},clearWorkspace:function(){this.$emit("clearworkspace")},toggleLayout:function(e){.25==e?this.$emit("togglelayout",.25):.5==e?this.$emit("togglelayout",.5):.75==e?this.$emit("togglelayout",.75):this.$emit("togglelayout",1)}}};const vs=tn()(Os,[["render",Ba]]);var ys=vs,ks=function(e){return Object(a["m"])("data-v-713a1951"),e=e(),Object(a["l"])(),e},Ss={class:"container-sm m-2 bg-white border rounded"},_s=ks((function(){return Object(a["g"])("div",{class:"row m-0 justify-content-center",id:"chart-canvas"},[Object(a["g"])("div",{class:"col-12"},[Object(a["g"])("canvas",{id:"graph-canvas"})])],-1)})),Rs=[_s];function Cs(e,t,n,s,o,c){return Object(a["k"])(),Object(a["f"])("div",Ss,Rs)}var Ds=n("30ef"),xs={name:"GraphOutput",props:["sparams"],emits:[],components:{},data:function(){return{chart:null,YAxisMax:0,YAxisMin:0,XAxisMax:0,XAxisMin:0,maxDataPoints:5e3,unit:1e6}},mounted:function(){this.createChart(),this.getAllData()},computed:Object(w["a"])({},Object(s["c"])(["getResponse","getResultDB","getXResult","getYResult","getNumData"])),watch:{getYResult:function(){this.updateChart()}},methods:{updateChart:function(){var e=this.getNumData-1;e<this.maxDataPoints&&(this.getAllData(),this.chart.update())},createChart:function(){var e=this,t=document.getElementById("graph-canvas"),n=t.getContext("2d");this.chart=new Ds["Chart"](n,{type:"line",data:{datasets:e.getDataSets()},options:{animation:!1,parsing:!1,legend:{display:!0},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Frequency/MHz"},type:"linear",position:"bottom",minRotation:20,maxRotation:20,sampleSize:2}],yAxes:[{id:"dB",scaleLabel:{display:!0,labelString:"Mag/dB"},type:"linear",position:"left",sampleSize:2},{id:"phase",scaleLabel:{display:!0,labelString:"phase/deg"},type:"linear",position:"right",sampleSize:2}]},responsive:!0}})},updateYAxisMax:function(e,t){0==t&&(this.YAxisMax=e)},updateYAxisMin:function(e,t,n){t==n.length-1&&(this.YAxisMin=e)},updateXAxisMin:function(e,t){0==t&&(this.XAxisMin=e)},updateXAxisMax:function(e,t,n){t==n.length-1&&(this.XAxisMax=e)},addDataToChart:function(e,t){this.chart.data.datasets[t].data.push(e)},clearData:function(){this.chart.destroy(),this.createChart()},getAllData:function(){this.clearData();for(var e=this.getXResult,t=this.getYResult,n=0;n<this.getNumData;n++){var a=e[n];this.getResponse.sparam.s11&&this.addSParamData(a,t[n].s11,0),this.getResponse.sparam.s12&&this.addSParamData(a,t[n].s12,2),this.getResponse.sparam.s21&&this.addSParamData(a,t[n].s21,4),this.getResponse.sparam.s22&&this.addSParamData(a,t[n].s22,6)}},addSParamData:function(e,t,n){var a=t.dB;this.addDataToChart({x:e/this.unit,y:a},n),this.addDataToChart({x:e/this.unit,y:t.phase},n+1)},removeChart:function(){this.chart.destroy()},getDataSets:function(){var e=[];return this.sparams.includes("s11")&&e.push({label:"S11_dB",yAxisID:"dB",data:[],pointBackgroundColor:"rgba(0, 0, 0, 1)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 1)"},{label:"S11_phase",yAxisID:"phase",data:[],pointBackgroundColor:"rgba(255, 0, 0, 1)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255, 0, 0, 1)"}),this.sparams.includes("s12")&&e.push({label:"S12_dB",yAxisID:"dB",data:[],pointBackgroundColor:"rgba(0, 255, 0, 1)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 255, 0, 1)"},{label:"S12_phase",yAxisID:"phase",data:[],pointBackgroundColor:"rgba(0, 0, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 255, 1)"}),this.sparams.includes("s21")&&e.push({label:"S21_dB",yAxisID:"dB",data:[],pointBackgroundColor:"rgba(255, 255, 0, 1)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255, 255, 0, 1)"},{label:"S21_phase",yAxisID:"phase",data:[],pointBackgroundColor:"rgba(0, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 255, 255, 1)"}),this.sparams.includes("s22")&&e.push({label:"S22_dB",yAxisID:"dB",data:[],pointBackgroundColor:"rgba(255, 0, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255, 0, 255, 1)"},{label:"S22_phase",yAxisID:"phase",data:[],pointBackgroundColor:"rgba(0, 0, 0, 0.5)",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0.5)"}),e}}};n("aabf");const ws=tn()(xs,[["render",Cs],["__scopeId","data-v-713a1951"]]);var Es=ws,qs={name:"App",components:{SendCommands:ya,Streams:Ra,DataStream:cn,NavigationBar:ys,GraphOutput:Es},data:function(){return{sparamsOn:["s11"],singleFrequencyAllowed:!1,rangeFrequencyAllowed:!0,averagingAllowed:!1,leftClass:"col-lg-6",rightClass:"col-lg-6"}},computed:Object(w["a"])({},Object(s["c"])(["getDraggable"])),methods:{dragComponent:function(e){e.dataTransfer.effectAllowed="move",console.log(e.target.id);var t=e.target;if(t.classList.contains("drop-area"))console.log(t.id),e.dataTransfer.setData("text/html",t.id+"|"+t.childNodes[0].id),console.log(t.childNodes[0]);else while(t.parentNode)if(t=t.parentNode,console.log(t.id),t.classList.contains("drop-area")){e.dataTransfer.setData("text/html",t.id+"|"+t.childNodes[0].id),console.log(t.childNodes[0]);break}},dropComponent:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.getData("text/html"),n=t.split("|"),a=document.getElementById(n[0]),s=document.getElementById(e.target.id),o=n[1];if(null!=s&&s.classList.contains("drop-area"))e.target.childNodes.length>0&&a.appendChild(e.target.childNodes[0]),console.log(o),s.appendChild(document.getElementById(o));else if(s){var c=s;while(c.parentNode)if(c=c.parentNode,c.classList.contains("drop-area")){console.log(c.childNodes[0]),a.appendChild(c.childNodes[0]),c.appendChild(document.getElementById(o));break}}return!1},toggleLayout:function(e){.25==e?(this.leftClass="col-lg-3",this.rightClass="col-lg-9"):.5==e?(this.leftClass="col-lg-6",this.rightClass="col-lg-6"):.75==e?(this.leftClass="col-lg-9",this.rightClass="col-lg-3"):(this.leftClass="col-lg-12",this.rightClass="col-lg-12")}}};n("4142");const Ts=tn()(qs,[["render",x]]);var As=Ts,Is=(n("7b17"),n("ab8b"),Object(a["c"])(As));Is.use(m),Is.mount("#app")},6422:function(e,t,n){"use strict";n("dec1")},"6a8d":function(e,t,n){"use strict";n("b00c")},7134:function(e,t,n){"use strict";n("2f56")},"90a8":function(e,t,n){},"9ccd":function(e,t,n){"use strict";n("2368")},aabf:function(e,t,n){"use strict";n("c7e9")},b00c:function(e,t,n){},c7e9:function(e,t,n){},dec1:function(e,t,n){},e3bd:function(e,t,n){},f28b:function(e,t,n){e.exports=n.p+"img/PocketVNA.8d24b101.png"}});
//# sourceMappingURL=app.a8c20c92.js.map