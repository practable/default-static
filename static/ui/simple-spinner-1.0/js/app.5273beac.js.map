{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./public/images/ruler.png","webpack:///./src/components/WebcamStream.vue?f76f","webpack:///./src/components/Clock.vue?dd45","webpack:///src/components/Workspace.vue","webpack:///./src/App.vue?5a0a","webpack:///./src/components/Workspace.vue?bbd5","webpack:///./src/components/Workspace.vue?5a4b","webpack:///./src/components/Workspace.vue","webpack:///./src/components/DataRecorder.vue?e6a6","webpack:///./src/simplestore.js","webpack:///src/components/DataRecorder.vue","webpack:///./src/components/DataRecorder.vue?1f19","webpack:///./src/components/DataRecorder.vue","webpack:///./src/components/NavigationBar.vue?4d6d","webpack:///./src/components/Clock.vue?166f","webpack:///src/components/Clock.vue","webpack:///./src/components/Clock.vue?caf2","webpack:///./src/components/Clock.vue","webpack:///./src/components/Instructions.vue?05fb","webpack:///src/components/Instructions.vue","webpack:///./src/components/Instructions.vue?21b7","webpack:///./src/components/Instructions.vue","webpack:///src/components/NavigationBar.vue","webpack:///./src/components/NavigationBar.vue?cb27","webpack:///./src/components/NavigationBar.vue","webpack:///./src/components/Streams.vue?890d","webpack:///./src/components/WebcamStream.vue?3b08","webpack:///./src/components/VideoElement.vue?ae39","webpack:///src/components/VideoElement.vue","webpack:///./src/components/VideoElement.vue?8e8e","webpack:///./src/components/VideoElement.vue","webpack:///src/components/WebcamStream.vue","webpack:///./src/components/WebcamStream.vue?e7c8","webpack:///./src/components/WebcamStream.vue","webpack:///./src/components/DataStream.vue?81b4","webpack:///./src/components/ControlPanelSpinningDisk.vue?8cc4","webpack:///./src/components/DCMotorPanel.vue?0428","webpack:///./src/components/AnalogueOutput.vue?b686","webpack:///src/components/AnalogueOutput.vue","webpack:///./src/components/AnalogueOutput.vue?b1a8","webpack:///./src/components/AnalogueOutput.vue","webpack:///src/components/DCMotorPanel.vue","webpack:///./src/components/DCMotorPanel.vue?533e","webpack:///./src/components/DCMotorPanel.vue","webpack:///src/components/ControlPanelSpinningDisk.vue","webpack:///./src/components/ControlPanelSpinningDisk.vue?1e15","webpack:///./src/components/ControlPanelSpinningDisk.vue","webpack:///src/components/DataStream.vue","webpack:///./src/components/DataStream.vue?af18","webpack:///./src/components/DataStream.vue","webpack:///./src/components/MotorSnapshot.vue?6da4","webpack:///src/components/MotorSnapshot.vue","webpack:///./src/components/MotorSnapshot.vue?9805","webpack:///./src/components/MotorSnapshot.vue","webpack:///src/components/Streams.vue","webpack:///./src/components/Streams.vue?77ad","webpack:///./src/components/Streams.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/streamStore.js","webpack:///./src/main.js","webpack:///./src/components/Workspace.vue?5a73","webpack:///./src/components/VideoElement.vue?26cf","webpack:///./src/components/DataRecorder.vue?ba8a","webpack:///./src/components/AnalogueOutput.vue?17fa","webpack:///./src/components/MotorSnapshot.vue?8e43","webpack:///./public/images/protractor.png","webpack:///./src/components/ControlPanelSpinningDisk.vue?d2d1"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ctx","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","remoteLabVersion","disableTooltips","_e","staticRenderFns","class","workspace_canvas_clickable","on","checkClick","moveClicked","mouseUnclick","isRecording","record","_v","stopRecording","clearGraph","outputToCSV","store","state","current_enc_pos","current_angle","current_ang_vel","previous_ang_vels","values_in_average","average_count","current_time","start_time","currentMode","inputMode","graphDataParameter","unityDataObject","current_p_value","current_i_value","current_d_value","current_error","current_drive","current_command_value","step","step_time","step_start","step_size","ramp","ramp_start","ramp_gradient","ramp_start_time","max_voltage","max_rad_s","pid_parameters","Kp","Ki","Kd","dt","addUnityData","setGraphDataParameter","param","calculateAverageVelocity","sum","clearAllData","current_angle_unwrapped","current_ang_vel_unwrapped","getNumData","addData","deleteData","dataId","getTime","getMaxTime","time_max","Infinity","forEach","getMinTime","time_min","hasStorage","localStorage","setItem","removeItem","exception","hasDataToLoad","getItem","saveDataToLocalStorage","data_string","JSON","stringify","console","log","date","Date","loadDataFromLocalStorage","parse","dataStore","props","components","created","computed","watch","newTime","plot","startRecord","methods","_s","labName","$event","addTool","clearWorkspace","toggleInstructions","current_time_left","show","hide","sessionEndTime","mounted","_m","Clock","Instructions","url","version","dataRecorder","tooltips","directives","rawName","expression","getModeName","message","getErrorClass","error","stop","getDataSocket","voltage","maxV","domProps","setSpeedRaw","setVoltage","target","angVel","avgAngVel","beforeMount","AnalogueOutput","time","toFixed","_l","row","position","velocity","command","drive","takeSnapshot","resetSnaps","WebcamStream","DataStream","MotorSnapshot","decodedStreams","$store","getters","getStreams","streamsObtained","getStreamsObtained","videoStream","getStream","dataStream","dispatch","expire_time","cam","_this","cvb","document","addEventListener","wd","lw","getLastVideoWrite","dropped","reconnectEvent","Event","dispatchEvent","lc","getConnectionIsDropped","when","getConnectionDroppedAt","since","connectionChecker","setInterval","clearInterval","sessionExpired","expiredEvent","Workspace","DataRecorder","NavigationBar","Streams","isTableOn","isGraphOn","isStopwatchOn","isWorkspaceOn","isAutoCommandOn","isDataRecorderOn","isInputGraphOn","isSystemDiagramsOn","isSimulationOn","showLoadDataModal","saved_date","eventBus","$on","addWorkspace","toggleGraph","toggleDataRecorder","toggleStopwatch","toggleTable","loadData","Vue","use","Vuex","Store","connectionDroppedAt","connectionIsDropped","lastVideoCheck","lastVideoWrite","streams","videoURL","videoURLObtained","dataURL","dataURLObtained","expiryTime","camera","mutations","SET_CONNECTION_DROPPED_AT","SET_CONNECTION_IS_DROPPED","isDropped","SET_LAST_VIDEO_CHECK","SET_LAST_VIDEO_WRITE","DELETE_STREAMS","SET_STREAMS","SET_VIDEO_URL","DELETE_VIDEO_URL","SET_DATA_URL","DELETE_DATA_URL","SET_REMOTE_LAB_VERSION","SET_DATA_RECORDER","set","SET_DISABLE_TOOLTIPS","SET_EXPIRY_TIME","SET_CAMERA","actions","setConnectionDroppedAt","context","commit","setConnectionIsDropped","setLastVideoCheck","setLastVideoWrite","deleteStreams","setStreams","setVideoURL","deleteVideoURL","setDataURL","deleteDataURL","setRemoteLabVersion","setDataRecorder","setDisableTooltips","setExpiryTime","setCamera","what","results","filter","obj","for","getVideoURL","getVideoURLObtained","getDataURL","getDataURLObtained","getRemoteLabVersion","getIsDataRecorderOn","getDisableTooltips","getExpiryTime","getLastVideoCheck","getCamera","config","productionTip","BootstrapVue","render","h","App","$mount"],"mappings":"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","file":"js/app.5273beac.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/ui/simple-spinner-1.0/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/ruler.41f3337c.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebcamStream.vue?vue&type=style&index=0&id=53553830&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=style&index=0&id=782fb438&scoped=true&lang=css&\"","<template>\n<div>\n    <canvas :class=\"workspace_canvas_clickable ? 'clickable' : 'unclickable'\" id=\"workspace\" @mousedown=\"checkClick\" @mousemove=\"moveClicked\" @mouseup=\"mouseUnclick\"></canvas>\n    <img id=\"protractor\" src=\"../../public/images/protractor.png\" hidden>\n    <img id=\"ruler\" src=\"../../public/images/ruler.png\" hidden>\n    <!-- <img id=\"caliper\" src=\"../../public/images/caliper.png\" hidden> -->\n</div>\n</template>\n\n<script>\n//import * as pendulum from \"../pendulum\";\nimport { eventBus } from \"../main\";\n// import { store } from \"../store.js\";\n\nvar canvas;\nvar ctx;\n\n\n// let rect_width = 100;\n// let rect_height = 20;\n// let rect_top_left_x = 200;\n// let rect_top_left_y = 200; \n//var WIDTH = 400;\n//var HEIGHT = 300;\n\nlet protractor = new Image();\nlet ruler = new Image();\n// let caliper = new Image();\n\nlet shapes = [];        //the added objects to canvas\n\n\n\nexport default {\n    name: \"Workspace\",\n    props:{\n      mode: String,\n  },\n    data(){\n        return{\n            isSelected: false,\n            selected_index: null,\n            selected_offset_x: 0,\n            selected_offset_y: 0,\n            rotateMode: false,\n            // isCaliperActive: false,\n            workspace_canvas_clickable: true,\n            ruler_width: 800,\n            ruler_height: 80,\n            ruler_video_width_ratio: 1.428,\n            ruler_ratio: 0.1,\n            video_canvas: null,\n        }\n    },\n    created(){\n        eventBus.$on('addprotractor', this.addProtractor);\n        eventBus.$on('addruler', this.addRuler);\n\n        // if(this.mode == 'robot_arm'){\n        //     this.ruler_width = 533;\n        //     this.ruler_height = 53.3;\n        // } else if(this.mode == 'variable_governor'){\n        //     this.ruler_width = 640;\n        //     this.ruler_height = 64;\n        // } else{\n        //     this.ruler_width = 1100;\n        //     this.ruler_height = 110;\n        // }\n\n        let cam_type = this.$store.getters.getCamera;\n        if(cam_type == 0){  //logitech\n            this.ruler_video_width_ratio = 1.29;       //1.428\n        } else{\n            this.ruler_video_width_ratio = 0.77;     //0.7432, 0.8556need to get this ratio check this ratio on final boxes\n        }\n\n\n\n        this.video_canvas = document.getElementById(\"video-canvas\");\n    },\n    mounted(){\n        \n        shapes = [];        //ensure when mounted again that the shapes are not redrawn\n\n        canvas = document.getElementById(\"workspace\");\n    \n        canvas.width = screen.width;\n        canvas.height = screen.height;\n       \n        ctx = canvas.getContext(\"2d\");\n       \n        //setInterval(() => {this.draw()}, 10);         //not constantly animating, but instead call draw when click and mouse move\n        //this.addImages();\n        //the rectangle shape added to shapes array\n        //shapes.push({x:rect_top_left_x, y:rect_top_left_y, width:rect_width, height:rect_height, image:null, angle:0});\n\n        //add a key press modifiers to the window\n        window.addEventListener('keydown', this.updateMode, false);\n        window.addEventListener('keyup', this.updateMode, false);\n        window.addEventListener('resize', () => {setTimeout(this.resizeRuler, 100)});\n\n        this.resizeRuler();\n\n\n    },\n    methods:{\n        draw() {\n            ctx.clearRect(0,0,screen.width, screen.height);\n\n            for(let i=0; i< shapes.length;i++){\n\n                ctx.save();\n\n                if(shapes[i].image != null){\n                    if(shapes[i].image == ruler){\n                        shapes[i].width = this.ruler_width;\n                        shapes[i].height = this.ruler_height;\n                    } \n                    ctx.translate(shapes[i].x,shapes[i].y);\n                    ctx.translate(shapes[i].width/2, shapes[i].height/2)\n                    ctx.rotate(shapes[i].angle);\n                    //ctx2.drawImage(shapes[i].image, shapes[i].x, shapes[i].y, shapes[i].width, shapes[i].height);\n                    ctx.drawImage(shapes[i].image, -shapes[i].width/2, -shapes[i].height/2, shapes[i].width, shapes[i].height);\n                } \n                else\n                {\n                    // ctx2.clearRect(0,0,screen.width, screen.height);\n                    ctx.beginPath();\n                    ctx.rect(shapes[i].x, shapes[i].y, shapes[i].width, shapes[i].height);\n                    ctx.stroke();\n                    ctx.fill();\n                    ctx.fillStyle = \"#444444\";\n                }\n\n                ctx.restore();\n            }\n\n        },\n        addProtractor(){\n            protractor.onload = function() {\n                let x = 100;\n                let y= 100;\n                let w=400;\n                let h=200;\n                shapes.push( {x:x, y:y, width:w, height:h, image:protractor, angle:0} );\n                ctx.drawImage(protractor, x, y, w, h);\n                \n                \n            };\n            protractor.src = document.getElementById(\"protractor\").src;\n        },\n        addRuler(){\n            ruler.onload = () => {\n                let x = 100;\n                let y= 300;\n                let w = this.ruler_width;\n                let h = this.ruler_height;\n                \n                \n                shapes.push( {x:x, y:y, width:w, height:h, image:ruler, angle:0} );\n                ctx.drawImage(ruler, x, y, w, h);\n                \n            };\n            ruler.src = document.getElementById(\"ruler\").src;\n        },\n        updateMode(event){\n            if(event.repeat){\n                return;\n            } else{\n                if(event.key == \"o\"){\n                    this.rotateMode = !this.rotateMode;\n                } \n                // else if(event.key == \"c\")\n                // {\n                //     this.isCaliperActive = !this.isCaliperActive;\n                // } \n                else if(event.key == \"w\" && event.type == 'keydown'){\n                    console.log(event);\n                    this.workspace_canvas_clickable = !this.workspace_canvas_clickable;\n                }\n                // console.log(event);\n                // console.log(this.rotateMode);\n            }\n            \n        },\n        checkClick(event){\n            //console.log(event);\n            for(let i=0; i<shapes.length;i++){\n\n                let origin = [0,0];\n                let centre = [shapes[i].x + shapes[i].width/2, shapes[i].y + shapes[i].height/2];\n\n                //click position relative to the centre of the shape.\n                let clickPos = [event.offsetX - centre[0], event.offsetY - centre[1]];\n                //let clickPos = [event.offsetX, event.offsetY];\n\n                //from the centre of the shape\n                let vertices = [];\n                let vertex1 = [shapes[i].x - centre[0], shapes[i].y - centre[1]];\n                let vertex2 = [shapes[i].x + shapes[i].width - centre[0], shapes[i].y - centre[1]];\n                let vertex3 = [shapes[i].x + shapes[i].width - centre[0], shapes[i].y + shapes[i].height - centre[1]];\n                let vertex4 = [shapes[i].x - centre[0], shapes[i].y + shapes[i].height - centre[1]];\n                vertices.push(vertex1);\n                vertices.push(vertex2);\n                vertices.push(vertex3);\n                vertices.push(vertex4);\n\n                let angle = shapes[i].angle;\n\n                //rotate the vertices around the centre of the shape\n                for(let i=0;i<4;i++){\n                    let x_prev = vertices[i][0];\n                    let y_prev = vertices[i][1];\n\n                    vertices[i][0] = x_prev*Math.cos(angle) - y_prev*Math.sin(angle);\n                    vertices[i][1] = x_prev*Math.sin(angle) + y_prev*Math.cos(angle);\n                }\n                \n                if(!this.doIntersect(origin,clickPos,vertices[0], vertices[1]) && !this.doIntersect(origin,clickPos,vertices[1], vertices[2]) && !this.doIntersect(origin,clickPos,vertices[2], vertices[3]) && !this.doIntersect(origin,clickPos,vertices[3], vertices[0])){\n                    this.isSelected = true;\n                    this.selected_index = i;\n                    this.selected_offset_x = event.offsetX - shapes[i].x;\n                    this.selected_offset_y = event.offsetY - shapes[i].y;\n                }\n\n            }\n\n            // if(shapes[this.selected_index].image == caliper){\n            //     if(this.isCaliperActive){\n            //         this.outputData();\n            //     }\n                \n            // }\n            \n        },\n        // To find orientation of ordered triplet (p, q, r). \n        // The function returns following values \n        // 0 --> p, q and r are colinear \n        // 1 --> Clockwise \n        // 2 --> Counterclockwise \n        checkOrientation(q, p, r){\n            // See https://www.geeksforgeeks.org/orientation-3-ordered-points/ \n                // for details of below formula. \n                let val = (q[1] - p[1]) * (r[0] - q[0]) - \n                        (q[0] - p[0]) * (r[1] - q[1]); \n            \n                if (val == 0) return 0;  // colinear \n            \n                return (val > 0) ? 1: 2; // clock or counterclock wise \n        },\n        doIntersect(p1,q1,p2,q2){\n            let o1 = this.checkOrientation(p1, q1, p2); \n            let o2 = this.checkOrientation(p1, q1, q2); \n            let o3 = this.checkOrientation(p2, q2, p1); \n            let o4 = this.checkOrientation(p2, q2, q1); \n  \n            // General case \n            if (o1 != o2 && o3 != o4) {\n                return true;\n            } else{\n                return false;\n            }\n                 \n        },\n        moveClicked(event){\n            if(this.isSelected){\n                if(this.rotateMode){\n                    if(event.movementY < 0){\n                        shapes[this.selected_index].angle -= Math.PI/180;\n                    } else if(event.movementY > 0){\n                        shapes[this.selected_index].angle += Math.PI/180;\n                    }\n                    \n                } \n                else\n                {\n                    //ctx2.clearRect(rect_top_left_x, rect_top_left_y, rect_width, rect_height);\n                    shapes[this.selected_index].x = event.offsetX - this.selected_offset_x;\n                    shapes[this.selected_index].y = event.offsetY - this.selected_offset_y;\n                \n                }\n                this.draw();        //redraw the shapes only when attempting to move\n            }\n            \n        },\n        mouseUnclick(){\n            this.isSelected = false;\n            this.selected_index = null;\n        },\n        resizeRuler(){\n            console.log('resizing');\n            this.ruler_width = this.video_canvas.clientWidth * this.ruler_video_width_ratio;\n            this.ruler_height = this.ruler_ratio*this.ruler_width;\n            this.draw();\n            \n        },\n        // outputData(){\n        //         console.log(\"output data\");\n        //         let angle = store.state.current_angle;\n        //         let time = store.getTime();\n        //         console.log(time);\n        //         let data_object = {id: store.state.data.length, t: parseFloat(time), theta: parseFloat(angle)};\n        //         store.addData(data_object);\n        //         eventBus.$emit('updateGraph');\n        //     },\n    }\n}\n\n\n</script>\n\n<style scoped>\n\n#workspace{\n    z-index: 2;\n    position:absolute;\n    left:0px;\n    top:100px;\n    /* pointer-events: none; */\n}\n\n.unclickable{\n    pointer-events: none;\n    opacity: 0.5;\n}\n\n.clickable{\n    pointer-events: all;\n    opacity: 1;\n}\n\n\n</style>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid-sm m-0\",attrs:{\"id\":\"app\"}},[_c('navigation-bar',{attrs:{\"remoteLabVersion\":_vm.remoteLabVersion}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12\"},[_c('streams'),(_vm.isDataRecorderOn)?_c('data-recorder',{attrs:{\"disableTooltips\":_vm.disableTooltips}}):_vm._e()],1)]),(_vm.isWorkspaceOn)?_c('div',[_c('workspace',{attrs:{\"mode\":_vm.remoteLabVersion}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('canvas',{class:_vm.workspace_canvas_clickable ? 'clickable' : 'unclickable',attrs:{\"id\":\"workspace\"},on:{\"mousedown\":_vm.checkClick,\"mousemove\":_vm.moveClicked,\"mouseup\":_vm.mouseUnclick}}),_c('img',{attrs:{\"id\":\"protractor\",\"src\":require(\"../../public/images/protractor.png\"),\"hidden\":\"\"}}),_c('img',{attrs:{\"id\":\"ruler\",\"src\":require(\"../../public/images/ruler.png\"),\"hidden\":\"\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Workspace.vue?vue&type=template&id=7b45ddae&scoped=true&\"\nimport script from \"./Workspace.vue?vue&type=script&lang=js&\"\nexport * from \"./Workspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Workspace.vue?vue&type=style&index=0&id=7b45ddae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b45ddae\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2 p-2 bg-white border rounded\"},[_c('div',{staticClass:\"row justify-content-center align-items-center\"},[(!_vm.isRecording)?_c('button',{staticClass:\"btn btn-default btn-xs m-1\",attrs:{\"id\":\"recordButton\"},on:{\"click\":_vm.record}},[_vm._v(\"Record\")]):_vm._e(),(_vm.isRecording)?_c('button',{staticClass:\"btn btn-default btn-xs m-1\",attrs:{\"id\":\"stopButton\"},on:{\"click\":_vm.stopRecording}},[_vm._v(\"Stop\")]):_vm._e(),_c('button',{staticClass:\"btn btn-default btn-xs m-1\",attrs:{\"id\":\"clearButton\"},on:{\"click\":_vm.clearGraph}},[_vm._v(\"Reset\")]),(_vm.hasData)?_c('button',{staticClass:\"btn btn-default btn-xs m-1\",attrs:{\"id\":\"outputButton\"},on:{\"click\":_vm.outputToCSV}},[_vm._v(\"Download CSV\")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//import Vue from 'vue';\n\nexport const store = {\n   state: {\n      current_enc_pos: 0,\n       current_angle: 0,     //in rad\n       current_ang_vel: 0,   //in rpm\n       previous_ang_vels: [],\n       values_in_average: 100,\n       average_count: 0,\n       current_time: 0,\n       start_time: 0,\n       currentMode: '',\n       inputMode: '',\n       graphDataParameter: 'omega',   //'theta'\n       data: [],\n       unityDataObject: null,     //NEW FOR SIMULATION\n       current_p_value: 0,\n       current_i_value: 0,\n       current_d_value: 0,\n       current_error: 0,\n       current_drive: 0,\n       current_command_value: 0,\n       step:{\n          step_time: 0,      //seconds\n          step_start: 0,\n          step_size: 0\n       },\n       ramp:{\n          ramp_start: 0,\n        ramp_gradient: 1,\n        ramp_start_time: 0,\n        max_voltage: 12,\n        max_rad_s: 200,\n       },\n       pid_parameters:{\n        Kp: 1,\n        Ki:0,\n        Kd:0,\n        dt:3,\n       },\n       isRecording: false,\n      },\n      addUnityData(data){\n        this.state.unityDataObject = data;\n      },\n      setGraphDataParameter(param){\n        this.state.graphDataParameter = param;\n      },\n      calculateAverageVelocity(){\n        this.state.previous_ang_vels[this.state.average_count] = this.state.current_ang_vel;\n         if(this.state.average_count >= this.state.values_in_average - 1){\n             this.state.average_count = 0;\n         } else{\n             this.state.average_count++;\n         }\n        let sum = 0;\n         for(let i=0;i<this.state.values_in_average;i++){\n             sum += this.state.previous_ang_vels[i];\n         }\n\n         return sum/this.state.values_in_average;\n      },\n      clearAllData(){\n       this.state.data = [];\n       this.current_angle_unwrapped = 0;          //TESTING1111111111111\n       this.current_ang_vel_unwrapped = 0\n\n      },\n      getNumData(){\n          return this.state.data.length;\n      },\n      addData(object){\n         this.state.data.push(object);\n      },\n      deleteData (dataId) {\n         this.state.data.splice(dataId, 1);\n       },\n       getTime(){\n          return (this.state.current_time - this.state.start_time)/1000;    //in seconds\n       },\n       getMaxTime(){\n          let time_max = -Infinity;\n          this.state.data.forEach(d => {\n             if(d.t > time_max){\n                time_max = d.t;\n             }\n          });\n \n          return time_max;\n       },\n       getMinTime(){\n          let time_min = Infinity;\n          this.state.data.forEach(d => {\n             if(d.t < time_min){\n                time_min = d.t;\n             }\n          });\n \n          return time_min;\n       },\n       hasStorage(){\n        try {\n           window.localStorage.setItem('test', 'storage');\n           window.localStorage.removeItem('test');\n           return true;\n        } catch (exception) {\n           return false;\n        }\n       },\n       hasDataToLoad(remoteLabVersion){\n        if(window.localStorage.getItem('savedData')){\n           if(window.localStorage.getItem('remoteLabVersion') == remoteLabVersion){\n              return true;\n           } else {\n              return false;\n           }\n        } else{\n           return false;\n        }\n       },\n       saveDataToLocalStorage(remoteLabVersion){\n        if(this.hasStorage()){\n           if(this.getNumData() > 0){\n               let data_string = JSON.stringify(this.state.data);\n               console.log(data_string);\n               window.localStorage.setItem('savedData', data_string);\n               let date = JSON.stringify(new Date());\n               window.localStorage.setItem('dateSaved', date);\n               window.localStorage.setItem('remoteLabVersion', remoteLabVersion);\n\n               return true;\n           } else{\n            console.log('no data to save');\n            return false;\n           }\n           \n        } else{\n           console.log('no localStorage allowed');\n           return false;\n        }\n         \n     },\n       loadDataFromLocalStorage(){\n          if(this.hasStorage()){\n           if(window.localStorage.getItem('savedData')){\n              let data = window.localStorage.getItem('savedData');\n              data = JSON.parse(data)\n              this.clearAllData();\n              for(let i=0; i<data.length;i++){\n                 this.addData(data[i]);\n              }\n\n              return true;\n           } else {\n              console.log('no saved data');\n              return false;\n           }\n          } else{\n             console.log('no saved data');\n             return false;\n          }\n           \n       },\n \n }\nlet s = store;\n window.dataStore = s;    //global variable accessible by window\n     \n //data object structure\n // {\n //     id: 1,\n //      t: 0,\n //       theta: 0,\n //       omega: 0,\n //   },","<template>\n<div class='m-2 p-2 bg-white border rounded'>\n    <div class=\"row justify-content-center align-items-center\">\n        <button class=\"btn btn-default btn-xs m-1\" v-if=\"!isRecording\" id=\"recordButton\" @click=\"record\">Record</button>\n        <button class=\"btn btn-default btn-xs m-1\" v-if=\"isRecording\" id=\"stopButton\" @click=\"stopRecording\">Stop</button>\n        <button class=\"btn btn-default btn-xs m-1\" id=\"clearButton\" @click=\"clearGraph\">Reset</button>\n        <button class=\"btn btn-default btn-xs m-1\" v-if=\"hasData\" id=\"outputButton\" @click=\"outputToCSV\">Download CSV</button>\n    </div>\n   <!-- <div class=\"form-group row justify-content-center p-2\">\n        <label class=\"col-sm-2 col-form-label\" for=\"time_interval\">Every</label>\n        <div class='col-sm-4 mr-4'><input type='text' :class=\"[{'error': hasError}, 'form-control']\" id=\"time_interval\" v-model=\"time_interval\"></div>\n        <b-tooltip triggers='hover' :delay=\"{show:tooltip_delay,hide:0}\" :disabled.sync=\"disableTooltips\" target=\"time_interval\" :title='checkValueRange(time_interval)'></b-tooltip>\n        <label class=\"col-sm-2 col-form-label\" for=\"time_interval\">seconds</label>\n    </div> -->\n    \n</div>\n</template>\n\n<script>\nimport { store } from \"../simplestore.js\";\nimport { eventBus } from \"../main.js\";\n\nexport default {\n\n  name: 'DataRecorder',\n  props:{\n\t\tdisableTooltips: Boolean,\n\t},\n  data () {\n    return {\n        //store: this.$store,\n        data_store: store,\n        isRecording: false,\n        time_interval: 0.05,\n        time_interval_min: 0.01,\n        interval_id: 0,\n        data_points_count: 0,\n        hasPlotted: false,\n        previous_angle: 0,\n        wrap_index: 0,\n        tooltip_delay: 2000,\n        starting_angle: 0,\n    }\n  },\n  components: {\n    \n  },\n  created(){\n\t\teventBus.$on('maxdatapointsreached', this.stopRecording);\n\t},\n  computed:{\n      hasData(){\n            return store.getNumData !== 0;\n      },\n      hasError(){\n        if(!isNaN(this.time_interval) && this.time_interval >= this.time_interval_min){\n          return false;\n        } else { \n          return true;\n        }\n      },\n      newTime(){\n        return this.data_store.state.current_time;\n      },\n      startRecord(){\n        return this.data_store.state.isRecording;\n      }\n  },\n  watch:{\n    newTime(){\n      if(this.isRecording){\n        this.plot();\n      } \n    },\n    startRecord(){\n      if(this.data_store.state.isRecording){\n        this.record();\n      } \n    }\n  },\n  methods: {\n      record(){\n          if(!this.hasError){\n            this.wrap_index = 0;\n            this.starting_angle = store.state.current_angle;    //in rad    NEW.\n            this.previous_angle = this.starting_angle;\n            store.state.start_time = store.state.current_time;\n            this.data_points_count = 0;\n            this.isRecording = true;\n          } \n          \n      },\n      stopRecording(){\n          this.isRecording = false;\n          store.state.isRecording = false;\n          this.wrap_index = 0;\n          eventBus.$emit('updatetable');\n      },\n      plot(){\n          this.data_points_count++;\n          let angle = parseFloat(store.state.current_angle);\n          let time = store.getTime();\n          let ang_vel = parseFloat(store.state.current_ang_vel);\n          \n\n          //in step and ramp mode, angle value should start from 0 no matter the initial position of encoder.   NEW\n          // if(store.state.inputMode == 'ramp' || store.state.inputMode == 'step'){\n          //   angle = angle - this.starting_angle;\n          // }\n\n          // if(store.state.inputMode == 'step'){\n          //   if(angle < -Math.PI/2.0){\n          //     angle = angle + 2*Math.PI;\n          //   }\n          // }\n\n\n          //=================================ramp mode needs to unwrap the angle=========\n          // if(store.state.inputMode == 'ramp'){\n          //   // if(angle < 0){\n          //   //   angle = angle + 2*Math.PI;\n          //   // }\n\n          //   if(Math.abs(angle - this.previous_angle) > (3/2)*Math.PI){\n          //     this.wrap_index++;\n          //   }\n            \n          //   this.previous_angle = angle;\n\n          //   angle = this.wrap_index*2*Math.PI + angle;\n            \n          // }\n\n          \n\n          //==================================================\n\n          //get values in different units\n          //angle in degrees\n          let angle_deg = angle*180.0/Math.PI;\n          //ang_vel in rad/s\n          let ang_vel_rad = 2*Math.PI*ang_vel/60.0;\n\n          \n          //let data_object = {id: store.getNumData(), t: parseFloat(time), theta: angle, omega: ang_vel, theta_deg:angle_deg, omega_rad: ang_vel_rad, p: store.state.current_p_value, i: store.state.current_i_value, d: store.state.current_d_value};\n          let data_object = {id: store.getNumData(), t: parseFloat(time), theta: angle, omega: ang_vel, theta_deg:angle_deg, omega_rad: ang_vel_rad, command: store.state.current_command_value, drive: store.state.current_drive, error: store.state.current_error};\n          //this.$store.dispatch('addData', data_object);\n          store.addData(data_object);\n          //eventBus.$emit('updateGraph');\n          //eventBus.$emit('updatetable');\n          this.hasPlotted = true;\n          \n\n      },\n    //   addToGraph(){\n    //       eventBus.$emit('updateGraph');\n    //   },\n      clearGraph(){\n          //this.$store.dispatch('clearAllData');\n          store.clearAllData();\n          eventBus.$emit('clearalldata');\n          this.hasPlotted = false;\n          this.wrap_index = 0;\n          if(store.state.current_angle < 0){\n            this.previous_angle = store.state.current_angle + 2*Math.PI;\n          } else{\n            this.previous_angle = store.state.current_angle;\n          }\n          \n      },\n      outputToCSV(){\n          let csv = '';\n          let filename = '';\n            let date = new Date();\n            filename = date.getDate().toString() + (date.getMonth() + 1).toString() + date.getFullYear().toString();\n          // if(store.state.graphDataParameter == 'theta'){\n          //     filename += 'Position';\n          //     csv = 'Time/s,Angle/rad,p,i,d\\n';\n          //   //let data = this.$store.getters.getData;\n          //   let data = store.state.data;\n          //   data.forEach(function(d){\n          //       csv += d.t.toString();\n          //       csv += \",\";\n          //       csv += d.theta.toString();\n          //       if(d.p != null){\n          //         csv += \",\";\n          //       csv += d.p.toString();\n          //       csv += \",\";\n          //       csv += d.i.toString();\n          //       csv += \",\";\n          //       csv += d.d.toString();\n          //       }\n                \n          //       csv += \"\\n\";\n          //   });\n          // } else if(store.state.graphDataParameter == 'omega'){\n          //     filename += 'AngularVelocity';\n          //     csv = 'Time/s,AngVel/rad/s,p,i,d\\n';\n          //   //let data = this.$store.getters.getData;\n          //   let data = store.state.data;\n          //   data.forEach(function(d){\n          //       csv += d.t.toString();\n          //       csv += \",\";\n          //       csv += d.omega_rad.toString();\n          //       if(d.p != null){\n          //         csv += \",\";\n          //       csv += d.p.toString();\n          //       csv += \",\";\n          //       csv += d.i.toString();\n          //       csv += \",\";\n          //       csv += d.d.toString();\n          //       }\n          //       csv += \"\\n\";\n          //   });\n          // } else{\n              csv = 'Time/s,Angle/rad,AngVel/rad/s,Command,Drive,Error\\n';\n            //let data = this.$store.getters.getData;\n            let data = store.state.data;\n            data.forEach(function(d){\n                csv += d.t.toString();\n                csv += \",\";\n                csv += d.theta.toString();\n                csv += ',';\n                csv += d.omega_rad.toString();\n                if(d.command != null){\n                  csv += \",\";\n                  csv += d.command.toString();\n                } else {\n                  csv += \",\";\n                  csv += \"\";\n                }\n                if(d.drive != null){\n                  csv += \",\";\n                  csv += d.drive.toString();\n                } else{\n                  csv += \",\";\n                  csv += \"\";\n                }\n\n                if(d.error != null){\n                  csv += \",\";\n                  csv += d.error.toString();\n                } else{\n                  csv += \",\";\n                  csv += \"\";\n                }\n                \n                \n                \n                \n                csv += \"\\n\";\n            });\n          //}\n            filename += '.csv';\n          //console.log(csv);\n          let hiddenElement = document.createElement('a');\n          hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\n          hiddenElement.target = '_blank';\n          hiddenElement.download = filename;\n          hiddenElement.click();\n      },\n      checkValueRange(value){\n        if(value >= this.time_interval_min){\n          return 'OK';\n        } else{\n          return 'Too small';\n        }\n      },\n      \n  }\n}\n</script>\n\n<style scoped>\n\n.error{\n    border:thick solid red\n}\n\n.error:focus{\n    border:thick solid red\n}\n\n#recordButton       {background-color: rgb(0, 255, 8);}\n#recordButton:hover {background-color: #3e8e41} \n\n#stopButton       {background-color: #e13131ff;}\n#stopButton:hover {background-color: #cc1e1eff;}\n\n#clearButton  {background-color: #e17a31ff;}\n#clearButton:hover  {background-color: #cc661eff;}\n\n#outputButton        {background-color: #e1b131ff;}\n#outputButton:hover  {background-color: #cc9d1eff;}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRecorder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRecorder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataRecorder.vue?vue&type=template&id=f280e43e&scoped=true&\"\nimport script from \"./DataRecorder.vue?vue&type=script&lang=js&\"\nexport * from \"./DataRecorder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataRecorder.vue?vue&type=style&index=0&id=f280e43e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f280e43e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-5 pb-2\"},[_c('b-navbar',{attrs:{\"toggleable\":\"lg\",\"type\":\"dark\",\"variant\":\"primary\",\"fixed\":\"top\"}},[_c('b-navbar-brand',{attrs:{\"href\":\"#\"}},[_vm._v(\"Remote Lab: \"+_vm._s(_vm.labName)+\" \")]),_c('b-navbar-toggle',{attrs:{\"target\":\"nav-collapse\"}}),_c('b-collapse',{attrs:{\"id\":\"nav-collapse\",\"is-nav\":\"\"}},[_c('b-navbar-nav',[_c('b-nav-item-dropdown',{attrs:{\"text\":\"Tools\",\"right\":\"\"}},[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.addTool(\"ruler\")}}},[_vm._v(\"Ruler\")]),_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.addTool(\"protractor\")}}},[_vm._v(\"Protractor\")])],1),_c('b-nav-item',{on:{\"click\":_vm.clearWorkspace}},[_vm._v(\"Clear Tools\")]),_c('b-nav-item',{on:{\"click\":_vm.toggleInstructions}},[_vm._v(\"Instructions\")])],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-text',[_c('clock')],1)],1)],1)],1),_c('div',{staticClass:\"row\"},[(_vm.isInstructionsOn)?_c('div',{staticClass:\"col-sm-12 mt-5\"},[_c('instructions')],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"row\"}},[_c('div',{attrs:{\"id\":\"sessionTime\"}},[_vm._v(\" Session ends in: \"+_vm._s(_vm.current_time_left))]),_c('b-tooltip',{attrs:{\"triggers\":\"hover\",\"delay\":{show:0,hide:0},\"target\":\"sessionTime\"}},[_c('p',[_vm._v(\"Session ends at:\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.sessionEndTime))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div id='row'>\n    <!-- <div id='italic'>{{current_time}} Session ends at: {{sessionEndTime}} in: {{current_time_left}}</div> -->\n    <div id='sessionTime'> Session ends in: {{current_time_left}}</div>\n    <b-tooltip triggers='hover' :delay=\"{show:0,hide:0}\" target=\"sessionTime\"><p>Session ends at:</p> <p>{{sessionEndTime}}</p></b-tooltip>\n\n</div>\n</template>\n\n<script>\nimport { eventBus } from \"../main.js\";\n\nexport default {\n\n  name: 'Clock',\n  data () {\n    return {\n        current_time: '',           //in clock format\n        current_time_left: '',      //in minutes and seconds\n        interval_id: 0,\n    }\n  },\n  components: {\n    \n  },\n  computed:{\n      sessionEndTime(){\n          let date = new Date(this.$store.getters.getExpiryTime*1000);\n          return this.getTime(date);\n      }\n  },\n  watch:{\n      \n  },\n  created(){\n      \n  },\n  mounted(){\n      this.interval_id = setInterval(() => {\n          this.updateClock() \n      }, 1000);\n\n  },\n  methods: {\n      addZeroes(value){\n          if(value < 10){\n              return \"0\" + value;\n          } else {\n              return value;\n          }\n      },\n      updateClock(){\n          //get the new date\n          let date = new Date();\n          //use this to get time in format hh:mm:ss\n          this.current_time = this.getTime(date);\n          //get the time left to go in mm:ss\n          this.current_time_left = this.getTimeLeft(date);\n      },\n      getTime(date){\n          \n          let hour = date.getHours();\n          let min = date.getMinutes();\n          let sec = date.getSeconds();\n\n          hour = this.addZeroes(hour);\n          min = this.addZeroes(min);\n          sec = this.addZeroes(sec);\n\n          return hour + \":\" + min + \":\" + sec;\n      },\n      getTimeLeft(date){\n          let interval = this.$store.getters.getExpiryTime*1000 - date.getTime();       //in milliseconds\n          let seconds = interval / 1000.0;\n          let minutes = Math.floor(seconds/60);     //number of full minutes\n          seconds = Math.floor(seconds % 60);               //remaining seconds\n\n          minutes = this.addZeroes(minutes);\n          seconds = this.addZeroes(seconds);\n\n          if(interval > 0){\n              return minutes + \" min : \" + seconds + \" secs\"; \n          } else {\n              eventBus.$emit('stop');\n              eventBus.$emit('sessionended', true);\n              clearInterval(this.interval_id);\n              return 'ENDED'\n          }\n          \n      }\n      \n  }\n}\n</script>\n\n<style scoped>\n#sessionTime{\n    font-style: italic;\n    color: white;\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Clock.vue?vue&type=template&id=782fb438&scoped=true&\"\nimport script from \"./Clock.vue?vue&type=script&lang=js&\"\nexport * from \"./Clock.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Clock.vue?vue&type=style&index=0&id=782fb438&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"782fb438\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2 p-2 bg-white border rounded\"},[_c('div'),_c('div',{staticClass:\"text-left\"},[_c('p',[_vm._v(\"To control the DC Motor simply slide the 'Input voltage' slider to your chosen voltage value. To 'Stop' the motor click the red 'Stop' button.\")]),_c('p',[_vm._v(\" The graph will automatically display the live angular velocity data coming from the optical encoder attached to the DC Motor. To record data for download or to take data snapshots, click the 'Record' button at the bottom of the page. The data streamed from the hardware will now be recorded and can be downloaded for analysis by clicking 'Download CSV'. Snapshots of this data can also be displayed on screen by clicking 'Record Snapshot'. There is a size limit to the data recorded, so it should be used to capture periods of time of around 20 seconds. \")]),_c('p',[_vm._v(\"Hotkeys:\")]),_c('p',[_vm._v(\"Press 'w' to swap between workspace (ruler and protractor tool) and the UI.\")]),_c('p',[_vm._v(\"Rotate a tool by holding 'o' and clicking and dragging it.\")]),_c('p',[_vm._v(\"Click 'Clear Tools' in the navigation bar to remove the ruler and protractor.\")])])])}]\n\nexport { render, staticRenderFns }","\n\n\n<template>\n<div class='m-2 p-2 bg-white border rounded'>\n  <div>\n\n  </div>\n\n  <div class='text-left'>\n    <p>To control the DC Motor simply slide the 'Input voltage' slider to your chosen voltage value. To 'Stop' the motor click the red 'Stop' button.</p>\n      \n      <p>\n      The graph will automatically display the live angular velocity data coming from the optical encoder attached to the DC Motor. \n      To record data for download or to take data snapshots, click the 'Record' button at the bottom of the page. The data streamed from the hardware will now be recorded and can be downloaded for analysis by \n      clicking 'Download CSV'. Snapshots of this data can also be displayed on screen by clicking 'Record Snapshot'. There is a size limit to the data recorded, so it should be used to capture periods of time of \n      around 20 seconds.\n       </p>\n        <p>Hotkeys:</p>\n          <p>Press 'w' to swap between workspace (ruler and protractor tool) and the UI.</p>\n          <p>Rotate a tool by holding 'o' and clicking and dragging it.</p>\n          <p>Click 'Clear Tools' in the navigation bar to remove the ruler and protractor.</p>\n  </div>\n  \n</div>\n</template>\n\n<script>\n\n\n\nexport default {\n\n  name: 'Instructions',\n  props:{\n      \n  },\n  data () {\n    return {\n       \n    }\n  },\n  components: {\n    \n  },\n  mounted(){\n    \n  },\n  computed:{\n      \n  },\n  methods: {\n      \n  }\n}\n</script>\n\n<style scoped>\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Instructions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Instructions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Instructions.vue?vue&type=template&id=12867391&scoped=true&\"\nimport script from \"./Instructions.vue?vue&type=script&lang=js&\"\nexport * from \"./Instructions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12867391\",\n  null\n  \n)\n\nexport default component.exports","//NAVIGATION BAR COMPONENT: Includes menu items for adding UI components; tools menu for adding UI tools like ruler and protractor\n\n//TODO: Include user login alerts and profile data.\n\n\n<template>\n    <div class='mb-5 pb-2'>\n  <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"primary\" fixed=\"top\">\n    <b-navbar-brand href=\"#\">Remote Lab: {{labName}} </b-navbar-brand>\n\n    <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n    \n    <b-collapse id=\"nav-collapse\" is-nav>\n        <!--Left aligned menu items-->\n      <b-navbar-nav>\n        <!-- <b-nav-item-dropdown text=\"Menu\" right>\n            <b-dropdown-item @click='toggleComponent(\"graph\")'>Graph</b-dropdown-item>\n            <b-dropdown-item @click='toggleComponent(\"graphinput\")'>Graph Input</b-dropdown-item>\n            <b-dropdown-item @click='toggleComponent(\"datarecorder\")'>Data Recorder</b-dropdown-item>\n            <b-dropdown-item @click='toggleComponent(\"stopwatch\")'>Stopwatch</b-dropdown-item>\n            <b-dropdown-item @click='toggleComponent(\"table\")'>Table</b-dropdown-item>\n            <b-dropdown-item @click='toggleComponent(\"systemdiagrams\")'>System Diagrams</b-dropdown-item>\n            <b-dropdown-item @click='toggleComponent(\"snapshot\")'>Data Snapshot</b-dropdown-item>\n            \n            \n        </b-nav-item-dropdown> -->\n\n        <b-nav-item-dropdown text=\"Tools\" right>\n          <b-dropdown-item @click='addTool(\"ruler\")'>Ruler</b-dropdown-item>\n          <b-dropdown-item @click='addTool(\"protractor\")'>Protractor</b-dropdown-item>\n        </b-nav-item-dropdown>\n\n        <!-- <b-nav-item-dropdown v-if='taskOptionsAvailable' text=\"Tasks\" right>\n          <b-dropdown-item v-if='remoteLabVersion == \"variable_governor\" || remoteLabVersion == \"spinning_disk\"' @click='setExercise1v1'>Exercise 1.1</b-dropdown-item>\n          <b-dropdown-item v-if='remoteLabVersion == \"variable_governor\"' @click='setExercise1v2'>Exercise 1.2</b-dropdown-item>\n          <b-dropdown-item v-if='remoteLabVersion == \"robot_arm\"' @click='setExercise1v3'>Exercise 1.3</b-dropdown-item>\n          <b-dropdown-item v-if='remoteLabVersion == \"robot_arm\"' @click='setExercise2v1'>Exercise 2.1</b-dropdown-item>\n        </b-nav-item-dropdown> -->\n\n        <b-nav-item @click='clearWorkspace'>Clear Tools</b-nav-item>\n\n        <b-nav-item @click='toggleInstructions'>Instructions</b-nav-item>\n\n      </b-navbar-nav>\n\n      <!-- Right aligned nav items -->\n      <b-navbar-nav class=\"ml-auto\">\n        <!-- <b-nav-form>\n          <b-form-input size=\"sm\" class=\"mr-sm-2\" placeholder=\"Search\"></b-form-input>\n          <b-button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\">Search</b-button>\n        </b-nav-form> -->\n        \n        <b-nav-text><clock /></b-nav-text>\n      </b-navbar-nav>\n    </b-collapse>\n  </b-navbar>\n\n<div class='row'>\n  <div v-if='isInstructionsOn' class='col-sm-12 mt-5'>\n        <instructions />\n    </div>\n  \n</div>\n\n</div>\n</template>\n\n<script>\n//import { store } from \"../simplestore.js\";\nimport { eventBus } from \"../main.js\";\n//import userData from '../userDataStore';\nimport Clock from \"./Clock.vue\";\nimport Instructions from \"./Instructions.vue\";\n\nexport default {\n\n  name: 'NavigationBar',\n  props:{\n      remoteLabVersion: String,\n  },\n  data () {\n    return {\n        taskOptionsAvailable: true,         //remove option for tasks to be preset.\n        isInstructionsOn: false,\n    }\n  },\n  components: {\n    Clock,\n    Instructions,\n  },\n  mounted(){\n    \n  },\n  computed:{\n      // getUserEmail(){\n      //   return userData.getters.getUserEmail;\n      // },\n      labName(){\n        if(this.remoteLabVersion == 'variable_governor'){\n          return 'Variable Governor';\n        } else if(this.remoteLabVersion == 'spinning_disk'){\n          return 'Spinning Disk';\n        } else{\n          return 'Robot Arm';\n        }\n      }\n  },\n  methods: {\n      addTool(tool){\n          this.toggleComponent('workspace');\n          setTimeout(function(){\n              eventBus.$emit('add' + tool), 100});  //give the workspace time to initialise and then send tool event\n          \n      },\n      toggleComponent(component){\n          eventBus.$emit('toggle' + component);\n      },\n      clearWorkspace(){\n          eventBus.$emit('clearworkspace');\n      },\n      // logout(){\n      //   userData.dispatch('logout');\n      // },\n      setExercise1v1(){\n        eventBus.$emit('setexercise1v1');\n      },\n      setExercise1v2(){\n        eventBus.$emit('setexercise1v2');\n      },\n      setExercise1v3(){\n        eventBus.$emit('setexercise1v3');\n      },\n      setExercise2v1(){\n        eventBus.$emit('setexercise2v1');\n      },\n      toggleInstructions(){\n          this.isInstructionsOn = !this.isInstructionsOn;\n      }\n  }\n}\n</script>\n\n<style scoped>\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavigationBar.vue?vue&type=template&id=aae7378a&scoped=true&\"\nimport script from \"./NavigationBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aae7378a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('webcam-stream')],1),_c('div',{staticClass:\"col-sm-6\"},[_c('data-stream'),_c('motor-snapshot')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-sm m-2 bg-white border rounded\"},[_c('div',{staticClass:\"row\",attrs:{\"id\":\"video\"}},[_c('div',{staticClass:\"col-12\"},[_c('video-element',{attrs:{\"url\":_vm.url}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.hasSessionEnded)?_c('div',{staticClass:\"row\"},[_vm._m(0)]):_c('div',[_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('img',{attrs:{\"id\":\"session-end-image\",\"src\":\"https://assets.practable.io/images/common/thank-you-screen.svg\",\"alt\":\"session ended\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('canvas',{attrs:{\"id\":\"video-canvas\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\n\n<div v-if='hasSessionEnded' class='row'>\n  <div class='col-12'>\n        <img id='session-end-image' src='https://assets.practable.io/images/common/thank-you-screen.svg' alt='session ended'>\n    </div>\n</div>\n<div v-else>\n  <div class='row'>\n      <div class='col-12'>\n        <canvas id=\"video-canvas\"></canvas>\n      </div>\n    </div>\n</div>    \n    \n    \n    <!-- <div id='videoWrapper'></div> -->\n</template>\n\n<script>\nimport JSMpeg from \"@cycjimmy/jsmpeg-player\";\nimport { eventBus } from \"../main.js\";\n\nexport default {\n  name: \"VideoElement\",\n  props: [\"url\"],\n  data(){\n        return{\n          player: null,\n          hasSessionEnded: false,\n        }\n    },\n    computed:{\n        getUrl(){\n            return this.$store.getters.getVideoURL;\n        }\n    },\n    watch:{\n        getUrl(){\n            let canvas = document.getElementById(\"video-canvas\");\n            this.player = new JSMpeg.Player(this.url, {canvas: canvas});\n            // let url = this.$store.getters.getVideoURL;\n            // this.player = new JSMpeg.VideoElement(\"#videoWrapper\", url, {\n            //     autoplay: true,\n            //     chunkSize: 10 * 1024 * 1024,\n            // });\n        }\n    },\n    created(){\n      eventBus.$on('sessionended', (ended) => {this.hasSessionEnded = ended});\n    },\n  mounted() {\n    //only for debugging\n    //let canvas = document.getElementById(\"video-canvas\");\n\t\t//let playerUrl = 'wss://video.practable.io:443/out/dpr/video0';\t\t//for robot arm\n\t\t//let playerUrl = 'wss://video.practable.io:443/out/dpr/video1';\t\t//for variable governor\n\t\t//let playerUrl = 'wss://video.practable.io:443/out/dpr/video2';\t\t//for spinner\n\t\t\n    // new JSMpeg.Player(playerUrl, {canvas: canvas});\n    \n      //let canvas = document.getElementById(\"video-canvas\");\n      \n      //this.player = new JSMpeg.Player(this.url, {canvas: canvas});\n    // this.player = new JSMpeg.VideoElement(\"#videoWrapper\", this.url, {\n    //   autoplay: true,\n    //   chunkSize: 10 * 1024 * 1024,\n    // });\n  },\n};\n\n\n</script>\n\n<style>\n    #video-canvas {\n      width: 100%;\n      /* height: 100%; */\n    }\n\n    #session-end-image {\n      width: 100%;\n      /* height: 100%; */\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoElement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoElement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoElement.vue?vue&type=template&id=47be47af&\"\nimport script from \"./VideoElement.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoElement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoElement.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class='container-sm m-2 bg-white border rounded'>\n<div class='row' id=\"video\">\n\t<div class='col-12'>\n\t\t<!-- <canvas id=\"video-canvas\"></canvas> -->\n\t\t<video-element :url=\"url\" />\n\t</div>\n</div>\n</div>\n</template>\n\n<script>\n//import * as pendulum from \"../pendulum\";\n//import { eventBus } from \"../main\";\n//import { JSMpeg } from \"../../public/js/jsmpeg.min.js\";\n//import JSMpeg from \"jsmpeg\";\n//import JSMpeg from '@cycjimmy/jsmpeg-player';\n//playerUrl = scheme + host + ':' + port + '/' + stream;\n//let playerUrl = 'ws://video.practable.io:8080/out/dpr/video0';\nimport axios from \"axios\";\nimport VideoElement from \"./VideoElement.vue\";\n\nexport default {\n\tname: \"WebcamStream\",\n\tcomponents:{\n\t\tVideoElement,\n\t},\n    data(){\n        return{\n\t\t\t// player: null,\n\t\t\tstream: Object,\n        }\n    },\n    computed:{\n\t\turlOK() {\n\t\t\treturn this.$store.getters.getVideoURLObtained;\n\t\t},\n\t\tstreamOK(){\t\t\t\n\t\t\treturn this.$store.getters.getStream(\"video\");\n\t\t},\n\t\turl(){\n\t\t\treturn this.$store.getters.getVideoURL;\n\t\t\t\n\t\t},\n\t\t\n\t},\n\tmounted(){\n\t\tvar _this = this;\n\t\tvar reconnect = function () {\n\t\t\t_this.accessVideo();\n\t\t};\n\t\t//make second and subsequent connections\n\t\tdocument.addEventListener(\"streams:dropped\", reconnect);\n\t},\n\tmethods:{\n\t\taccessVideo(){\n\t\t\tthis.stream = this.$store.getters.getStream(\"video\");\n\t\t\t\tvar accessURL = this.stream.url;\n\t\t\t\tvar token = this.stream.token;\n\t\t\t\tvar store = this.$store;\n\t\t\t\tstore.dispatch(\"deleteVideoURL\");\t\t////THIS HAS BEEN ADDED\n\t\t\t\taxios\n\t\t\t\t.post(accessURL, {}, { headers: { Authorization: token } })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tstore.dispatch(\"setVideoURL\", response.data.uri);\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t},\n\twatch:{\n\t\tstreamOK: function(is) {\n\t\t\tif (is) {\n\t\t\t\tthis.accessVideo();\n\t\t\t} else{\n\t\t\t\tconsole.log(\"no stream\");\n\t\t\t}\n    },\n\t\turlOK(is) {\n\t\t\tif (is) {\n\t\t\t\tconsole.log(\"get videoURL\", this.urlOK, this.url);\n\t\t\t}\n\t\t},\n\n\t}\n}\n\n\n</script>\n\n<style scoped>\n#video-canvas{\n\twidth:80%;\n\theight: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebcamStream.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebcamStream.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WebcamStream.vue?vue&type=template&id=53553830&scoped=true&\"\nimport script from \"./WebcamStream.vue?vue&type=script&lang=js&\"\nexport * from \"./WebcamStream.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WebcamStream.vue?vue&type=style&index=0&id=53553830&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53553830\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.version == \"spinning_disk\")?_c('div',[_c('control-panel-spinning-disk',{attrs:{\"remoteLabVersion\":_vm.version,\"isDataRecorderOn\":_vm.dataRecorder,\"disableTooltips\":_vm.tooltips,\"url\":_vm.url}})],1):(_vm.version == \"robot_arm\")?_c('div',[_c('control-panel-robot-arm',{attrs:{\"remoteLabVersion\":_vm.version,\"isDataRecorderOn\":_vm.dataRecorder,\"disableTooltips\":_vm.tooltips,\"url\":_vm.url}})],1):(_vm.version == \"variable_governor\")?_c('div',[_c('control-panel-variable-governor',{attrs:{\"remoteLabVersion\":_vm.version,\"isDataRecorderOn\":_vm.dataRecorder,\"disableTooltips\":_vm.tooltips,\"url\":_vm.url}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-sm m-2 bg-white border rounded\"},[_c('div',{staticClass:\"row align-content-center m-1\"},[_c('div',{staticClass:\"col-12\"},[_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentMode != \"positionPid\"),expression:\"currentMode != \\\"positionPid\\\"\"}],attrs:{\"id\":\"smoothie-chart_omega\"}})])]),_c('div',{staticClass:\"panel panel-default\"},[_c('div',{staticClass:\"panel-heading\"},[_c('h3',[_vm._v(\"Current mode: \"+_vm._s(_vm.getModeName))])]),_c('div',{staticClass:\"panel-body\"},[_vm._v(_vm._s(this.message))]),_c('div',{class:_vm.getErrorClass},[_c('h3',[_vm._v(_vm._s(this.error))])])]),_c('div',{attrs:{\"id\":\"buttons\"}},[_c('div',{staticClass:\"row align-content-center m-1 btn-group\"},[_c('div',{staticClass:\"col-sm\"},[_c('button',{staticClass:\"btn btn-default btn-lg\",attrs:{\"id\":\"stop\"},on:{\"click\":_vm.stop}},[_vm._v(\"Stop\")])])])]),_c('div',[(_vm.inputMode == \"free\")?_c('div',[_c('DCMotorPanel',{attrs:{\"dataSocket\":_vm.getDataSocket,\"mode\":_vm.currentMode,\"maxV\":12}})],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2 p-2 bg-white border rounded\"},[_c('div',{staticClass:\"form-group row justify-content-center align-items-center pb-2\"},[_c('label',{staticClass:\"col-sm-2 col-form-label\",attrs:{\"for\":\"voltage\"}},[_vm._v(\"Input voltage (\"+_vm._s(_vm.voltage)+\"V)\")]),_c('div',{staticClass:\"col-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.voltage),expression:\"voltage\"}],staticClass:\"slider\",attrs:{\"type\":\"range\",\"min\":-_vm.maxV,\"max\":_vm.maxV,\"step\":\"0.1\",\"list\":\"tickmarks\",\"id\":\"voltage\"},domProps:{\"value\":(_vm.voltage)},on:{\"focus\":_vm.setSpeedRaw,\"change\":_vm.setVoltage,\"__r\":function($event){_vm.voltage=$event.target.value}}})]),_c('label',{staticClass:\"col-sm-2 col-form-label\",attrs:{\"for\":\"ang_vel\"}},[_vm._v(\"Motor angular velocity (rad/s)\")]),(_vm.isAnalogueOutput)?_c('div',{staticClass:\"col-sm-4\"},[_c('analogue-output',{attrs:{\"outputValue\":_vm.angVel,\"minValue\":0,\"maxValue\":300,\"intervalValue\":20,\"minorIntervalValue\":10}})],1):_c('div',{staticClass:\"col-sm-4\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"ang_velocity\"},domProps:{\"value\":_vm.avgAngVel}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-sm m-0 p-0 bg-white\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('canvas',{attrs:{\"id\":\"output\"}})])])])}]\n\nexport { render, staticRenderFns }","<template>\n<div class='container-sm m-0 p-0 bg-white'>\n    <div class='row'>\n        <div class='col-12'>\n            <canvas id='output'></canvas>\n        </div>\n    </div>\n</div>\n\n</template>\n\n<script>\n//import { store } from \"../simplestore.js\";\n//import { eventBus } from \"../main.js\";\n//import ReconnectingWebSocket from 'reconnecting-websocket';\n\nexport default {\n\n  name: 'AnalogueOutput',\n  props: {\n      outputValue: String,\n      minValue: Number,\n      maxValue: Number,\n      intervalValue: Number,\n      minorIntervalValue: Number,\n  },\n  data () {\n    return {\n        canvas: null,\n        ctx: null,\n        arm: 0,         \n    }\n  },\n  created(){\n      \n  },\n  beforeMount(){\n\n  },\n  mounted(){\n      this.canvas = document.getElementById('output');\n      this.ctx = this.canvas.getContext('2d');\n      this.drawDial();\n      this.drawTicks();\n      this.drawMinorTicks();\n      this.drawArm();\n\n  },\n  components: {\n    \n  },\n  computed:{\n     armValue(){\n         let value = this.outputValue;\n         if(isNaN(Number(value))){\n              return 0;\n          } else{\n              return Number(value);\n          }\n     }\n  },\n  watch:{\n      armValue(){\n          this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);  \n          if(isNaN(Number(this.outputValue))){\n              this.arm = 0;\n          } else{\n              this.arm = Math.abs(Number(this.outputValue));\n          }\n          this.drawDial();\n          this.drawTicks();\n          this.drawMinorTicks();\n          this.drawArm();\n      }\n  },\n  methods: {\n      drawArm(){\n        let angle = Math.PI/2 + 2*Math.PI*this.arm/this.maxValue;\n        this.ctx.lineWidth = 4;              // HAND WIDTH.\n\n        this.ctx.beginPath();\n        // START FROM CENTER OF THE CLOCK.\n        this.ctx.moveTo(this.canvas.width / 2, this.canvas.height / 2);   \n        // DRAW THE LENGTH.\n        this.ctx.lineTo((this.canvas.width / 2 + Math.cos(angle) * this.canvas.height/2),\n            this.canvas.height / 2 + Math.sin(angle) * this.canvas.height/2);\n\n\n        this.ctx.strokeStyle = '#586A73';        // COLOR OF THE HAND.\n        this.ctx.stroke();\n      },\n      drawDial(){\n        this.ctx.beginPath();\n        this.ctx.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.height/2 - 5, 0, Math.PI * 2);\n        this.ctx.lineWidth = 3;\n        this.ctx.fillStyle = 'rgba(50, 50, 50, 0.1)';\n        this.ctx.strokeStyle = '#92949C';\n        this.ctx.stroke();\n        this.ctx.fill();\n        \n\n        this.ctx.beginPath();\n        this.ctx.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.height/2, 0, Math.PI * 2);\n        this.ctx.lineWidth = 3;\n        this.ctx.strokeStyle = '#92949C';\n        this.ctx.stroke();\n        \n\n        this.ctx.beginPath();\n        this.ctx.arc(this.canvas.width / 2, this.canvas.height / 2, 5, 0, Math.PI * 2);\n        this.ctx.lineWidth = 3;\n        this.ctx.fillStyle = '#353535';\n        this.ctx.strokeStyle = '#0C3D4A';\n        this.ctx.stroke();\n        this.ctx.fill();\n      },\n      drawTicks(){\n          let num_ticks = (this.maxValue - this.minValue)/this.intervalValue;\n          let angle = Math.PI/2;\n          for (let i = 0; i < num_ticks; i++) {\n            angle = i*2*Math.PI/num_ticks + Math.PI/2;       // THE ANGLE TO MARK.\n            this.ctx.lineWidth = 2;            // HAND WIDTH.\n            this.ctx.beginPath();\n\n            var x1 = (this.canvas.width / 2) + Math.cos(angle) * (this.canvas.height/2);\n            var y1 = (this.canvas.height / 2) + Math.sin(angle) * (this.canvas.height/2);\n            var x2 = (this.canvas.width / 2) + Math.cos(angle) * (this.canvas.height/2 - (this.canvas.height/2 / 4));\n            var y2 = (this.canvas.height / 2) + Math.sin(angle) * (this.canvas.height/2 - (this.canvas.height/2 / 4));\n\n            this.ctx.moveTo(x1, y1);\n            this.ctx.lineTo(x2, y2);\n\n            this.ctx.strokeStyle = '#466B76';\n            this.ctx.stroke();\n\n            this.drawTickValue((this.minValue + i*this.intervalValue).toString(), x2, y2);\n        }\n      },\n      drawTickValue(value, x, y){\n          this.ctx.font = \"10px Arial\";\n          this.ctx.textAlign = \"center\";\n          this.ctx.fillText(value, x, y); \n      },\n      drawMinorTicks(){\n          let num_ticks = (this.maxValue - this.minValue)/this.minorIntervalValue;\n          let angle = Math.PI/2;\n          for (let i = 0; i < num_ticks; i++) {\n            angle = i*2*Math.PI/num_ticks + Math.PI/2;       // THE ANGLE TO MARK.\n            this.ctx.lineWidth = 1;            // HAND WIDTH.\n            this.ctx.beginPath();\n\n            var x1 = (this.canvas.width / 2) + Math.cos(angle) * (this.canvas.height/2);\n            var y1 = (this.canvas.height / 2) + Math.sin(angle) * (this.canvas.height/2);\n            var x2 = (this.canvas.width / 2) + Math.cos(angle) * (this.canvas.height/2 - (this.canvas.height/2 / 7));\n            var y2 = (this.canvas.height / 2) + Math.sin(angle) * (this.canvas.height/2 - (this.canvas.height/2 / 7));\n\n            this.ctx.moveTo(x1, y1);\n            this.ctx.lineTo(x2, y2);\n\n            this.ctx.strokeStyle = '#466B76';\n            this.ctx.stroke();\n        }\n      },\n\n      \n  }\n}\n</script>\n\n<style scoped>\ncanvas{\n    width:100%;\n    height:auto;\n}\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalogueOutput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalogueOutput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnalogueOutput.vue?vue&type=template&id=699ee62e&scoped=true&\"\nimport script from \"./AnalogueOutput.vue?vue&type=script&lang=js&\"\nexport * from \"./AnalogueOutput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnalogueOutput.vue?vue&type=style&index=0&id=699ee62e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"699ee62e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class='m-2 p-2 bg-white border rounded'>\n   <div class=\"form-group row justify-content-center align-items-center pb-2\">\n        <label class=\"col-sm-2 col-form-label\" for=\"voltage\">Input voltage ({{voltage}}V)</label>\n        <div class=\"col-4\"><input @focus='setSpeedRaw' type=\"range\" :min=\"-maxV\" :max=\"maxV\" step=\"0.1\" v-model=\"voltage\" class=\"slider\" list='tickmarks' id=\"voltage\" @change='setVoltage'></div>\n            \n        <label class=\"col-sm-2 col-form-label\" for=\"ang_vel\">Motor angular velocity (rad/s)</label>\n\n        <div class='col-sm-4' v-if='isAnalogueOutput'>\n            <analogue-output :outputValue=\"angVel\" :minValue=\"0\" :maxValue=\"300\" :intervalValue=\"20\" :minorIntervalValue=\"10\"></analogue-output>\n        </div>\n        <div v-else class='col-sm-4'><input type='text' class='form-control' id=\"ang_velocity\" :value='avgAngVel'></div>\n\n    </div>\n</div>\n\n</template>\n\n<script>\nimport { eventBus } from '../main.js';\nimport { store } from \"../simplestore.js\";\n//import { eventBus } from \"../main.js\";\n//import ReconnectingWebSocket from 'reconnecting-websocket';\nimport AnalogueOutput from \"./AnalogueOutput.vue\";\n\nexport default {\n\n  name: 'DCMotorPanel',\n  props: {\n      dataSocket: WebSocket,\n      maxV: Number,\n      mode: String,\n  },\n  data () {\n    return {\n        data_store: store,\n        voltage: 0,\n        motor_max_voltage: 12.0,\n        isAnalogueOutput: true,\n    }\n  },\n  components: {\n    AnalogueOutput\n  },\n  computed:{\n      angVel(){\n          let data = this.data_store.state.current_ang_vel;\n          //convert to rad/s\n          data = data*2*Math.PI/60;\n          return data;\n      },\n      avgAngVel(){\n          let average = this.data_store.calculateAverageVelocity();\n          return average.toFixed(2);\n      },\n  },\n  watch:{\n      mode(){\n          if(this.mode == 'stopped'){\n              this.voltage = 0;\n          }\n      }\n  },\n  methods: {\n      setSpeedRaw(){\n          eventBus.$emit('setdcmotormode');\n      },\n      onStop(){\n          this.voltage = 0;\n      },\n      setVoltage(){\n          //let signal = (this.voltage/this.motor_max_voltage) * 255;\n          //let signal = this.voltage*100/6.0;        //signal is between 0-100% with 100% -> 6V.\n          let signal = this.voltage;                //send raw voltage\n          this.dataSocket.send(JSON.stringify({\n\t\t\t\tset: \"volts\",\n\t\t\t\tto: signal\n\t\t\t}));\n      },\n      \n      \n  }\n}\n</script>\n\n<style scoped>\n\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DCMotorPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DCMotorPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DCMotorPanel.vue?vue&type=template&id=4f27d050&scoped=true&\"\nimport script from \"./DCMotorPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./DCMotorPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f27d050\",\n  null\n  \n)\n\nexport default component.exports","//This component includes the standard controls for manipulating the hardware.\n//This component does the connection to the data being sent from the hardware. It includes the reconnecting websocket\n//All data transfer between hardware and UI is through this script. Data is added to the store.js file from which other components access it.\n\n//TODO:\n// Need to add tooltips to all components\n\n\n<template> \n<div class='container-sm m-2 bg-white border rounded'>\n\t<div class='row align-content-center m-1'>\n\t\t<div class='col-12'>\n\t\t\t<!-- <canvas v-show='currentMode == \"positionPid\"' id=\"smoothie-chart_theta\"></canvas> -->\n\t\t\t<canvas v-show='currentMode != \"positionPid\"' id=\"smoothie-chart_omega\"></canvas>\n\t\t</div>\n\t</div>\n\n\t<div class=\"panel panel-default\">\n\t\t<div class='panel-heading'><h3>Current mode: {{getModeName}}</h3></div>\n\t\t<div class='panel-body'>{{this.message}}</div>\n\t\t<div :class='getErrorClass'><h3>{{this.error}}</h3></div>\n\t</div>\n\n\t<div id=\"buttons\">\n\t\t<div class='row align-content-center m-1 btn-group'>\n\t\t\t<div class='col-sm'>\n\t\t\t\t<!-- <button v-if='currentMode == \"stopped\"' id=\"pidspeed\" class=\"btn btn-default btn-lg mr-1\" @click=\"speedPid\">Velocity (PID)</button>\n\t\t\t\t<button v-if='currentMode == \"stopped\"' id=\"pidposition\" class=\"btn btn-default btn-lg mr-1\" @click=\"positionPid\">Position (PID)</button>\t -->\n\t\t\t\t<!-- <button v-if='currentMode == \"stopped\"' id=\"dcmotor\" class=\"btn btn-default btn-lg mr-1\" @click=\"speedRaw\">Voltage (open loop)</button> -->\n\t\t\t\t<button id=\"stop\" class=\"btn btn-default btn-lg\" @click=\"stop\">Stop</button>\n\n\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n<!-- \nv-if='currentMode == \"positionPid\" || currentMode == \"speedPid\" || currentMode == \"speedRaw\"' -->\n<div >\n\n\t<div v-if='inputMode == \"free\"'>\n\n\t\t<DCMotorPanel v-bind:dataSocket=\"getDataSocket\" :mode='currentMode' :maxV=\"12\" />\n\t\n\t</div>\n\n\n</div>\n\t\n\n\n</div>\n</template>\n\n<script>\nimport { store } from \"../simplestore.js\";\nimport { eventBus } from \"../main\";\n//import ReconnectingWebSocket from 'reconnecting-websocket';\nimport { SmoothieChart } from 'smoothie';\nimport { TimeSeries } from 'smoothie';\nimport DCMotorPanel from './DCMotorPanel.vue';\n\nexport default {\n\tname: \"ControlPanel\",\n\tprops:{\n\t\tisDataRecorderOn: Boolean,\n\t\tdisableTooltips: Boolean,\n\t\tremoteLabVersion: String,\n\t\turl: String,\n\t},\n\tcomponents:{\n\t\tDCMotorPanel,\n\t},\n    data(){\n        return{\n\t\t\tdataSocket: null,\n\t\t\tspeedParam: 0,\t\t\t//in rad/sec FOR NEW FIRMWARE\n\t\t\tangleParam: 0,\t\t\t//in rads for new firmware\n\t\t\tkpParam: 1,\n\t\t\tkiParam: 0,\n\t\t\tkdParam: 0,\n\t\t\tdtParam: 20,\n\t\t\tisStopped: true,\n\t\t\tchangingMode: false,\n\t\t\tcurrentMode: \"stopped\",\t\t//ONLY speedRaw WHILST USING SIMPLE PID UI\n\t\t\tinputMode: 'free',\t\t//'step', 'ramp'\n\t\t\tmessage: '',\t\t\t\t//for sending user messages to screen\n\t\t\terror:'',\t\t\t\t\t//for sending errors to screen\n\t\t\tcanvas_omega: null,\n\t\t\tcanvas_theta: null,\n\t\t\tang_vel_max: 1000,\n\t\t\tang_vel_min: -1000,\n\t\t\tangle_max: 3.14,\n\t\t\tangle_min: -3.14,\n\t\t\ttimerParam: 30,\t\t\t//hardware stop timer in seconds\n\t\t\ttooltip_delay: 2000,\n\t\t\tshowInputType: true,\n\t\t\tmax_parameter_values:{\t\t//default values, but setMaxParameters function changes these depending on mode.\n\t\t\t\tkp: 10,\n\t\t\t\tki: 10,\n\t\t\t\tkd: 5,\n\t\t\t\tdt: 20,\n\t\t\t},\n\t\t\tmin_parameter_values:{\n\t\t\t\tkp: 0,\n\t\t\t\tki: 0,\n\t\t\t\tkd: 0,\n\t\t\t\tdt: 0.01,\n\t\t\t},\n        }\n    },\n    created(){\n\t\teventBus.$on('stop', this.stop);\n\t\teventBus.$on('setfreeinput', this.setFreeMode);\n\t\teventBus.$on('setstepinput', this.setStepMode);\n\t\teventBus.$on('setrampinput', this.setRampMode);\n\t\teventBus.$on('setdcmotormode', this.speedRaw);\t\n\t\teventBus.$on('setpidspeedmode', this.speedPid);\t\n\t\teventBus.$on('setpidpositionmode', this.positionPid);\n\t\teventBus.$on('hardwarestop', this.hasStopped);\t\n\t\teventBus.$on('showinputtype', (on) => {this.showInputType = on});\n\n\t\teventBus.$on('maxdatapointsreached', () => {this.error = 'Max data points reached, graphing automatically stopped'});\n\t},\n\tmounted(){\n\t\t\n\t\t\n\t\t\n\t},\n\tcomputed: {\n\t\tgetDataSocket(){\n\t\t\treturn this.dataSocket;\n\t\t},\n\t\tgetUrl(){\n            return this.$store.getters.getDataURL;\n\t\t},\n\t\tversion(){\n            return this.$store.getters.getRemoteLabVersion;\n        },\n        dataRecorder(){\n            return this.$store.getters.getIsDataRecorderOn;\n        },\n        tooltips(){\n            return this.$store.getters.getDisableTooltips;\n\t\t},\n\t\tgetModeName(){\n\t\t\tif(this.currentMode == 'positionPid'){\n\t\t\t\treturn 'position (PID)';\n\t\t\t} else if (this.currentMode == 'speedPid'){\n\t\t\t\treturn 'velocity (PID)';\n\t\t\t} else if(this.currentMode == 'speedRaw'){\n\t\t\t\treturn 'voltage (open loop)';\n\t\t\t} else {\n\t\t\t\treturn this.currentMode;\n\t\t\t}\n\t\t},\n\t\tgetErrorClass(){\n\t\t\tif(this.error == ''){\n\t\t\t\treturn \"\"\n\t\t\t} else {\n\t\t\t\treturn \"error-message border border-danger\";\n\t\t\t}\n\t\t}\n\t},\n\twatch:{\n        async getUrl(){\n            await this.connect();\n\t\t\tconsole.log('connection complete');\n\t\t\t//setTimeout(this.setParameters, 2000);\n\t\t\t//this.setParameters();\t\t\t//resets the parameters to default settings on UI\n\t\t\t//console.log('params set');\n\n\t\t\t//set the graph data parameter in store\n\t\t\tstore.setGraphDataParameter('omega');\n\t\t\t},\n\t\t// getDataSocket(){\n\t\t// \tif(this.dataSocket != null){\n\t\t// \t\tsetTimeout(this.setParameters, 500);\n\t\t// \t}\n\t\t\t\n\t\t// }\n    },\n\tmethods:{\n\t\tstop(){\n\t\t\tthis.clearMessages();\n\t\t\tif(this.inputMode == 'ramp'){\n\t\t\t\teventBus.$emit('stopramp');\n\t\t\t}\n\t\t\tthis.showInputType = true;\n\t\t\tthis.speedParam = 0;\n\t\t\tthis.currentMode = 'stopped';\n\t\t\tthis.dataSocket.send(JSON.stringify({\n\t\t\t\tset: \"mode\",\n\t\t\t\tto: \"stop\"\n\t\t\t}));\n\t\t\tthis.changingMode = false;\n\t\t\tthis.updateStore();\n\t\t},\n\t\thasStopped(message){\n\t\t\tif(this.currentMode != 'stopped'){\n\t\t\t\tthis.clearMessages();\n\t\t\t\tthis.showInputType = true;\n\t\t\t\tthis.error = 'Automatic stop: ' + message;\n\t\t\t\t\n\t\t\t\tthis.speedParam = 0;\n\t\t\t\tthis.currentMode = 'stopped';\n\t\t\t\tthis.changingMode = false;\n\t\t\t\tthis.updateStore();\n\t\t\t}\n\t\t},\n\t\t// speedPid(){\n\t\t// \tthis.clearMessages();\n\t\t// \tthis.setMaxParameters('speedPid');\n\t\t// \tif(this.currentMode == 'stopped'){\n\t\t// \t\tstore.setGraphDataParameter('omega');\n\t\t// \t\tthis.currentMode = 'speedPid';\n\t\t// \t\tthis.dataSocket.send(JSON.stringify({\n\t\t// \t\tset: \"mode\",\n\t\t// \t\tto: \"velocity\"\n\t\t// \t\t}));\n\t\t// \t} else{\n\t\t// \t\tthis.error = 'Must STOP before entering speedPid mode';\n\t\t// \t}\n\t\t// \tthis.changingMode = false;\n\t\t// \tthis.updateStore();\n\t\t// \tsetTimeout(this.setParameters, 500);\t\t\t\t\t//when entering pid mode ensure parameters are set\n\t\t// },\n\t\tspeedRaw(){\n\t\t\tthis.clearMessages();\n\t\t\tif(this.currentMode == 'stopped'){\n\t\t\t\tstore.setGraphDataParameter('omega');\n\t\t\t\tthis.currentMode = 'speedRaw';\n\t\t\t\tthis.dataSocket.send(JSON.stringify({\n\t\t\t\tset: \"mode\",\n\t\t\t\tto: \"motor\"\n\t\t\t\t}));\n\t\t\t} else{\n\t\t\t\tthis.error = 'Must STOP before entering speedRaw mode';\n\t\t\t}\n\t\t\t\n\t\t\tthis.changingMode = false;\n\t\t\tthis.updateStore();\n\t\t},\n\t\tsetSpeed(){\n\t\t\tthis.clearMessages();\n\t\t\tthis.showInputType = false;\n\t\t\tif(!isNaN(this.speedParam)){\n\t\t\t\tif(this.currentMode == 'speedPid'){\n\t\t\t\t\tlet speed = parseFloat(this.speedParam);\n\t\t\t\t\tthis.dataSocket.send(JSON.stringify({\n\t\t\t\t\t\tset: \"velocity\",\n\t\t\t\t\t\tto: speed\n\t\t\t}));\n\t\t\t\t} else{\n\t\t\t\t\tthis.error == 'Must be in speedPid mode';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.error = 'Speed parameter is NaN';\n\t\t\t}\n\t\t},\n\t\t// positionPid(){\n\t\t// \tthis.clearMessages();\n\t\t// \tthis.setMaxParameters('positionPid');\n\t\t// \tif(this.currentMode == 'stopped'){\n\t\t// \t\tstore.setGraphDataParameter('theta');\n\t\t// \t\tthis.currentMode = 'positionPid';\n\t\t// \t\tthis.dataSocket.send(JSON.stringify({\n\t\t// \t\tset: \"mode\",\n\t\t// \t\tto: \"position\"\n\t\t// \t\t}));\n\t\t// \t} else{\n\t\t// \t\tthis.error = 'Must STOP before entering positionPid mode';\n\t\t// \t}\n\t\t// \tthis.changingMode = false;\n\t\t// \tthis.updateStore();\n\t\t// \tsetTimeout(this.setParameters, 500);\t\t\t//when entering pid mode ensure parameters are set\n\t\t// },\n\t\t// setPosition(){\n\t\t// \tthis.clearMessages();\n\t\t// \tthis.showInputType = false;\n\t\t// \tif(!isNaN(this.angleParam)){\n\t\t// \t\tif(this.currentMode == 'positionPid'){\n\t\t// \t\t\tlet pos = this.angleParam\t\t\t//anglParam in rad\n\t\t// \t\t\tthis.dataSocket.send(JSON.stringify({\n\t\t// \t\t\tset: \"position\",\n\t\t// \t\t\tto: pos\n\t\t// \t\t\t}));\n\t\t// \t\t} else{\n\t\t// \t\t\tthis.error = 'Must be in positionPid mode';\n\t\t// \t\t}\n\t\t// \t} else {\n\t\t// \t\tthis.error = 'Angle parameter is NaN';\n\t\t// \t}\n\t\t\t\n\t\t\t\n\t\t// },\n\t\t// setParameters(){\n\t\t// \tthis.clearMessages();\n\t\t// \tif(!isNaN(this.kpParam) && !isNaN(this.kiParam) && !isNaN(this.kdParam) && !isNaN(this.dtParam) && this.kpParam >= 0 && this.kiParam >= 0 && this.kdParam >= 0){\n\t\t// \t\tconsole.log('Kp set = ' + parseFloat(this.kpParam));\n\t\t// \t\tthis.dataSocket.send(JSON.stringify({\n\t\t// \t\t\"set\": \"parameters\",\n\t\t// \t\t\"kp\": parseFloat(this.kpParam),\n\t\t// \t\t\"ki\": parseFloat(this.kiParam),\n\t\t// \t\t\"kd\": parseFloat(this.kdParam),\n\t\t// \t}));\n\t\t// \tthis.updateStore();\n\t\t// \tconsole.log(\"parameters sent\");\n\t\t// \t} else{\n\t\t// \t\tthis.error = 'Cannot parse PID parameters';\n\t\t// \t}\n\t\t\t\n\t\t// },\n\t\tsetTimer(){\n\t\t\tthis.clearMessages();\n\t\t\tthis.dataSocket.send(JSON.stringify({\n\t\t\t\tset: \"timer\",\n\t\t\t\tto: this.timerParam\n\t\t\t}));\n\t\t},\n\t\thotkey(event){\n\t\t\tif(event.key == \"s\"){\n\t\t\t\tthis.stop();\n\t\t\t} \n\t\t\t// else if(event.key == 'r'){\n\t\t\t// \teventBus.$emit('runrecord');\n\t\t\t// }\n\t\t},\n\t\tclearMessages(){\n\t\t\tthis.message = '';\n\t\t\tthis.error = '';\n\t\t},\n\t\tupdateStore(){\n\t\t\tstore.state.pid_parameters.Kp = this.kpParam;\n\t\t\tstore.state.pid_parameters.Ki = this.kiParam;\n\t\t\tstore.state.pid_parameters.Kd = this.kdParam;\n\t\t\tstore.state.pid_parameters.dt = this.dtParam\n\t\t\tstore.state.currentMode = this.currentMode;\n\t\t\tstore.state.inputMode = this.inputMode;\n\t\t\tconsole.log('store updated');\n\t\t},\n\t\tsetFreeMode(){\n\t\t\tthis.inputMode = 'free';\n\t\t},\n\t\tsetStepMode(){\n\t\t\tthis.inputMode = 'step';\n\t\t},\n\t\tsetRampMode(){\n\t\t\tthis.inputMode = 'ramp';\n\t\t},\n\t\tresetParameters(){\n\t\t\tthis.kpParam = 1.0;\n\t\t\tthis.kiParam = 0.0;\n\t\t\tthis.kdParam = 0.0;\n\t\t\tthis.dtParam = 20.0;\n\t\t\tthis.setParameters();\n\t\t},\n\t\ttoggleInputType(on){\n\t\t\tconsole.log(\"event emitted\");\n\t\t\tthis.showInputType = on;\n\t\t},\n\t\tasync connect(){\n\t\t\t//dataUrl =  scheme + host + ':' + port + '/' + data;\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tlet dataUrl = this.url;\n\n\t\tconsole.log(\"data URL is =\" + dataUrl);\n\n\t\t// var wsOptions = {\n\t\t// \tautomaticOpen: true,\n\t\t// \treconnectDecay: 1.5,\n\t\t// \treconnectInterval: 500,\n\t\t// \tmaxReconnectInterval: 10000,\n\t\t// }\n\n\t\t//this.dataSocket = new ReconnectingWebSocket(dataUrl, null,wsOptions);\n\t\tthis.dataSocket = new WebSocket(this.url);\n\t\t//console.log(this.dataSocket);\n\n\t\t//let dataOpen = false;\n\t\tvar delay = 0\n\t\tlet avg_delay = 0;\n\t\tlet delays = [];\n\t\tvar messageCount = 0\n\t\tlet a;\n\t\tlet b;\n\t\tlet debug = false;\n\t\t//let wrapEncoder = false;\t\t\t//NO WRAPPING OF ENCODER?\n\n\t\tvar initialSamplingCount = 1200 // 2 mins at 10Hz\n\t\tvar delayWeightingFactor = 60  // 1 minute drift in 1 hour\n\t\t//let encoderPPR = 2000\t\t\t//500 counts per revolution, becomes 2000 pulses per revolution with encoder A and B pins\n\n\t\tlet responsiveSmoothie = true;\n\t\tlet thisTime;\n\t\t\n\t\t//smoothie chart for displaying angular velocity data\n\t\t//maxValue:200,minValue:-200 removed\n\t\tvar chart_omega = new SmoothieChart({responsive: responsiveSmoothie, millisPerPixel:10,grid:{fillStyle:'#ffffff'},maxValue:300,minValue:-300, interpolation:\"linear\",labels:{fillStyle:'#0024ff',precision:2}});\n\t\tthis.canvas_omega = document.getElementById(\"smoothie-chart_omega\");\n\t\tlet series_omega = new TimeSeries();\n\t\tchart_omega.addTimeSeries(series_omega, {lineWidth:2,strokeStyle:'#0024ff'});\n\t\tchart_omega.streamTo(this.canvas_omega, 0);\n\n\t\t//smoothie chart for displaying angle data\n\t\t// var chart_theta = new SmoothieChart({responsive: responsiveSmoothie, millisPerPixel:10,grid:{fillStyle:'#ffffff'}, maxValue:6.28,minValue:-1, interpolation:\"linear\",labels:{fillStyle:'#0024ff',precision:2}});\n\t\t// this.canvas_theta = document.getElementById(\"smoothie-chart_theta\");\n\t\t// let series_theta = new TimeSeries();\n\t\t// chart_theta.addTimeSeries(series_theta, {lineWidth:2,strokeStyle:'#0024ff'});\n\t\t// chart_theta.streamTo(this.canvas_theta, 0);\n\n\t\tthis.dataSocket.onopen = (event) => {\n\t\t\tconsole.log(\"dataSocket open\" + event);\n\n\t\t\tresolve(console.log('opened'));\n\t\t\t//dataOpen = true; \n\t\t\t\n\n\t\t};\n\n\t\tthis.dataSocket.onmessage = (event) => {\n\t\t\t\n\t\t\ttry {\n\t\t\t\tvar obj = JSON.parse(event.data);\n\t\t\t\t\n\t\t\t\t//NEW ADDITION OF PID VALUES\n\t\t\t\tstore.state.current_p_value = obj.p_sig;\n\t\t\t\tstore.state.current_i_value = obj.i_sig;\n\t\t\t\tstore.state.current_d_value = obj.d_sig;\n\t\t\t\tstore.state.current_error = obj.e;\n\t\t\t\tstore.state.current_drive = obj.y;\n\t\t\t\tstore.state.current_command_value = obj.c;\n\t\t\t\t\n\t\t\t\tif(obj.error){\n\t\t\t\t\tthis.hasStopped(obj.error);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tvar msgTime = obj.t;\n\t\t\t\t\tmsgTime = parseFloat(msgTime);\n\t\t\t\t\tvar thisDelay = new Date().getTime() - msgTime\n\t\t\t\t\n\t\t\t\t\tvar enc = obj.d;\t\t\t\t\t\t\t//THIS IS NOW IN RADS\n\t\t\t\t\t//store.state.current_enc_pos = enc;\t\t\t//store as a position between -1000 and 1000\n\t\t\t\t\tvar enc_ang_vel = obj.v;\t\t\t//RAD/S\n\t\t\t\t\tlet enc_ang_vel_rpm = enc_ang_vel*60.0/(2*Math.PI)\n\t\t\t\t\n\n\n\t\t\t\t\tif (messageCount == 0){\n\t\t\t\t\t\tdelay = thisDelay\n\t\t\t\t\t\tdelays[0] = thisDelay;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelays[messageCount%10] = thisDelay;\n\t\t\t\t\t}\n\n\t\t\t\t\tavg_delay = 0;\n\t\t\t\t\tfor (let i=0; i<delays.length;i++){\n\t\t\t\t\t\tavg_delay += delays[i];\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\tavg_delay /= delays.length;\n\t\t\t\t\t//console.log(avg_delay);\n\n\t\t\t\t\ta = 1 / delayWeightingFactor\n\t\t\t\t\tb = 1 - a\n\n\t\t\t\t\n\t\t\t\t\tif (messageCount < initialSamplingCount) {\n\t\t\t\t\t\tthisDelay = ((delay * messageCount) + thisDelay) / (messageCount + 1)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisDelay = (delay * b) + (thisDelay * a)\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\tmessageCount += 1\n\n\n\t\t\t\t\tthisTime = msgTime + thisDelay\n\t\t\t\t\n\t\t\t\tif (!isNaN(thisTime)){\n\n\t\t\t\t\t//store.state.current_time = msgTime + delay;\n\n\t\t\t\t\tif(!isNaN(enc)){\n\t\t\t\t\t\tstore.state.current_time = msgTime;\t\t\t\t\n\t\t\t\t\t\t//encoder position in radians\n\t\t\t\t\t\t//enc = enc * 2* Math.PI / encoderPPR;\t\t//ALREADY IN RAD\n\n\t\t\t\t\t\tstore.state.current_angle = enc;\n\t\t\t\t\t\t//in degrees\n\t\t\t\t\t\t// let enc_deg = enc*180.0/Math.PI;\n\t\t\t\t\t\t// store.state.current_angle_deg = enc_deg;\n\n\t\t\t\t\t\t//series_theta.append(msgTime + avg_delay, enc);\t\t//simple UI never goes into position mode\n\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(!isNaN(enc_ang_vel)){\t\t\n\t\t\t\t\t\tstore.state.current_time = msgTime;\n\t\t\t\t\t\tstore.state.current_ang_vel = enc_ang_vel_rpm;\n\t\t\t\t\t\t\n\t\t\t\t\t\tseries_omega.append(msgTime + avg_delay, enc_ang_vel);\t\n\t\t\t\t\t\t//series_omega.append(msgTime + delay, enc_ang_vel)\t\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif(debug) {\n\t\t\t\t\t\tconsole.log(delay,msgTime, enc_ang_vel)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (debug) {\n\t\t\t\t\t\tconsole.log(\"NaN so not logging to smoothie\",delay,msgTime, enc_ang_vel)\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t} catch (e) {\n\t\t\t\tif (debug){\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//this.$store.dispatch('setStartTime', new Date().getTime());\n\t\t//this.$store.dispatch('setCurrentAngle', 25);\n\t\tstore.state.start_time = new Date().getTime();\n\t\twindow.addEventListener('keydown', this.hotkey, false);\n\t\twindow.addEventListener('pagehide', this.stop);\t\t\t\t//closing window\n\t\twindow.addEventListener('beforeunload', this.stop);\t\t\t//refreshing page, changing URL\n\t\t\t})\n\t\t\n\t\t},\n\t\tsetMaxParameters(mode){\n\t\t\tif(mode == 'positionPid'){\n\t\t\t\tthis.max_parameter_values.kp = 10;\n\t\t\t\tthis.max_parameter_values.ki = 10;\n\t\t\t\tthis.max_parameter_values.kd = 5;\n\t\t\t\tthis.max_parameter_values.dt = 20;\n\t\t\t} else if(mode == 'speedPid'){\n\t\t\t\tthis.max_parameter_values.kp = 10;\t\t\t//NEED TO TEST THESE\n\t\t\t\tthis.max_parameter_values.ki = 10;\n\t\t\t\tthis.max_parameter_values.kd = 5;\n\t\t\t\tthis.max_parameter_values.dt = 20;\n\t\t\t}\n\t\t},\n\t\tcheckInputValid(id, param){\n\t\t\t//check that value is actually a number and is not negative\n\t\t\tif(!isNaN(param) && param >= 0){\n\t\t\t\tif(id == 'kp'){\n\t\t\t\t\tif(param > this.max_parameter_values.kp || param < this.min_parameter_values.kp){\n\t\t\t\t\t\treturn 'form-control error';\n\t\t\t\t\t} else{\n\t\t\t\t\t\treturn 'form-control';\n\t\t\t\t\t}\n\t\t\t} else if(id == 'ki'){\n\t\t\t\tif(param > this.max_parameter_values.ki || param < this.min_parameter_values.ki){\n\t\t\t\t\treturn 'form-control error';\n\t\t\t\t} else{\n\t\t\t\t\treturn 'form-control';\n\t\t\t\t}\n\t\t\t} else if(id == 'kd'){\n\t\t\t\tif(param > this.max_parameter_values.kd || param < this.min_parameter_values.kd){\n\t\t\t\t\treturn 'form-control error';\n\t\t\t\t} else{\n\t\t\t\t\treturn 'form-control';\n\t\t\t\t}\n\t\t\t} else if(id == 'dt'){\n\t\t\t\tif(param > this.max_parameter_values.dt || param < this.min_parameter_values.dt){\n\t\t\t\t\treturn 'form-control error';\n\t\t\t\t} else{\n\t\t\t\t\treturn 'form-control';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t} else {\n\t\t\t\treturn ' form-control error';\n\t\t\t}\n\t\t},\n\t\tgetTooltipTitle(id, param){\n\t\t\tif(!isNaN(param)){\n\t\t\t\tif(id == 'kp'){\n\t\t\t\t\tif(param > this.max_parameter_values.kp || param < this.min_parameter_values.kp){\n\t\t\t\t\t\treturn 'Outside appropriate range';\n\t\t\t\t\t} else{\n\t\t\t\t\t\treturn 'Value looks good!';\n\t\t\t\t\t}\n\t\t\t\t} else if(id == 'ki'){\n\t\t\t\t\tif(param > this.max_parameter_values.ki || param < this.min_parameter_values.ki){\n\t\t\t\t\t\treturn 'Outside appropriate range';\n\t\t\t\t\t} else{\n\t\t\t\t\t\treturn 'Value looks good!';\n\t\t\t\t\t}\n\t\t\t\t} else if(id == 'kd'){\n\t\t\t\t\tif(param > this.max_parameter_values.kd || param < this.min_parameter_values.kd){\n\t\t\t\t\t\treturn 'Outside appropriate range';\n\t\t\t\t\t} else{\n\t\t\t\t\t\treturn 'Value looks good!';\n\t\t\t\t\t}\n\t\t\t\t} else if(id == 'dt'){\n\t\t\t\t\tif(param > this.max_parameter_values.dt || param < this.min_parameter_values.dt){\n\t\t\t\t\t\treturn 'Outside appropriate range';\n\t\t\t\t\t} else{\n\t\t\t\t\t\treturn 'Value looks good!';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else{\n\t\t\t\treturn 'Invalid input';\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t},\n}\n\n\n\n\n</script>\n\n<style scoped>\n\n.error-message{\n\tcolor: red;\n\ttext-decoration: bold;\n\tborder: thin;\n\tbox-shadow: 0px 0px;\n}\n\n.error{\n    /* border:thick solid red */\n\tborder: auto;\n}\n\n.error:focus{\n    /* border:thick solid red */\n\tborder: auto;\n}\n\n#smoothie-chart_omega{\n\twidth:100%;\n\theight: 120px;\n}\n\n#smoothie-chart_theta{\n\twidth:100%;\n\theight: 120px;\n}\n\n.slidecontainer {\n\twidth: 100%; /* Width of the outside container */\n}\n.slider {\n\t-webkit-appearance: none;\n\twidth: 100%;\n\theight: 15px;\n\tborder-radius: 5px;  \n\tbackground: #d3d3d3;\n\toutline: none;\n\topacity: 0.7;\n\t-webkit-transition: .2s;\n\ttransition: opacity .2s;\n}\n\n.slider::-webkit-slider-thumb {\n\t-webkit-appearance: none;\n\tappearance: none;\n\twidth: 25px;\n\theight: 25px;\n\tborder-radius: 50%; \n\tbackground: #5b7fa5ff; \n\tcursor: pointer;\n}\n\n.slider::-moz-range-thumb {\n\twidth: 25px;\n\theight: 25px;\n\tborder-radius: 50%;\n\tbackground: #5b7fa5ff;\n\tcursor: pointer;\n}\n\n/* Mouse-over effects */\n.slider:hover {\n\topacity: 1; /* Fully shown on mouse-over */\n}\n\n.sliderlabel{ text-align: left;}\n\n\n#setmode       {background-color: rgb(3, 248, 12);}\n#setmode:hover {background-color: #3e8e41} \n\n#reset       {background-color: rgba(248, 72, 3, 0.658);}\n#reset:hover {background-color: #5f0f04} \n\n#stop       {background-color: rgb(255, 0, 0);}\n#stop:hover {background-color: #cc1e1eff;}\n\n#pidspeed        {background-color: rgb(255, 187, 0);}\n#pidspeed:hover  {background-color: #cc9d1eff;}\n\n#pidposition        {background-color: rgb(115, 255, 0);}\n#pidposition:hover  {background-color: rgb(58, 92, 3);}\n\n#dcmotor        {background-color: rgb(217, 255, 0);}\n#dcmotor:hover  {background-color: rgb(190, 187, 2);}\n\n#resetHeight         {background-color: #5b7fa5ff;}\n#resetHeight:hover   {background-color: #46627fff;}\n\n#configure         {background-color: rgb(220, 38, 236);}\n#configure:hover   {background-color: rgb(76, 19, 82);}\n\n#set         {background-color: rgb(30, 250, 1);}\n#set:hover   {background-color: rgb(30, 172, 2);}\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanelSpinningDisk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanelSpinningDisk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ControlPanelSpinningDisk.vue?vue&type=template&id=3642724a&scoped=true&\"\nimport script from \"./ControlPanelSpinningDisk.vue?vue&type=script&lang=js&\"\nexport * from \"./ControlPanelSpinningDisk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ControlPanelSpinningDisk.vue?vue&type=style&index=0&id=3642724a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3642724a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n    <div v-if='version == \"spinning_disk\"'><control-panel-spinning-disk :remoteLabVersion=\"version\" :isDataRecorderOn=\"dataRecorder\" :disableTooltips=\"tooltips\" :url=\"url\"/></div>\n    <div v-else-if='version == \"robot_arm\"'><control-panel-robot-arm :remoteLabVersion=\"version\" :isDataRecorderOn=\"dataRecorder\" :disableTooltips=\"tooltips\" :url=\"url\"/></div>\n    <div v-else-if='version == \"variable_governor\"'><control-panel-variable-governor :remoteLabVersion=\"version\" :isDataRecorderOn=\"dataRecorder\" :disableTooltips=\"tooltips\" :url=\"url\"/></div>\n\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// import ControlPanelRobotArm from \"./ControlPanelRobotArm.vue\";\nimport ControlPanelSpinningDisk from \"./ControlPanelSpinningDisk.vue\";\n// import ControlPanelVariableGovernor from \"./ControlPanelVariableGovernor.vue\";\n\nexport default {\n\tname: \"DataStream\",\n\tcomponents:{\n\t\t//ControlPanelRobotArm,\n        ControlPanelSpinningDisk,\n\t\t//ControlPanelVariableGovernor,\n\t},\n    data(){\n        return{\n\t\t\tstream: Object,\n        }\n    },\n    computed:{\n\t\turlOK() {\n\t\t\treturn this.$store.getters.getDataURLObtained;\n\t\t},\n\t\tstreamOK(){\n\t\t\treturn this.$store.getters.getStream(\"data\");\n\n\t\t},\n\t\turl(){\n\t\t\treturn this.$store.getters.getDataURL;\n        },\n        version(){\n            return this.$store.getters.getRemoteLabVersion;\n        },\n        dataRecorder(){\n            return this.$store.getters.getIsDataRecorderOn;\n        },\n        tooltips(){\n            return this.$store.getters.getDisableTooltips;\n        }\n\t\t\n\t},\n\tmounted(){\n\t\tvar _this = this;\n\t\tvar reconnect = function () {\n\t\t\t_this.getWebsocketConnection();\n\t\t};\n\t\t//make second and subsequent connections\n\t\tdocument.addEventListener(\"streams:dropped\", reconnect);\n\t},\n\tmethods:{\n\t\tgetWebsocketConnection(){\n\t\t\tthis.stream = this.$store.getters.getStream(\"data\");\n\t\t\t\tvar accessURL = this.stream.url;\n\t\t\t\tvar token = this.stream.token;\n\t\t\t\tvar store = this.$store;\n\t\t\t\tstore.dispatch(\"deleteDataURL\");\t\t//NEWLY ADDED\n\t\t\t\taxios\n\t\t\t\t.post(accessURL, {}, { headers: { Authorization: token } })\n\t\t\t\t.then((response) => {\n\t\t\t\t\tstore.dispatch(\"setDataURL\", response.data.uri);\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t},\n\t\n\twatch:{\n\t\tstreamOK: function(is) {\n\t\t\tif (is) {\n\t\t\t\tthis.getWebsocketConnection();\n\t\t\t} else{\n\t\t\t\tconsole.log(\"no stream\");\n\t\t\t}\n    },\n\t\turlOK(is) {\n\t\t\tif (is) {\n\t\t\t\tconsole.log(\"get dataURL\", this.urlOK, this.url);\n\t\t\t}\n\t\t},\n\n\t}\n}\n\n\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataStream.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataStream.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataStream.vue?vue&type=template&id=03391b96&scoped=true&\"\nimport script from \"./DataStream.vue?vue&type=script&lang=js&\"\nexport * from \"./DataStream.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03391b96\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-2 bg-white border rounded\"},[_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('div',{staticClass:\"form-group col-1\"},[_c('label',{attrs:{\"for\":\"time\"}},[_vm._v(\"t/s\")]),_c('div',{staticClass:\"current border border-right-0\"},[_c('p',[_vm._v(_vm._s(_vm.time.toFixed(2)))])]),_vm._l((_vm.snaps),function(row){return _c('p',{key:row.time,attrs:{\"id\":row.time}},[_vm._v(\" \"+_vm._s(row.time)+\" \")])})],2),_c('div',{staticClass:\"form-group col-2 v-divider\"},[_c('label',{attrs:{\"for\":\"position\"}},[_vm._v(\"Angle/rad\")]),_c('div',{staticClass:\"current border border-right-0 border-left-0\"},[_c('p',[_vm._v(_vm._s(_vm.position.toFixed(2)))])]),_vm._l((_vm.snaps),function(row){return _c('p',{key:row.position,attrs:{\"id\":row.position}},[_vm._v(\" \"+_vm._s(row.position)+\" \")])})],2),_c('div',{staticClass:\"form-group col-2 v-divider\"},[_c('label',{attrs:{\"for\":\"velocity\"}},[_vm._v(\"Ang. Vel/(rad/s)\")]),_c('div',{staticClass:\"current border border-right-0 border-left-0\"},[_c('p',[_vm._v(_vm._s(_vm.velocity.toFixed(2)))])]),_vm._l((_vm.snaps),function(row){return _c('p',{key:row.velocity,attrs:{\"id\":row.velocity}},[_vm._v(\" \"+_vm._s(row.velocity)+\" \")])})],2),_c('div',{staticClass:\"form-group col-2 v-divider\"},[_c('label',{attrs:{\"for\":\"command\"}},[_vm._v(\"Command\")]),_c('div',{staticClass:\"current border border-right-0 border-left-0\"},[_c('p',[_vm._v(_vm._s(_vm.command.toFixed(2)))])]),_vm._l((_vm.snaps),function(row){return _c('p',{key:row.command,attrs:{\"id\":row.command}},[_vm._v(\" \"+_vm._s(row.command)+\" \")])})],2),_c('div',{staticClass:\"form-group col-2 v-divider\"},[_c('label',{attrs:{\"for\":\"drive\"}},[_vm._v(\"Drive\")]),_c('div',{staticClass:\"current border border-right-0 border-left-0\"},[_c('p',[_vm._v(_vm._s(_vm.drive.toFixed(2)))])]),_vm._l((_vm.snaps),function(row){return _c('p',{key:row.drive,attrs:{\"id\":row.drive}},[_vm._v(\" \"+_vm._s(row.drive)+\" \")])})],2),_c('div',{staticClass:\"form-group col-2 v-divider\"},[_c('label',{attrs:{\"for\":\"error\"}},[_vm._v(\"Error\")]),_c('div',{staticClass:\"current border border-left-0\"},[_c('p',[_vm._v(_vm._s(_vm.error.toFixed(2)))])]),_vm._l((_vm.snaps),function(row){return _c('p',{key:row.error,attrs:{\"id\":row.error}},[_vm._v(\" \"+_vm._s(row.error)+\" \")])})],2)]),_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('button',{staticClass:\"btn btn-default btn-sm m-3\",attrs:{\"id\":\"snapshot\"},on:{\"click\":_vm.takeSnapshot}},[_vm._v(\"Record Snapshot\")]),_c('button',{staticClass:\"btn btn-default btn-sm m-3\",attrs:{\"id\":\"reset_snaps\"},on:{\"click\":_vm.resetSnaps}},[_vm._v(\"Reset\")]),_c('button',{staticClass:\"btn btn-default btn-sm m-3\",attrs:{\"id\":\"download_snaps\"},on:{\"click\":_vm.outputToCSV}},[_vm._v(\"Download Snapshots\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"m-2 bg-white border rounded\">\n    <div class=\"row justify-content-center align-items-center\">\n\n        <div class='form-group col-1'>\n\t\t\t<label for=\"time\">t/s</label>\n\t\t\t<div class='current border border-right-0'>\n                    <p>{{time.toFixed(2)}}</p>\n            </div>\n            <p v-for='row in snaps' :id=\"row.time\" :key=\"row.time\">\n                {{row.time}}\n            </p>\n            <!-- <p>{{snapshot_time}}</p> -->\n            \n        </div>\n\n\t\t<div class='form-group col-2 v-divider'>\n\t\t\t<label for=\"position\">Angle/rad</label>\n            <div class='current border border-right-0 border-left-0'>\n                    <p>{{position.toFixed(2)}}</p>\n            </div>\n            <p v-for='row in snaps' :id=\"row.position\" :key=\"row.position\">\n                {{row.position}}\n            </p>\n            <!-- <p>{{snapshot_position}}</p> -->\n        </div>\n\t\t<div class='form-group col-2 v-divider'>\n\t\t\t<label for=\"velocity\">Ang. Vel/(rad/s)</label>\n\t\t\t<div class='current border border-right-0 border-left-0'>\n                    <p>{{velocity.toFixed(2)}}</p>\n            </div>\n            <p v-for='row in snaps' :id=\"row.velocity\" :key=\"row.velocity\">\n                {{row.velocity}}\n            </p>\n            <!-- <p>{{snapshot_velocity}}</p> -->\n        </div>\n        <div class='form-group col-2 v-divider'>\n\t\t\t<label for=\"command\">Command</label>\n\t\t\t<div class='current border border-right-0 border-left-0'>\n                    <p>{{command.toFixed(2)}}</p>\n            </div>\n            <p v-for='row in snaps' :id=\"row.command\" :key=\"row.command\">\n                {{row.command}}\n            </p>\n            <!-- <p>{{snapshot_command}}</p> -->\n        </div>\n        <div class='form-group col-2 v-divider'>\n\t\t\t<label for=\"drive\">Drive</label>\n\t\t\t<div class='current border border-right-0 border-left-0'>\n                    <p>{{drive.toFixed(2)}}</p>\n            </div>\n             <p v-for='row in snaps' :id=\"row.drive\" :key=\"row.drive\">\n                {{row.drive}}\n            </p>\n            <!-- <p>{{snapshot_drive}}</p> -->\n        </div>\n        <div class='form-group col-2 v-divider'>\n\t\t\t<label for=\"error\">Error</label>\n\t\t\t<div class='current border border-left-0'>\n                    <p>{{error.toFixed(2)}}</p>\n            </div>\n            <p v-for='row in snaps' :id=\"row.error\" :key=\"row.error\">\n                {{row.error}}\n            </p>\n            <!-- <p>{{snapshot_error}}</p> -->\n        </div>\n\t</div>\n\n    <!-- <table class=\"table\">\n        <tr v-for=\"row in snaps\" :id=\"row.id\" :key=\"row.id\">\n            <td>{{row.time}}</td>\n            <td>{{row.position.toFixed(2)}}</td>\n            <td>{{row.velocity.toFixed(2)}}</td>\n            <td>{{row.command}}</td>\n            <td>{{row.drive}}</td>\n            <td>{{row.error}}</td>\n        </tr>\n                            \n    </table>  -->\n\n    <div class='row justify-content-center align-items-center'>\n        <button id=\"snapshot\" class=\"btn btn-default btn-sm m-3\" @click=\"takeSnapshot\">Record Snapshot</button>\n        <button id=\"reset_snaps\" class=\"btn btn-default btn-sm m-3\" @click=\"resetSnaps\">Reset</button>\n        <button id=\"download_snaps\" class=\"btn btn-default btn-sm m-3\" @click=\"outputToCSV\">Download Snapshots</button>\n    </div>\n    \n\n\n</div>\n</template>\n\n<script>\nimport { store } from \"../simplestore.js\";\n\n\nexport default {\n    name: 'MotorSnapshot',\n    props:{\n      \n  },\n    data(){\n        return{\n            dataStore: store,\n            time: 0,\n            position: 0,\n            velocity: 0,\n            command: 0,\n            drive: 0,\n            error: 0,\n            snapshot_time: 0,\n            snapshot_position: 0,\n            snapshot_velocity: 0,\n            snapshot_command: 0,\n            snapshot_drive: 0,\n            snapshot_error: 0,\n            snaps: [],\n        }\n    },\n    computed:{\n        newData(){\n            return this.dataStore.state.data;\n        }\n    },\n    watch:{\n        newData(){\n            this.time = store.getTime();\n            this.position = store.state.current_angle;\n            this.velocity = store.state.current_ang_vel * 2* Math.PI/60.0;\n            if(store.state.current_error != null){\n                this.error = store.state.current_error;\n            } else{\n                this.error = 0;\n            }\n\n            if(store.state.current_drive != null){\n                this.drive = store.state.current_drive;\n            } else{\n                this.drive = 0;\n            }\n\n            if(store.state.current_command_value != null){\n                this.command = store.state.current_command_value;\n            } else{\n                this.command = 0;\n            }\n            \n            \n            \n        }\n    },\n    methods: {\n        takeSnapshot(){\n            this.snapshot_time = this.time;\n            this.snapshot_position = this.position;\n            this.snapshot_velocity = this.velocity;\n            if(this.command != null){\n                this.snapshot_command = this.command;\n            } else{\n                this.snapshot_command = 0;\n            }\n            if(this.drive != null){\n                this.snapshot_drive = this.drive;\n            } else{\n                this.snapshot_drive = 0;\n            }\n            if(this.error != null){\n                this.snapshot_error = this.error;\n            } else{\n                this.snapshot_error = 0;\n            }\n            \n            let new_snap = {time: (this.snapshot_time).toFixed(2), position: (this.snapshot_position).toFixed(2), velocity: (this.snapshot_velocity).toFixed(2), command: (this.snapshot_command).toFixed(2), drive: (this.snapshot_drive).toFixed(2), error: (this.snapshot_error).toFixed(2)};\n            this.snaps.push(new_snap);\n            \n            \n        },\n        resetSnaps(){\n            this.snaps = [];\n        },\n        outputToCSV(){\n          let csv = '';\n          let filename = '';\n            let date = new Date();\n            filename = 'SNAPSHOTs_' + date.getDate().toString() + (date.getMonth() + 1).toString() + date.getFullYear().toString();\n          \n              csv = 'Time/s,Angle/rad,AngVel/rad/s,Command,Drive,Error\\n';\n            \n            this.snaps.forEach(function(d){\n                csv += d.time.toString();\n                csv += \",\";\n                csv += d.position.toString();\n                csv += ',';\n                csv += d.velocity.toString();\n                if(d.command != null){\n                  csv += \",\";\n                  csv += d.command.toString();\n                } else {\n                  csv += \",\";\n                  csv += \"\";\n                }\n                if(d.drive != null){\n                  csv += \",\";\n                  csv += d.drive.toString();\n                } else{\n                  csv += \",\";\n                  csv += \"\";\n                }\n\n                if(d.error != null){\n                  csv += \",\";\n                  csv += d.error.toString();\n                } else{\n                  csv += \",\";\n                  csv += \"\";\n                }\n                \n                \n                \n                \n                csv += \"\\n\";\n            });\n          //}\n            filename += '.csv';\n          //console.log(csv);\n          let hiddenElement = document.createElement('a');\n          hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csv);\n          hiddenElement.target = '_blank';\n          hiddenElement.download = filename;\n          hiddenElement.click();\n      },\n      },\n      \n}\n</script>\n\n<style scoped>\n#snapshot        {background-color: rgb(217, 255, 0);}\n#snapshot:hover  {background-color: rgb(190, 187, 2);}\n#reset_snaps        {background-color: rgb(243, 117, 44);}\n#reset_snaps:hover  {background-color: rgb(243, 7, 7);}\n#download_snaps        {background-color: rgb(44, 243, 200);}\n#download_snaps:hover  {background-color: rgb(7, 82, 243);}\n\n\n.current{\n    border: thin;\n\tbox-shadow: 0px 0px;\n    color: green\n}\n\n.h-divider{\n margin-top:5px;\n margin-bottom:5px;\n height:1px;\n width:100%;\n border-top:1px solid gray;\n}\n\n.v-divider{\n margin-left:5px;\n margin-right:5px;\n width:1px;\n height:100%;\n border-left:1px solid gray;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MotorSnapshot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MotorSnapshot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MotorSnapshot.vue?vue&type=template&id=14fa7c75&scoped=true&\"\nimport script from \"./MotorSnapshot.vue?vue&type=script&lang=js&\"\nexport * from \"./MotorSnapshot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MotorSnapshot.vue?vue&type=style&index=0&id=14fa7c75&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14fa7c75\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class='row'>\n    <div class='col-sm-6'><webcam-stream /></div>\n    <div class='col-sm-6'>\n      <data-stream />\n      <motor-snapshot />\n      </div>\n</div>\n</template> \n\n<script>\nimport WebcamStream from \"./WebcamStream.vue\";\nimport DataStream from \"./DataStream.vue\";\nimport { eventBus } from \"../main.js\";\nimport dayjs from \"dayjs\";\nimport MotorSnapshot from './MotorSnapshot.vue';\n\nexport default {\n  name: \"Streams\",\n  components: {\n    WebcamStream,\n    DataStream,\n    MotorSnapshot,\n  },\n  data(){\n    return{\n      \n    }\n  },\n  computed: {\n    // id() {\n    //   return this.$route.params.id;\n    // },\n    decodedStreams() {\n      return this.$store.getters.getStreams;\n    },\n    streamsObtained() {\n      return this.$store.getters.getStreamsObtained;\n    },\n    videoStream() {\n      return this.$store.getters.getStream(\"video\");\n    },\n    dataStream() {\n      return this.$store.getters.getStream(\"data\");\n    },\n  },\n  created(){\n      eventBus.$on('sessionended', this.sessionExpired);\n    },\n  mounted() {\n    if (this.streamsObtained) {\n      return;\n    }\n    try {\n      let query = new URLSearchParams(window.location.search);\n      //add the streams data to the store\n      let streams = query.get('streams');\n      let decodedStreams = JSON.parse(decodeURIComponent(String(streams)));\n\n      this.$store.dispatch(\"setStreams\", decodedStreams);\n      //add expiry time data to store\n      let expire_time = query.get('exp');\n      this.$store.dispatch('setExpiryTime', expire_time);\n\n      //setting camera type\n      let cam = query.get('v');\n      this.$store.dispatch('setCamera', cam);\n\n    } catch (e) {\n      console.log(\"error decoding streams\");\n      this.$store.dispatch(\"deleteStreams\");\n      \n    }\n\n\n    //reconnection code\n    var _this = this;\n    var cvb = function () {\n      _this.$store.dispatch(\"setLastVideoWrite\", dayjs().valueOf()); //milliseconds\n    };\n\n    document.addEventListener(\"jsmpeg:write\", function () {\n      cvb();\n    });\n\n    var wd = function(){\n       var lc = _this.$store.getters.getLastVideoCheck;\n      var lw = _this.$store.getters.getLastVideoWrite;\n\n      var dropped = function () {\n        \n        _this.$store.dispatch(\"setConnectionIsDropped\", true);\n        _this.$store.dispatch(\"setConnectionDroppedAt\", dayjs().unix()); //seconds\n        var reconnectEvent = new Event(\"streams:dropped\");\n        document.dispatchEvent(reconnectEvent);\n      };\n\n      if (lc > lw) {\n        // no write since last check\n        if (_this.$store.getters.getConnectionIsDropped) {\n          var when = _this.$store.getters.getConnectionDroppedAt;\n          var since = dayjs().unix() - when;\n          if (since > 10) {\n            //oh oh, haven't managed to reconnect, let's try again\n            // note on slow network or heavy load on relay-access, this might time out over and over again\n            // but user experience on a network that slow/server that loaded is questionable anyway\n            // given usually connect delay is  <<1sec; so we might consider that an edge case we are\n            // not likely to hit, so long as provisioning is ok (Server side)\n            // as for user network quality, never say never....\n            dropped();\n          }\n          return;\n        }\n        dropped();\n      } else {\n        //connection OK\n        _this.$store.dispatch(\"setLastVideoCheck\", dayjs().valueOf()); //milliseconds\n        _this.$store.dispatch(\"setConnectionIsDropped\", false);\n      }\n\n    };\n\n    var connectionChecker = setInterval(wd, 1000);\n\n    document.addEventListener(\"streams:expired\", function () {\n      clearInterval(connectionChecker);\n    });\n\n\n  },\n  methods:{\n    sessionExpired(){\n      var expiredEvent = new Event(\"streams:expired\");\n        document.dispatchEvent(expiredEvent);\n    }\n  },\n  watch: {\n    \n  },\n};\n\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Streams.vue?vue&type=template&id=48ec8e8c&\"\nimport script from \"./Streams.vue?vue&type=script&lang=js&\"\nexport * from \"./Streams.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" class='container-fluid-sm m-0'>\n    <navigation-bar :remoteLabVersion=\"remoteLabVersion\"/>\n\n    \n      <!-- <b-modal id=\"load-data-modal\" title='Load data' v-model='showLoadDataModal' @ok=\"loadData\">\n              <p>Previously recorded data was saved on {{ saved_date }}. Do you want to load this previous data?</p>\n          \n              <template #modal-footer=\"{ ok, cancel }\">\n              <b-button size=\"sm\" variant=\"success\" @click=\"ok()\">\n                Load\n              </b-button>\n              <b-button size=\"sm\" variant=\"danger\" @click=\"cancel()\">\n                Cancel\n              </b-button>\n            </template>\n          </b-modal> -->\n\n\n        <div class='row'>\n          <!-- LEFT HAND COLUMN -->\n          <div class='col-sm-12'> \n            <streams />\n            <data-recorder v-if='isDataRecorderOn' :disableTooltips=\"disableTooltips\"/>\n          </div>\n        </div>\n\n\n\n        <div v-if=\"isWorkspaceOn\">\n          <workspace :mode=\"remoteLabVersion\"/>\n        </div>\n      </div>\n  <!-- </div> -->\n</template>\n\n<script>\nimport Workspace from \"./components/Workspace.vue\";\nimport DataRecorder from \"./components/DataRecorder.vue\";\nimport NavigationBar from \"./components/NavigationBar.vue\"; \n\n\nimport { eventBus } from \"./main.js\";\nimport { store } from \"./simplestore.js\";\nimport Streams from './components/Streams.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    Workspace,\n    DataRecorder,\n    NavigationBar,\n    Streams,\n  },\n  data() {\n   return {\n      remoteLabVersion: 'spinning_disk', //'variable_governor', //, //'robot_arm', //, //, //,\n      isTableOn: false,\n      isGraphOn: false,\n      isStopwatchOn: false,\n      isWorkspaceOn: false,\n      isAutoCommandOn: false,\n      isDataRecorderOn: false,\n      isInputGraphOn: false,\n      isSystemDiagramsOn: false,\n      isSimulationOn: false,\n      disableTooltips: false,             //global tooltip setting\n      showLoadDataModal: false,\n      saved_date: '',\n    }\n  },\n  created(){\n    eventBus.$on('clearworkspace', this.clearWorkspace);\n    eventBus.$on('toggleworkspace', this.addWorkspace);\n\n    this.$store.dispatch('setRemoteLabVersion', this.remoteLabVersion);     //NEW\n    this.$store.dispatch('setDataRecorder', this.isDataRecorderOn);     //NEW\n    this.$store.dispatch('setDisableTooltips', this.disableTooltips);     //NEW\n  },\n  mounted(){\n    if(store.hasDataToLoad(this.remoteLabVersion)){\n      this.saved_date = JSON.parse(window.localStorage.getItem('dateSaved'));\n      this.showLoadDataModal = true;\n    } else{\n      this.showLoadDataModal = false;\n    }\n\n      this.toggleDataRecorder();    //data recorder is automatically toggled in simple UI\n\n\n\n      window.addEventListener('pagehide', () => {store.saveDataToLocalStorage(this.remoteLabVersion)});\t\t\t\t//closing window\n      window.addEventListener('beforeunload', () => {store.saveDataToLocalStorage(this.remoteLabVersion)});\t\t\t//refreshing page, changing URL\n  },\n  methods: {\n    addWorkspace(){\n      this.isWorkspaceOn = true;\n    },\n    toggleGraph(){\n      this.isGraphOn = !this.isGraphOn;\n      //graph requires the data recorder in order to plot data so automatically add it when graph added - don't automatically remove it.\n      if(this.isGraphOn){\n        if(!this.isDataRecorderOn){\n          this.toggleDataRecorder();\n        }\n        \n      }\n    },\n    clearWorkspace(){\n      this.isWorkspaceOn = false;\n    },\n    toggleDataRecorder(){\n      console.log('data recorder toggled');\n      this.isDataRecorderOn = !this.isDataRecorderOn;\n      if(this.isDataRecorderOn){\n        this.$store.dispatch('setDataRecorder', true);\n      } else{\n        this.$store.dispatch('setDataRecorder', false);\n      }\n      \n    },\n    toggleStopwatch(){\n      this.isStopwatchOn = !this.isStopwatchOn;\n    },\n    toggleTable(){\n      this.isTableOn = !this.isTableOn;\n      if(this.isTableOn){\n        if(!this.isDataRecorderOn){\n            this.toggleDataRecorder();\n        }\n      }\n    },\n    \n    loadData(){\n      store.loadDataFromLocalStorage();\n      this.showLoadDataModal = false;\n    },\n  },\n}\n\n\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n  background-color: rgba(161, 161, 161, 0.39);\n}\n\n.border{\n  box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.637);\n}\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=55942d20&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n   state: {\n        connectionDroppedAt: 0,\n        connectionIsDropped: false,\n        lastVideoCheck: 0,\n        lastVideoWrite: 0,\n        streams: [],\n        streamsObtained: false,\n        videoURL: \"\",\n        videoURLObtained: false,\n        dataURL: \"\",\n        dataURLObtained: false,\n        remoteLabVersion: '',\n        isDataRecorderOn: false,\n        disableTooltips: false,\n        expiryTime: '',\n        camera: '',\n      },\n      mutations:{\n          SET_CONNECTION_DROPPED_AT(state, when){\n            state.connectionDroppedAt = when;\n          },\n          SET_CONNECTION_IS_DROPPED(state, isDropped){\n            state.connectionIsDropped = isDropped;\n          },\n          SET_LAST_VIDEO_CHECK(state, when){\n            state.lastVideoCheck = when;\n          },\n          SET_LAST_VIDEO_WRITE(state, when){\n            state.lastVideoWrite = when;\n          },\n        DELETE_STREAMS(state) {\n            state.streams = {};\n            state.streamsObtained = false;\n          },\n          SET_STREAMS(state, streams){\n            state.streams = streams;\n            state.streamsObtained = true;\n          },\n          SET_VIDEO_URL(state, url){\n            state.videoURL = url;\n            state.videoURLObtained = true;\n          },\n          DELETE_VIDEO_URL(state){\n            state.videoURL = \"\";\n            state.videoURLObtained = false;\n          },\n          SET_DATA_URL(state, url){\n            state.dataURL = url;\n            state.dataURLObtained = true;\n          },\n          DELETE_DATA_URL(state){\n            state.dataURL = \"\";\n            state.dataURLObtained = false;\n          },\n          SET_REMOTE_LAB_VERSION(state, version){\n              state.remoteLabVersion = version;\n          },\n          SET_DATA_RECORDER(state, set){\n              state.isDataRecorderOn = set;\n          },\n          SET_DISABLE_TOOLTIPS(state, set){\n            state.disableTooltips = set;\n          },\n          SET_EXPIRY_TIME(state, time){\n            state.expiryTime = time;\n          },\n          SET_CAMERA(state,cam){\n            state.camera = cam;\n          }\n      },\n      actions:{\n          setConnectionDroppedAt(context, when){\n            context.commit(\"SET_CONNECTION_DROPPED_AT\", when);\n          },\n          setConnectionIsDropped(context, isDropped){\n            context.commit(\"SET_CONNECTION_IS_DROPPED\", isDropped);\n          },\n          setLastVideoCheck(context, when){\n            context.commit(\"SET_LAST_VIDEO_CHECK\", when);\n          },\n          setLastVideoWrite(context, when){\n            context.commit(\"SET_LAST_VIDEO_WRITE\", when);\n          },\n           deleteStreams(context){\n               context.commit(\"DELETE_STREAMS\");\n           },\n           setStreams(context, streams){\n               context.commit(\"SET_STREAMS\", streams);\n           },\n           setVideoURL(context,url){\n               context.commit(\"SET_VIDEO_URL\", url);\n           },\n           deleteVideoURL(context){\n               context.commit(\"DELETE_VIDEO_URL\");\n           },\n           setDataURL(context, url){\n               context.commit(\"SET_DATA_URL\", url);\n           },\n           deleteDataURL(context){\n               context.commit(\"DELETE_DATA_URL\");\n           },\n           setRemoteLabVersion(context, version){\n               context.commit(\"SET_REMOTE_LAB_VERSION\", version);\n            },\n           setDataRecorder(context, set){\n            context.commit(\"SET_DATA_RECORDER\", set);\n        },\n            setDisableTooltips(context, set){\n                context.commit(\"SET_DISABLE_TOOLTIPS\", set);\n            },\n            setExpiryTime(context, time){\n                context.commit(\"SET_EXPIRY_TIME\", time);\n            },\n            setCamera(context, cam){\n              context.commit(\"SET_CAMERA\", cam);\n            }\n           \n        },\n      getters:{\n        getStreamsObtained(state){\n            return state.streamsObtained;\n        },\n        getStreams(state) {\n            return state.streams;\n        },\n        getStream: (state) => (what) => {\n            if(state.streams != null){\n                if(!state.streamsObtained){\n                    return {};\n                }\n                var results = state.streams.filter((obj) => {\n                    return obj.for == what;\n                });\n                if(results.length < 1){\n                    return {};\n                } else {\n                    return results[0];\n                }\n            } else{\n                return {};\n            }\n        },\n        getVideoURL(state){\n            return state.videoURL;\n        },\n        getVideoURLObtained(state){\n            return state.videoURLObtained;\n        },\n        getDataURL(state){\n            return state.dataURL;\n        },\n        getDataURLObtained(state){\n            return state.dataURLObtained;\n        },\n        getRemoteLabVersion(state){\n            return state.remoteLabVersion;\n        },\n        getIsDataRecorderOn(state){\n            return state.isDataRecorderOn;\n        },\n        getDisableTooltips(state){\n            return state.disableTooltips;\n        },\n        getExpiryTime(state){\n            return state.expiryTime;\n        },\n        getConnectionDroppedAt(state){\n          return state.connectionDroppedAt;\n        },\n        getConnectionIsDropped(state){\n          return state.connectionIsDropped;\n        },\n        getLastVideoCheck(state){\n          return state.lastVideoCheck;\n        },\n        getLastVideoWrite(state){\n          return state.lastVideoWrite;\n        },\n        getCamera(state){\n          return state.camera;\n        }\n        \n        \n \n      },\n })\n\n export default store;\n","import Vue from 'vue';\n\nimport App from './App.vue'\nimport store from \"./streamStore.js\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport BootstrapVue from 'bootstrap-vue';\n\nexport const eventBus = new Vue();\nimport 'es6-promise/auto'\n\nVue.config.productionTip = false\n\nVue.use(BootstrapVue)\n\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n    \n\n\nnew Vue({\n  store: store,\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Workspace.vue?vue&type=style&index=0&id=7b45ddae&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoElement.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataRecorder.vue?vue&type=style&index=0&id=f280e43e&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnalogueOutput.vue?vue&type=style&index=0&id=699ee62e&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MotorSnapshot.vue?vue&type=style&index=0&id=14fa7c75&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/protractor.ea6a877b.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlPanelSpinningDisk.vue?vue&type=style&index=0&id=3642724a&scoped=true&lang=css&\""],"sourceRoot":""}