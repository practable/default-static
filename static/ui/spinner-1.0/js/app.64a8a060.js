(function(t){function e(e){for(var s,r,o=e[0],c=e[1],d=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(m.length)m.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/ui/spinner-1.0/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"04a9":function(t,e,a){},"04e6":function(t,e,a){t.exports=a.p+"img/plantTransferSecondOrder.5b45ba76.png"},"0dd6":function(t,e,a){},1016:function(t,e,a){t.exports=a.p+"img/TrigFunction.d7218ef7.png"},"104a":function(t,e,a){},"168f":function(t,e,a){t.exports=a.p+"img/ruler.41f3337c.png"},"1bdb":function(t,e,a){},"1e7e":function(t,e,a){t.exports=a.p+"img/pidTransferFunction.a04e5dc8.png"},"24b2":function(t,e,a){},"2dae":function(t,e,a){t.exports=a.p+"img/TransferFunction2ndOrder.12f07b8d.png"},"3bca":function(t,e,a){t.exports=a.p+"img/ExpFunction.998365ca.png"},"441c":function(t,e,a){"use strict";var s=a("9f80"),i=a.n(s);i.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"47e2":function(t,e,a){},"482d":function(t,e,a){"use strict";var s=a("47e2"),i=a.n(s);i.a},4925:function(t,e,a){"use strict";var s=a("9ad2"),i=a.n(s);i.a},"4e55":function(t,e,a){"use strict";var s=a("8f6f"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return aa}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("a026"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid-sm m-0",attrs:{id:"app"}},[a("navigation-bar",{attrs:{remoteLabVersion:t.remoteLabVersion}}),a("b-modal",{attrs:{id:"load-data-modal",title:"Load data"},on:{ok:t.loadData},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.ok,i=e.cancel;return[a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){return s()}}},[t._v(" Load ")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(t){return i()}}},[t._v(" Cancel ")])]}}]),model:{value:t.showLoadDataModal,callback:function(e){t.showLoadDataModal=e},expression:"showLoadDataModal"}},[a("p",[t._v("Previously recorded data was saved on "+t._s(t.saved_date)+". Do you want to load this previous data?")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("streams"),t.isTableOn?a("div",{staticClass:"col-sm-12"},[a("table-output",{attrs:{remoteLabVersion:t.remoteLabVersion}})],1):t._e()],1),a("div",{staticClass:"col-sm-6"},[t.isWorkspaceOn?a("div",{staticClass:"row"},[a("instructions",{attrs:{isWorkspaceOn:t.isWorkspaceOn}})],1):t._e(),t.isSystemDiagramsOn?a("div",{staticClass:"row"},[a("system-diagrams",{attrs:{remoteLabVersion:t.remoteLabVersion}})],1):t._e(),a("div",{staticClass:"row"},[t.isDataRecorderOn&&!t.isSimulationOn?a("div",{staticClass:"col-sm-5"},[a("data-recorder",{attrs:{disableTooltips:t.disableTooltips}})],1):t._e(),t.isStopwatchOn?a("div",{staticClass:"col-sm-5"},[a("stopwatch")],1):t._e()]),t.isSnapshotOn?a("div",[a("motor-snapshot")],1):t._e(),t.isInputGraphOn?a("div",[a("graph-input",{attrs:{type:"graphinput",id:"input0"}})],1):t._e(),t.isGraphOn?a("div",[a("graph-output",{attrs:{type:"graph",id:"graph0"}})],1):t._e()])]),t.isWorkspaceOn?a("div",[a("workspace",{attrs:{mode:t.remoteLabVersion}})],1):t._e()],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row m-0 justify-content-center",attrs:{id:"chart-canvas"}},[a("div",{staticClass:"col-12"},[a("canvas",{attrs:{id:t.id},on:{mousedown:t.startLine,mouseup:t.endDrag,mousemove:t.endLine}})])]),a("div",{staticClass:"row mb-2 justify-content-center align-items-center",attrs:{id:"chart-functions"}},[a("div",{staticClass:"form-group col-3"},[a("label",{staticClass:"m-2",attrs:{for:"unitSelect"}},[t._v("Units:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],staticClass:"col-sm",attrs:{name:"unitSelect",id:"unitSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.unit=e.target.multiple?a:a[0]},t.getData]}},["theta"==t.getGraphParameter?a("option",{attrs:{value:"rad"}},[t._v("rad")]):t._e(),"theta"==t.getGraphParameter?a("option",{attrs:{value:"deg"}},[t._v("deg")]):t._e(),"omega"==t.getGraphParameter?a("option",{attrs:{value:"rpm"}},[t._v("RPM")]):t._e(),"omega"==t.getGraphParameter?a("option",{attrs:{value:"rad/s"}},[t._v("rad/s")]):t._e()])]),a("div",{staticClass:"form-group col-3"},[a("label",{staticClass:"m-2",attrs:{for:"gradient"}},[t._v("Gradient:")]),a("input",{staticClass:"col-sm",attrs:{id:"gradient",readonly:""},domProps:{value:t.gradient}})]),a("div",{staticClass:"form-group col-6"},[a("label",{staticClass:"m-2",attrs:{for:"graph"}},[t._v("Plot function: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentFunction,expression:"currentFunction"}],staticClass:"col-sm-4",attrs:{name:"function",id:"function"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentFunction=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"linear"}},[t._v("Linear")]),a("option",{attrs:{value:"quadratic"}},[t._v("Quadratic")]),a("option",{attrs:{value:"trigonometric"}},[t._v("Trigonometric")]),a("option",{attrs:{value:"exponential"}},[t._v("Exponential")]),"omega"==t.getGraphParameter?a("option",{attrs:{value:"step"}},[t._v("Step (1st Order)")]):t._e(),"omega"==t.getGraphParameter?a("option",{attrs:{value:"ramp"}},[t._v("Ramp (1st Order)")]):t._e(),"theta"==t.getGraphParameter?a("option",{attrs:{value:"step2nd"}},[t._v("Step (2nd Order)")]):t._e()]),"linear"===t.currentFunction?a("div",[t._m(0),a("div",{staticClass:"row justify-content-center"},[a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("a = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}})]),a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("b = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}})])]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.linear)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"quadratic"===t.currentFunction?a("div",[t._m(1),a("div",{staticClass:"row justify-content-center"},[a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("a = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}})]),a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("b = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}})])]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.quadratic)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"trigonometric"===t.currentFunction?a("div",[t._m(2),a("div",{staticClass:"row justify-content-center"},[a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("A")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}})]),a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("ω")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}})]),a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_c"}},[t._v("φ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"3"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}})])]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.trigonometric)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"exponential"===t.currentFunction?a("div",[t._m(3),a("div",{staticClass:"row justify-content-center"},[a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("A = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}})]),a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("b = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}})])]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.exponential)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"step"===t.currentFunction?a("div",[a("div",{staticClass:"row justify-content-center"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}})]),t._m(5),a("div",{staticClass:"row justify-content-center"},[a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("K")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}})]),a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_c"}},[t._v("τ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"3"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}})]),a("div",[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_d,expression:"func_d"}],attrs:{id:"func_d",size:"3"},domProps:{value:t.func_d},on:{input:function(e){e.target.composing||(t.func_d=e.target.value)}}})])]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.step)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"step2nd"===t.currentFunction?a("div",[a("div",{staticClass:"row justify-content-center"},[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("Step size, A")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}})]),t._m(7),a("div",{staticClass:"row justify-content-center"},[a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("ζ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}})]),a("div",[t._m(8),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"3"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}})]),a("div",[t._m(9),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_d,expression:"func_d"}],attrs:{id:"func_d",size:"3"},domProps:{value:t.func_d},on:{input:function(e){e.target.composing||(t.func_d=e.target.value)}}})])]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.stepSecondOrder)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"ramp"===t.currentFunction?a("div",[a("div",{staticClass:"row justify-content-center"},[t._m(10),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}})]),t._m(11),a("div",{staticClass:"row justify-content-center"},[a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("K")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}})]),a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_c"}},[t._v("τ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"3"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}})]),a("div",[t._m(12),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_d,expression:"func_d"}],attrs:{id:"func_d",size:"3"},domProps:{value:t.func_d},on:{input:function(e){e.target.composing||(t.func_d=e.target.value)}}})])]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.ramp)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):t._e()])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("img",{attrs:{id:"linear_function",src:a("851b")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("img",{attrs:{id:"linear_function",src:a("72af")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("img",{attrs:{id:"trig_function",src:a("1016")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("img",{attrs:{id:"linear_function",src:a("3bca")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("Step size, A"),a("sub",[t._v("v")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("img",{attrs:{id:"transfer_function",src:a("9c15")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"m-2",attrs:{for:"func_d"}},[t._v("t"),a("sub",[t._v("0")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("img",{attrs:{id:"second_order_transfer_function",src:a("2dae")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"m-2",attrs:{for:"func_c"}},[t._v("ω"),a("sub",[t._v("n")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"m-2",attrs:{for:"func_d"}},[t._v("t"),a("sub",[t._v("0")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("Ramp gradient, A"),a("sub",[t._v("v")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("img",{attrs:{id:"transfer_function",src:a("9c15")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"m-2",attrs:{for:"func_d"}},[t._v("ω"),a("sub",[t._v("0")])])}],c=(a("4de4"),a("4160"),a("159b"),a("a434"),{state:{current_enc_pos:0,current_angle:0,current_ang_vel:0,previous_ang_vels:[],values_in_average:100,average_count:0,current_time:0,start_time:0,currentMode:"",inputMode:"",graphDataParameter:"omega",data:[],unityDataObject:null,current_p_value:0,current_i_value:0,current_d_value:0,current_error:0,current_drive:0,current_command_value:0,step:{step_time:0,step_start:0,step_size:0},ramp:{ramp_start:0,ramp_gradient:1,ramp_start_time:0,max_voltage:12,max_rad_s:200},pid_parameters:{Kp:1,Ki:0,Kd:0,dt:3},isRecording:!1},addUnityData:function(t){this.state.unityDataObject=t},setGraphDataParameter:function(t){this.state.graphDataParameter=t},calculateAverageVelocity:function(){this.state.previous_ang_vels[this.state.average_count]=this.state.current_ang_vel,this.state.average_count>=this.state.values_in_average-1?this.state.average_count=0:this.state.average_count++;for(var t=0,e=0;e<this.state.values_in_average;e++)t+=this.state.previous_ang_vels[e];return t/this.state.values_in_average},clearAllData:function(){this.state.data=[],this.current_angle_unwrapped=0,this.current_ang_vel_unwrapped=0},getNumData:function(){return this.state.data.length},addData:function(t){this.state.data.push(t)},deleteData:function(t){this.state.data.splice(t,1)},getTime:function(){return this.state.current_time-this.state.start_time>=0?(this.state.current_time-this.state.start_time)/1e3:(this.state.start_time=this.state.current_time,0)},getMaxTime:function(){var t=-1/0;return this.state.data.forEach((function(e){e.t>t&&(t=e.t)})),t},getMinTime:function(){var t=1/0;return this.state.data.forEach((function(e){e.t<t&&(t=e.t)})),t},hasStorage:function(){try{return window.localStorage.setItem("test","storage"),window.localStorage.removeItem("test"),!0}catch(t){return!1}},hasDataToLoad:function(t){return!!window.localStorage.getItem("savedData")&&window.localStorage.getItem("remoteLabVersion")==t},saveDataToLocalStorage:function(t){if(this.hasStorage()){if(this.getNumData()>0){var e=JSON.stringify(this.state.data);console.log(e),window.localStorage.setItem("savedData",e);var a=JSON.stringify(new Date);return window.localStorage.setItem("dateSaved",a),window.localStorage.setItem("remoteLabVersion",t),!0}return console.log("no data to save"),!1}return console.log("no localStorage allowed"),!1},loadDataFromLocalStorage:function(){if(this.hasStorage()){if(window.localStorage.getItem("savedData")){var t=window.localStorage.getItem("savedData");t=JSON.parse(t),this.clearAllData();for(var e=0;e<t.length;e++)this.addData(t[e]);return!0}return console.log("no saved data"),!1}return console.log("no saved data"),!1}}),d=c;window.dataStore=d;var l,u,m=a("30ef"),p={name:"GraphOutput",props:["type","id"],data:function(){return{dataStore:c,chart:null,chartData:[],gradient_start_point:{x:0,y:0},gradient_end_point:{x:0,y:0},gradient:0,mouseDragging:!1,currentFunction:"linear",func_a:0,func_b:0,func_c:0,func_d:0,funcTimeStep:.01,YAxisMax:0,YAxisMin:0,XAxisMax:0,XAxisMin:0,unit:"",maxDataPoints:1200,current_data_index:0,data_index_interval:1}},computed:{getCurrentMode:function(){console.log(this.dataStore.state.currentMode);var t=this.dataStore.state.currentMode;return t},getGraphParameter:function(){return c.state.graphDataParameter},newData:function(){return this.dataStore.state.data}},mounted:function(){this.createChart(),this.getData(),"theta"==c.state.graphDataParameter?this.unit="rad":this.unit="rad/s"},created:function(){aa.$on("newgraphadded",this.chartAdded),aa.$on("clearalldata",this.clearData)},watch:{getGraphParameter:function(){"theta"==c.state.graphDataParameter?this.unit="rad":this.unit="rad/s"},newData:function(){c.getNumData()<=this.maxDataPoints?this.getLatestData():aa.$emit("maxdatapointsreached")}},methods:{createChart:function(){var t=this,e=document.getElementById(this.id),a=e.getContext("2d"),s=new m["Chart"](a,{type:"scatter",data:{datasets:[{label:this.type,data:this.chartData,pointBackgroundColor:"rgba(0, 0, 0, 1)"}]},options:{animation:!1,parsing:!1,legend:{display:!1},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"time/s"},type:"linear",position:"bottom",ticks:{callback:function(e,a,s){return t.updateXAxisMax(e,a,s),t.updateXAxisMin(e,a),e}},minRotation:20,maxRotation:20,sampleSize:2}],yAxes:[{scaleLabel:{display:!0,labelString:c.state.graphDataParameter},type:"linear",position:"left",ticks:{callback:function(e,a,s){return t.updateYAxisMax(e,a),t.updateYAxisMin(e,a,s),e}},sampleSize:2}]},responsive:!0}});this.chart=s,e.onclick=function(t){var e=s.getElementsAtEvent(t);e[0]&&aa.$emit("newselectedobject",e[0]._index)}},updateYAxisMax:function(t,e){0==e&&(this.YAxisMax=t)},updateYAxisMin:function(t,e,a){e==a.length-1&&(this.YAxisMin=t)},updateXAxisMin:function(t,e){0==e&&(this.XAxisMin=t)},updateXAxisMax:function(t,e,a){e==a.length-1&&(this.XAxisMax=t)},addDataToChart:function(t){this.chart.data.datasets.forEach((function(e){e.data.push(t)})),this.chart.update(0),this.chart.options.scales.yAxes[0].scaleLabel.labelString=c.state.graphDataParameter},clearData:function(){this.chartData=[],this.chart.data.datasets[0].data=this.chartData,this.chart.update()},getData:function(){0==this.current_data_index&&this.clearData();for(var t=this.current_data_index;t<c.getNumData();t++){var e=c.state.data[t].t,a=void 0;switch(c.state.graphDataParameter){case"theta":a="deg"==this.unit?c.state.data[t].theta_deg:c.state.data[t].theta;break;case"omega":a="rpm"==this.unit?c.state.data[t].omega:c.state.data[t].omega_rad;break}if(this.addDataToChart({x:e,y:a}),t>=this.current_data_index+this.data_index_interval||t==c.getNumData()-1){this.current_data_index=t+1;break}}this.current_data_index<c.getNumData()&&this.current_data_index<=this.maxDataPoints?setTimeout(this.getData,1):(this.current_data_index>this.maxDataPoints&&aa.$emit("maxdatapointsreached"),console.log("finished loading graph data"),this.count=0,this.current_data_index=0)},getLatestData:function(){var t,e=c.getNumData()-1;if(e>=0){var a=c.state.data[e].t;switch(c.state.graphDataParameter){case"theta":t="deg"==this.unit?c.state.data[e].theta_deg:c.state.data[e].theta;break;case"omega":t="rpm"==this.unit?c.state.data[e].omega:c.state.data[e].omega_rad;break}this.addDataToChart({x:a,y:t})}},removeChart:function(){this.chart.destroy()},startLine:function(t){this.gradient_start_point.x=t.offsetX,this.gradient_start_point.y=t.offsetY,this.mouseDragging=!0},endDrag:function(){this.mouseDragging=!1},endLine:function(t){if(this.mouseDragging){this.gradient_end_point.x=t.offsetX,this.gradient_end_point.y=t.offsetY;var e=(this.gradient_start_point.y-this.gradient_end_point.y)/(this.gradient_end_point.x-this.gradient_start_point.x),a=32,s=document.getElementById(this.id),i=s.clientHeight-a,n=s.clientWidth,r=i/n,o=this.YAxisMax-this.YAxisMin,c=this.XAxisMax-this.XAxisMin,d=o/c;this.chartData.length>1&&(this.gradient=d*e/r,this.drawLine(this.gradient_start_point,this.gradient_end_point))}},drawLine:function(t,e){var a=document.getElementById(this.id),s=a.getContext("2d");s.clearRect(0,0,a.width,a.height),this.chart.update(0),s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(e.x,e.y),s.lineWidth=5,s.strokeStyle="red",s.stroke()},plotFunc:function(t){for(var e,a,s=this.XAxisMin,i=this.XAxisMax,n=i-s,r=n/this.funcTimeStep,o=[],c=0;c<r;c++){e=s+c*this.funcTimeStep,a=t(e);var d={x:e,y:a};o.push(d)}this.addNewDataSet("rgba(255, 0, 0, 0.5)",o)},linear:function(t){return parseFloat(this.func_a)*t+parseFloat(this.func_b)},quadratic:function(t){return parseFloat(this.func_a)*t*t+parseFloat(this.func_b)},trigonometric:function(t){return parseFloat(this.func_a)*Math.sin(parseFloat(this.func_b)*t+parseFloat(this.func_c))},exponential:function(t){return parseFloat(this.func_a)*Math.exp(parseFloat(this.func_b)*t)},step:function(t){var e=parseFloat(this.func_d),a=1-Math.exp(-(t-e)/parseFloat(this.func_c));return t<e?0:parseFloat(this.func_a)*parseFloat(this.func_b)*a},stepSecondOrder:function(t){var e=parseFloat(this.func_d),a=t-e,s=parseFloat(this.func_b),i=parseFloat(this.func_c),n=parseFloat(this.func_a),r=Math.acos(s),o=Math.sqrt(1-s*s),c=Math.exp(-s*i*a),d=Math.sin(o*i*a+r);return t<e?0:n*(1-c*d/o)},ramp:function(t){var e=parseFloat(this.func_c),a=parseFloat(this.func_a)*parseFloat(this.func_b),s=0,i=parseFloat(this.func_d);return t<s?i:a*(t-s-e+e*Math.exp(-(t-s)/e))+i},addNewDataSet:function(t,e){this.chart.data.datasets.push({label:"plotted function",pointBackgroundColor:t,data:e}),this.chart.update(0)},deleteFunctionDataset:function(){this.chart.data.datasets=this.chart.data.datasets.filter((function(t){return"plotted function"!==t.label})),this.chart.update(0)}}},h=p,f=(a("6439"),a("2877")),g=Object(f["a"])(h,r,o,!1,null,"7d16ae84",null),v=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 bg-white border rounded"},[a("div",{staticClass:"row justify-content-center"},[a("table",{staticClass:"table"},[t._m(0),t._l(t.tableData,(function(e){return a("tr",{key:e.id,class:[e.id==t.selected_row_id?"selected-row":""],attrs:{id:e.id},on:{click:function(a){return t.changeSelected(e.id)}}},[a("td",[t._v(t._s(e.t))]),a("td",[t._v(t._s(e.theta.toFixed(2)))]),a("td",[t._v(t._s(e.omega_rad.toFixed(2)))]),a("td",[t._v(t._s(e.command))]),a("td",[t._v(t._s(e.drive))]),a("td",[t._v(t._s(e.error))])])}))],2)])])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Time/s")]),a("th",{attrs:{scope:"col"}},[t._v("Angle/rad")]),a("th",{attrs:{scope:"col"}},[t._v("Angular Velocity/rad/s")]),a("th",{attrs:{scope:"col"}},[t._v("Command")]),a("th",{attrs:{scope:"col"}},[t._v("Drive")]),a("th",{attrs:{scope:"col"}},[t._v("Error")])])}],k=a("2909"),S={name:"TableOutput",props:{remoteLabVersion:String},data:function(){return{tableData:[],searchData:[],search_field:"",selected_row_id:"0"}},computed:{},watch:{},methods:{getData:function(){this.tableData=Object(k["a"])(c.state.data)},getMode:function(){return c.state.currentMode},changeSelected:function(t){this.selected_row_id=t;var e=document.getElementById(t);e.scrollIntoView(!1)}},mounted:function(){this.tableData=Object(k["a"])(c.state.data)},created:function(){aa.$on("updatetable",this.getData),aa.$on("newselectedobject",this.changeSelected),aa.$on("clearalldata",this.getData)}},x=S,w=(a("c142"),Object(f["a"])(x,_,b,!1,null,"7e715b64",null)),P=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 p-2 bg-white border rounded"},[a("div",{staticClass:"row-sm"},[a("div",{staticClass:"form-group col-12"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"stopwatch",readonly:""},domProps:{value:t.time_string}})])]),a("div",{staticClass:"row justify-content-center pb-2"},[t.isTiming?t._e():a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"start"},on:{click:t.startTimer}},[t._v("Start")]),t.isTiming?a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"pause"},on:{click:t.pauseTimer}},[t._v("Pause")]):t._e(),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"reset"},on:{click:t.resetTimer}},[t._v("Reset")])])])},y=[],M=(a("d3b7"),a("25f0"),{name:"Stopwatch",data:function(){return{isTiming:!1,timerID:0,current_time:0,time_string:""}},created:function(){this.isTiming=!1,this.time_string=this.millsecondsFormatted(this.current_time)},methods:{startTimer:function(){var t=this;this.isTiming=!0,this.timerID=setInterval((function(){t.updateTime()}),10)},pauseTimer:function(){this.isTiming=!1,clearInterval(this.timerID)},resetTimer:function(){this.current_time=0,this.time_string=this.millsecondsFormatted(this.current_time)},updateTime:function(){this.current_time+=10,this.time_string=this.millsecondsFormatted(this.current_time)},millsecondsFormatted:function(t){var e=t%1e3,a=Math.floor(t/1e3),s=Math.floor(a/60);a%=60;var i=Math.floor(s/60);s%=60,i>=100&&(this.current_time=0);var n=i<10?"0"+i.toString():i.toString(),r=s<10?"0"+s.toString():s.toString(),o=a<10?"0"+a.toString():a.toString(),c=e.toString();return n+":"+r+":"+o+"."+c}},computed:{}}),D=M,O=(a("94e8"),Object(f["a"])(D,C,y,!1,null,"b0774aac",null)),R=O.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("canvas",{class:t.workspace_canvas_clickable?"clickable":"unclickable",attrs:{id:"workspace"},on:{mousedown:t.checkClick,mousemove:t.moveClicked,mouseup:t.mouseUnclick}}),s("img",{attrs:{id:"protractor",src:a("b4f2"),hidden:""}}),s("img",{attrs:{id:"ruler",src:a("168f"),hidden:""}})])},N=[],A=(a("cb29"),a("38cf"),new Image),I=new Image,j=[],E={name:"Workspace",props:{mode:String},data:function(){return{isSelected:!1,selected_index:null,selected_offset_x:0,selected_offset_y:0,rotateMode:!1,workspace_canvas_clickable:!0,ruler_width:800,ruler_height:80,ruler_video_width_ratio:1.428,ruler_ratio:.1,video_canvas:null}},created:function(){aa.$on("addprotractor",this.addProtractor),aa.$on("addruler",this.addRuler);var t=this.$store.getters.getCamera;this.ruler_video_width_ratio=0==t?1.29:.77,this.video_canvas=document.getElementById("video-canvas")},mounted:function(){var t=this;j=[],l=document.getElementById("workspace"),l.width=screen.width,l.height=screen.height,u=l.getContext("2d"),window.addEventListener("keydown",this.updateMode,!1),window.addEventListener("keyup",this.updateMode,!1),window.addEventListener("resize",(function(){setTimeout(t.resizeRuler,100)})),this.resizeRuler()},methods:{draw:function(){u.clearRect(0,0,screen.width,screen.height);for(var t=0;t<j.length;t++)u.save(),null!=j[t].image?(j[t].image==I&&(j[t].width=this.ruler_width,j[t].height=this.ruler_height),u.translate(j[t].x,j[t].y),u.translate(j[t].width/2,j[t].height/2),u.rotate(j[t].angle),u.drawImage(j[t].image,-j[t].width/2,-j[t].height/2,j[t].width,j[t].height)):(u.beginPath(),u.rect(j[t].x,j[t].y,j[t].width,j[t].height),u.stroke(),u.fill(),u.fillStyle="#444444"),u.restore()},addProtractor:function(){A.onload=function(){var t=100,e=100,a=400,s=200;j.push({x:t,y:e,width:a,height:s,image:A,angle:0}),u.drawImage(A,t,e,a,s)},A.src=document.getElementById("protractor").src},addRuler:function(){var t=this;I.onload=function(){var e=100,a=300,s=t.ruler_width,i=t.ruler_height;j.push({x:e,y:a,width:s,height:i,image:I,angle:0}),u.drawImage(I,e,a,s,i)},I.src=document.getElementById("ruler").src},updateMode:function(t){t.repeat||("o"==t.key?this.rotateMode=!this.rotateMode:"w"==t.key&&"keydown"==t.type&&(console.log(t),this.workspace_canvas_clickable=!this.workspace_canvas_clickable))},checkClick:function(t){for(var e=0;e<j.length;e++){var a=[0,0],s=[j[e].x+j[e].width/2,j[e].y+j[e].height/2],i=[t.offsetX-s[0],t.offsetY-s[1]],n=[],r=[j[e].x-s[0],j[e].y-s[1]],o=[j[e].x+j[e].width-s[0],j[e].y-s[1]],c=[j[e].x+j[e].width-s[0],j[e].y+j[e].height-s[1]],d=[j[e].x-s[0],j[e].y+j[e].height-s[1]];n.push(r),n.push(o),n.push(c),n.push(d);for(var l=j[e].angle,u=0;u<4;u++){var m=n[u][0],p=n[u][1];n[u][0]=m*Math.cos(l)-p*Math.sin(l),n[u][1]=m*Math.sin(l)+p*Math.cos(l)}this.doIntersect(a,i,n[0],n[1])||this.doIntersect(a,i,n[1],n[2])||this.doIntersect(a,i,n[2],n[3])||this.doIntersect(a,i,n[3],n[0])||(this.isSelected=!0,this.selected_index=e,this.selected_offset_x=t.offsetX-j[e].x,this.selected_offset_y=t.offsetY-j[e].y)}},checkOrientation:function(t,e,a){var s=(t[1]-e[1])*(a[0]-t[0])-(t[0]-e[0])*(a[1]-t[1]);return 0==s?0:s>0?1:2},doIntersect:function(t,e,a,s){var i=this.checkOrientation(t,e,a),n=this.checkOrientation(t,e,s),r=this.checkOrientation(a,s,t),o=this.checkOrientation(a,s,e);return i!=n&&r!=o},moveClicked:function(t){this.isSelected&&(this.rotateMode?t.movementY<0?j[this.selected_index].angle-=Math.PI/180:t.movementY>0&&(j[this.selected_index].angle+=Math.PI/180):(j[this.selected_index].x=t.offsetX-this.selected_offset_x,j[this.selected_index].y=t.offsetY-this.selected_offset_y),this.draw())},mouseUnclick:function(){this.isSelected=!1,this.selected_index=null},resizeRuler:function(){console.log("resizing"),this.ruler_width=this.video_canvas.clientWidth*this.ruler_video_width_ratio,this.ruler_height=this.ruler_ratio*this.ruler_width,this.draw()}}},V=E,L=(a("5700"),Object(f["a"])(V,T,N,!1,null,"7b45ddae",null)),F=L.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-2 p-2 bg-white border rounded"},[s("div",{staticClass:"row justify-content-center align-items-center"},[t.isRecording||"free"!=t.inputMode?t._e():s("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"recordButton"},on:{click:t.record}},[t._v("Record")]),t.isRecording?s("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"stopButton"},on:{click:t.stopRecording}},[t._v("Stop")]):t._e(),s("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"clearButton"},on:{click:t.clearGraph}},[t._v("Reset")]),t.hasData?s("button",{staticClass:"btn btn-default btn-xs m-1",attrs:{id:"outputButton"},on:{click:t.outputToCSV}},[t._v("Download CSV")]):t._e()]),s("div",{staticClass:"row m-2 justify-content-center"},[t.isRecording?s("div",{staticClass:"col-2"},[s("img",{attrs:{id:"red-light",src:a("d34e"),width:"20",height:"20",hidden:!t.showRedLight}})]):t._e(),s("div",{staticClass:"col-10"},[s("p",{staticClass:"ml-2"},[t._v("Recorded: "+t._s(t.numData)+" data points")])])])])},U=[],B={name:"DataRecorder",props:{disableTooltips:Boolean},data:function(){return{data_store:c,isRecording:!1,time_interval:.05,time_interval_min:.01,interval_id:0,data_points_count:0,hasPlotted:!1,previous_angle:0,wrap_index:0,tooltip_delay:2e3,starting_angle:0}},components:{},created:function(){aa.$on("maxdatapointsreached",this.stopRecording)},computed:{hasData:function(){return 0!==c.getNumData},hasError:function(){return!(!isNaN(this.time_interval)&&this.time_interval>=this.time_interval_min)},newTime:function(){return this.data_store.state.current_time},startRecord:function(){return this.data_store.state.isRecording},inputMode:function(){return this.data_store.state.inputMode},numData:function(){return this.data_store.getNumData()},showRedLight:function(){return this.data_store.getNumData()%20>10}},watch:{newTime:function(){this.isRecording&&this.plot()},startRecord:function(){this.data_store.state.isRecording&&this.record()}},methods:{record:function(){this.hasError||(this.wrap_index=0,this.starting_angle=c.state.current_angle,this.previous_angle=this.starting_angle,c.state.start_time=c.state.current_time,this.data_points_count=0,this.isRecording=!0,this.data_store.state.isRecording=!0)},stopRecording:function(){this.isRecording=!1,c.state.isRecording=!1,this.wrap_index=0,aa.$emit("updatetable")},plot:function(){this.data_points_count++;var t=parseFloat(c.state.current_angle),e=c.getTime(),a=parseFloat(c.state.current_ang_vel),s=180*t/Math.PI,i=2*Math.PI*a/60,n={id:c.getNumData(),t:parseFloat(e),theta:t,omega:a,theta_deg:s,omega_rad:i,command:c.state.current_command_value,drive:c.state.current_drive,error:c.state.current_error};c.addData(n),this.hasPlotted=!0},clearGraph:function(){c.clearAllData(),aa.$emit("clearalldata"),this.hasPlotted=!1,this.wrap_index=0,c.state.current_angle<0?this.previous_angle=c.state.current_angle+2*Math.PI:this.previous_angle=c.state.current_angle},outputToCSV:function(){var t="",e="",a=new Date;e=a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString(),t="Time/s,Angle/rad,AngVel/rad/s,Command,Drive,Error\n";var s=c.state.data;s.forEach((function(e){t+=e.t.toString(),t+=",",t+=e.theta.toString(),t+=",",t+=e.omega_rad.toString(),null!=e.command?(t+=",",t+=e.command.toString()):(t+=",",t+=""),null!=e.drive?(t+=",",t+=e.drive.toString()):(t+=",",t+=""),null!=e.error?(t+=",",t+=e.error.toString()):(t+=",",t+=""),t+="\n"})),e+=".csv";var i=document.createElement("a");i.href="data:text/csv;charset=utf-8,"+encodeURI(t),i.target="_blank",i.download=e,i.click()},checkValueRange:function(t){return t>=this.time_interval_min?"OK":"Too small"}}},W=B,G=(a("4925"),Object(f["a"])(W,z,U,!1,null,"9fbad46c",null)),K=G.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5 pb-2"},[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary",fixed:"top"}},[a("b-navbar-brand",{attrs:{href:"#"}},[t._v("Remote Lab: "+t._s(t.labName)+" ")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item-dropdown",{attrs:{text:"Menu",right:""}},[a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("graph")}}},[t._v("Graph")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("graphinput")}}},[t._v("Graph Input")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("datarecorder")}}},[t._v("Data Recorder")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("stopwatch")}}},[t._v("Stopwatch")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("table")}}},[t._v("Table")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("systemdiagrams")}}},[t._v("System Diagrams")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("snapshot")}}},[t._v("Data Snapshot")])],1),a("b-nav-item-dropdown",{attrs:{text:"Tools",right:""}},[a("b-dropdown-item",{on:{click:function(e){return t.addTool("ruler")}}},[t._v("Ruler")]),a("b-dropdown-item",{on:{click:function(e){return t.addTool("protractor")}}},[t._v("Protractor")])],1),a("b-nav-item",{on:{click:t.clearWorkspace}},[t._v("Clear Workspace")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-text",[a("clock")],1)],1)],1)],1)],1)},J=[],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"row"}},[a("div",{attrs:{id:"sessionTime"}},[t._v(" Session ends in: "+t._s(t.current_time_left))]),a("b-tooltip",{attrs:{triggers:"hover",delay:{show:0,hide:0},target:"sessionTime"}},[a("p",[t._v("Session ends at:")]),t._v(" "),a("p",[t._v(t._s(t.sessionEndTime))])])],1)},H=[],q={name:"Clock",data:function(){return{current_time:"",current_time_left:"",interval_id:0}},components:{},computed:{sessionEndTime:function(){var t=new Date(1e3*this.$store.getters.getExpiryTime);return this.getTime(t)}},watch:{},created:function(){},mounted:function(){var t=this;this.interval_id=setInterval((function(){t.updateClock()}),1e3)},methods:{addZeroes:function(t){return t<10?"0"+t:t},updateClock:function(){var t=new Date;this.current_time=this.getTime(t),this.current_time_left=this.getTimeLeft(t)},getTime:function(t){var e=t.getHours(),a=t.getMinutes(),s=t.getSeconds();return e=this.addZeroes(e),a=this.addZeroes(a),s=this.addZeroes(s),e+":"+a+":"+s},getTimeLeft:function(t){var e=1e3*this.$store.getters.getExpiryTime-t.getTime(),a=e/1e3,s=Math.floor(a/60);return a=Math.floor(a%60),s=this.addZeroes(s),a=this.addZeroes(a),e>0?s+" min : "+a+" secs":(aa.$emit("stop"),aa.$emit("sessionended",!0),clearInterval(this.interval_id),"ENDED")}}},Q=q,Z=(a("482d"),Object(f["a"])(Q,X,H,!1,null,"782fb438",null)),Y=Z.exports,tt={name:"NavigationBar",props:{remoteLabVersion:String},data:function(){return{taskOptionsAvailable:!0}},components:{Clock:Y},mounted:function(){},computed:{labName:function(){return"variable_governor"==this.remoteLabVersion?"Variable Governor":"spinning_disk"==this.remoteLabVersion?"Spinning Disk":"Robot Arm"}},methods:{addTool:function(t){this.toggleComponent("workspace"),setTimeout((function(){aa.$emit("add"+t)}))},toggleComponent:function(t){aa.$emit("toggle"+t)},clearWorkspace:function(){aa.$emit("clearworkspace")},setExercise1v1:function(){aa.$emit("setexercise1v1")},setExercise1v2:function(){aa.$emit("setexercise1v2")},setExercise1v3:function(){aa.$emit("setexercise1v3")},setExercise2v1:function(){aa.$emit("setexercise2v1")}}},et=tt,at=Object(f["a"])(et,$,J,!1,null,"8b143562",null),st=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row m-0 justify-content-center",attrs:{id:"chart-canvas"}},[a("div",{staticClass:"col-12"},[a("canvas",{attrs:{id:t.id},on:{mousedown:t.startLine,mouseup:t.endDrag,mousemove:t.endLine}})])])])},nt=[],rt={name:"GraphInput",props:["type","id"],data:function(){return{chart:null,chartData:[],gradient_start_point:{x:0,y:0},gradient_end_point:{x:0,y:0},gradient:0,mouseDragging:!1,funcTimeStep:.1,YAxisMax:0,YAxisMin:0,XAxisMax:0,XAxisMin:0,previous_update_time:0,update_interval:2e3}},methods:{createChart:function(){var t=this,e=document.getElementById(this.id),a=e.getContext("2d"),s=new m["Chart"](a,{type:"scatter",data:{datasets:[{label:this.type,data:this.chartData,pointBackgroundColor:"rgba(0, 0, 0, 1)"}]},options:{legend:{display:!1},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"time/s"},type:"linear",position:"bottom",ticks:{callback:function(e,a,s){return t.updateXAxisMax(e,a,s),t.updateXAxisMin(e,a),e}}}],yAxes:[{scaleLabel:{display:!0,labelString:this.currentDataParameter},type:"linear",position:"left",ticks:{callback:function(e,a,s){return t.updateYAxisMax(e,a),t.updateYAxisMin(e,a,s),e}}}]},responsive:!0}});this.chart=s,e.onclick=function(t){var e=s.getElementsAtEvent(t);e[0]&&aa.$emit("newselectedobject",e[0]._index)}},updateYAxisMax:function(t,e){0==e&&(this.YAxisMax=t)},updateYAxisMin:function(t,e,a){e==a.length-1&&(this.YAxisMin=t)},updateXAxisMin:function(t,e){0==e&&(this.XAxisMin=t)},updateXAxisMax:function(t,e,a){e==a.length-1&&(this.XAxisMax=t)},clearData:function(){this.chartData=[],this.chart.data.datasets[0].data=this.chartData,this.chart.update()},removeChart:function(){this.chart.destroy()},startLine:function(t){this.gradient_start_point.x=t.offsetX,this.gradient_start_point.y=t.offsetY,this.mouseDragging=!0},endDrag:function(){this.mouseDragging=!1},endLine:function(t){if(this.mouseDragging){this.gradient_end_point.x=t.offsetX,this.gradient_end_point.y=t.offsetY;var e=(this.gradient_start_point.y-this.gradient_end_point.y)/(this.gradient_end_point.x-this.gradient_start_point.x),a=32,s=document.getElementById(this.id),i=s.clientHeight-a,n=s.clientWidth,r=i/n,o=this.YAxisMax-this.YAxisMin,c=this.XAxisMax-this.XAxisMin,d=o/c;this.chartData.length>1&&(this.gradient=d*e/r,this.drawLine(this.gradient_start_point,this.gradient_end_point))}},drawLine:function(t,e){var a=document.getElementById(this.id),s=a.getContext("2d");s.clearRect(0,0,a.width,a.height),this.chart.update(0),s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(e.x,e.y),s.lineWidth=5,s.strokeStyle="red",s.stroke()},step:function(t){this.deleteFunctionDataset(),this.chart.options.scales.yAxes[0].scaleLabel.labelString=t;for(var e,a,s=-5,i=5,n=i-s,r=n/this.funcTimeStep,o=[],d=0;d<r;d++){e=s+d*this.funcTimeStep,a=e>=c.state.step.step_time?c.state.step.step_start+c.state.step.step_size:c.state.step.step_start;var l={x:e,y:a};o.push(l)}this.addNewDataSet("rgba(255, 0, 0, 0.5)",o)},ramp:function(t,e){this.deleteFunctionDataset(),this.chart.options.scales.yAxes[0].scaleLabel.labelString=t;for(var a,s,i=0,n=parseFloat((e-c.state.ramp.ramp_start)/c.state.ramp.ramp_gradient)+parseFloat(c.state.ramp.ramp_start_time),r=n-i,o=r/this.funcTimeStep,d=[],l=0;l<o;l++){a=i+l*this.funcTimeStep,s=a>=c.state.ramp.ramp_start_time?c.state.ramp.ramp_start+c.state.ramp.ramp_gradient*(a-c.state.ramp.ramp_start_time):c.state.ramp.ramp_start;var u={x:a,y:s};d.push(u)}this.addNewDataSet("rgba(255, 0, 0, 0.5)",d)},addNewDataSet:function(t,e){this.chart.data.datasets.push({label:"plotted function",pointBackgroundColor:t,data:e}),this.chart.update(0)},deleteFunctionDataset:function(){this.chart.data.datasets=this.chart.data.datasets.filter((function(t){return"plotted function"!==t.label})),this.chart.update(0)}},computed:{},watch:{},mounted:function(){this.createChart(),aa.$on("addstepfunction",this.step),aa.$on("addrampfunction",this.ramp),aa.$on("clearalldata",this.deleteFunctionDataset)},created:function(){}},ot=rt,ct=(a("5cd5"),Object(f["a"])(ot,it,nt,!1,null,"4de2524b",null)),dt=ct.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-2 p-2 bg-white border rounded"},[t._m(0),s("div",{staticClass:"row m-2 p-2"},[t._m(1),s("div",{staticClass:"col-6"},[s("h2",[t._v("Plant transfer function")]),"variable_governor"==t.remoteLabVersion||"spinning_disk"==t.remoteLabVersion?s("img",{attrs:{id:"pidTransferFunction",src:a("f469")}}):s("img",{attrs:{id:"pidTransferFunction",src:a("04e6")}})])])])},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row m-2 p-2"},[s("div",{staticClass:"col-12"},[s("h2",[t._v("System Block Diagram")]),s("img",{attrs:{id:"secondOrderDiagram",src:a("7220")}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6"},[s("h2",[t._v("Controller transfer function")]),s("img",{attrs:{id:"pidTransferFunction",src:a("1e7e")}})])}],mt={name:"SystemDiagrams",props:{remoteLabVersion:String},data:function(){return{}},created:function(){},methods:{},computed:{}},pt=mt,ht=(a("61bc"),Object(f["a"])(pt,lt,ut,!1,null,"6ba3cb26",null)),ft=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 bg-white border rounded"},[a("div",{staticClass:"row justify-content-center align-items-center"},[a("div",{staticClass:"form-group col-1"},[a("label",{attrs:{for:"time"}},[t._v("t/s")]),a("div",{staticClass:"current border border-right-0"},[a("p",[t._v(t._s(t.time.toFixed(2)))])]),t._l(t.snaps,(function(e){return a("p",{key:e.time,attrs:{id:e.time}},[t._v(" "+t._s(e.time)+" ")])}))],2),a("div",{staticClass:"form-group col-2 v-divider"},[a("label",{attrs:{for:"position"}},[t._v("Angle/rad")]),a("div",{staticClass:"current border border-right-0 border-left-0"},[a("p",[t._v(t._s(t.position.toFixed(2)))])]),t._l(t.snaps,(function(e){return a("p",{key:e.time+"pos",attrs:{id:e.time+"pos"}},[t._v(" "+t._s(e.position)+" ")])}))],2),a("div",{staticClass:"form-group col-2 v-divider"},[a("label",{attrs:{for:"velocity"}},[t._v("Ang. Vel/(rad/s)")]),a("div",{staticClass:"current border border-right-0 border-left-0"},[a("p",[t._v(t._s(t.velocity.toFixed(2)))])]),t._l(t.snaps,(function(e){return a("p",{key:e.time+"vel",attrs:{id:e.time+"vel"}},[t._v(" "+t._s(e.velocity)+" ")])}))],2),a("div",{staticClass:"form-group col-2 v-divider"},[a("label",{attrs:{for:"command"}},[t._v("Command")]),a("div",{staticClass:"current border border-right-0 border-left-0"},[a("p",[t._v(t._s(t.command.toFixed(2)))])]),t._l(t.snaps,(function(e){return a("p",{key:e.time+"com",attrs:{id:e.time+"com"}},[t._v(" "+t._s(e.command)+" ")])}))],2),a("div",{staticClass:"form-group col-2 v-divider"},[a("label",{attrs:{for:"drive"}},[t._v("Drive")]),a("div",{staticClass:"current border border-right-0 border-left-0"},[a("p",[t._v(t._s(t.drive.toFixed(2)))])]),t._l(t.snaps,(function(e){return a("p",{key:e.time+"drive",attrs:{id:e.time+"drive"}},[t._v(" "+t._s(e.drive)+" ")])}))],2),a("div",{staticClass:"form-group col-2 v-divider"},[a("label",{attrs:{for:"error"}},[t._v("Error")]),a("div",{staticClass:"current border border-left-0"},[a("p",[t._v(t._s(t.error.toFixed(2)))])]),t._l(t.snaps,(function(e){return a("p",{key:e.time+"error",attrs:{id:e.time+"error"}},[t._v(" "+t._s(e.error)+" ")])}))],2)]),a("div",{staticClass:"row justify-content-center align-items-center"},[t.showRecordButton?a("button",{staticClass:"btn btn-default btn-sm m-3",attrs:{id:"snapshot"},on:{click:t.takeSnapshot}},[t._v("Record Snapshot")]):t._e(),a("button",{staticClass:"btn btn-default btn-sm m-3",attrs:{id:"reset_snaps"},on:{click:t.resetSnaps}},[t._v("Reset")]),a("button",{staticClass:"btn btn-default btn-sm m-3",attrs:{id:"download_snaps"},on:{click:t.outputToCSV}},[t._v("Download Snapshots")])])])},vt=[],_t=(a("b680"),{name:"MotorSnapshot",props:{},data:function(){return{dataStore:c,time:0,position:0,velocity:0,command:0,drive:0,error:0,snapshot_time:0,snapshot_position:0,snapshot_velocity:0,snapshot_command:0,snapshot_drive:0,snapshot_error:0,snaps:[]}},computed:{newData:function(){return this.dataStore.state.current_angle},showRecordButton:function(){return this.dataStore.state.isRecording}},watch:{newData:function(){this.time=c.getTime(),this.position=c.state.current_angle,this.velocity=2*c.state.current_ang_vel*Math.PI/60,null!=c.state.current_error?this.error=c.state.current_error:this.error=0,null!=c.state.current_drive?this.drive=c.state.current_drive:this.drive=0,null!=c.state.current_command_value?this.command=c.state.current_command_value:this.command=0}},mounted:function(){},methods:{takeSnapshot:function(){this.snapshot_time=this.time,this.snapshot_position=this.position,this.snapshot_velocity=this.velocity,null!=this.command?this.snapshot_command=this.command:this.snapshot_command=0,null!=this.drive?this.snapshot_drive=this.drive:this.snapshot_drive=0,null!=this.error?this.snapshot_error=this.error:this.snapshot_error=0;var t={time:this.snapshot_time.toFixed(2),position:this.snapshot_position.toFixed(2),velocity:this.snapshot_velocity.toFixed(2),command:this.snapshot_command.toFixed(2),drive:this.snapshot_drive.toFixed(2),error:this.snapshot_error.toFixed(2)};this.snaps.push(t)},resetSnaps:function(){this.snaps=[]},outputToCSV:function(){var t="",e="",a=new Date;e="SNAPSHOTs_"+a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString(),t="Time/s,Angle/rad,AngVel/rad/s,Command,Drive,Error\n",this.snaps.forEach((function(e){t+=e.time.toString(),t+=",",t+=e.position.toString(),t+=",",t+=e.velocity.toString(),null!=e.command?(t+=",",t+=e.command.toString()):(t+=",",t+=""),null!=e.drive?(t+=",",t+=e.drive.toString()):(t+=",",t+=""),null!=e.error?(t+=",",t+=e.error.toString()):(t+=",",t+=""),t+="\n"})),e+=".csv";var s=document.createElement("a");s.href="data:text/csv;charset=utf-8,"+encodeURI(t),s.target="_blank",s.download=e,s.click()}}}),bt=_t,kt=(a("f892"),Object(f["a"])(bt,gt,vt,!1,null,"6c70671e",null)),St=kt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 p-2 bg-white border rounded"},[t.isWorkspaceOn?a("div",[a("p",[t._v("Hotkeys:")]),a("p",[t._v("Press 'w' to swap between workspace (ruler and protractor tool) and the UI.")]),a("p",[t._v("Rotate a tool by holding 'o' and clicking and dragging it.")]),a("p",[t._v("Click 'Clear Workspace' in the navigation bar to remove the ruler and protractor.")])]):t._e()])},wt=[],Pt={name:"Instructions",props:{isWorkspaceOn:Boolean},data:function(){return{}},components:{},mounted:function(){},computed:{},methods:{}},Ct=Pt,yt=Object(f["a"])(Ct,xt,wt,!1,null,"0b79ceea",null),Mt=yt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("webcam-stream")],1),a("div",[a("data-stream")],1)])},Ot=[],Rt=(a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row",attrs:{id:"video"}},[a("div",{staticClass:"col-12"},[a("video-element",{attrs:{url:t.url}})],1)])])}),Tt=[],Nt=a("bc3a"),At=a.n(Nt),It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hasSessionEnded?a("div",{staticClass:"row"},[t._m(0)]):a("div",[t._m(1)])},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("img",{attrs:{id:"session-end-image",src:"https://assets.practable.io/images/common/thank-you-screen.svg",alt:"session ended"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("canvas",{attrs:{id:"video-canvas"}})])])}],Et=a("7a33"),Vt=a.n(Et),Lt={name:"VideoElement",props:["url"],data:function(){return{player:null,hasSessionEnded:!1}},computed:{getUrl:function(){return this.$store.getters.getVideoURL}},watch:{getUrl:function(){var t=document.getElementById("video-canvas");this.player=new Vt.a.Player(this.url,{canvas:t})}},created:function(){var t=this;aa.$on("sessionended",(function(e){t.hasSessionEnded=e}))},mounted:function(){}},Ft=Lt,zt=(a("7867"),Object(f["a"])(Ft,It,jt,!1,null,null,null)),Ut=zt.exports,Bt={name:"WebcamStream",components:{VideoElement:Ut},data:function(){return{stream:Object}},computed:{urlOK:function(){return this.$store.getters.getVideoURLObtained},streamOK:function(){return this.$store.getters.getStream("video")},url:function(){return this.$store.getters.getVideoURL}},mounted:function(){var t=this,e=function(){t.accessVideo()};document.addEventListener("streams:dropped",e)},methods:{accessVideo:function(){this.stream=this.$store.getters.getStream("video");var t=this.stream.url,e=this.stream.token,a=this.$store;a.dispatch("deleteVideoURL"),At.a.post(t,{},{headers:{Authorization:e}}).then((function(t){a.dispatch("setVideoURL",t.data.uri)})).catch((function(t){return console.log(t)}))}},watch:{streamOK:function(t){t?this.accessVideo():console.log("no stream")},urlOK:function(t){t&&console.log("get videoURL",this.urlOK,this.url)}}},Wt=Bt,Gt=(a("441c"),Object(f["a"])(Wt,Rt,Tt,!1,null,"53553830",null)),Kt=Gt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["spinning_disk"==t.version?a("div",[a("control-panel-spinning-disk",{attrs:{remoteLabVersion:t.version,isDataRecorderOn:t.dataRecorder,disableTooltips:t.tooltips,url:t.url}})],1):"robot_arm"==t.version?a("div",[a("control-panel-robot-arm",{attrs:{remoteLabVersion:t.version,isDataRecorderOn:t.dataRecorder,disableTooltips:t.tooltips,url:t.url}})],1):"variable_governor"==t.version?a("div",[a("control-panel-variable-governor",{attrs:{remoteLabVersion:t.version,isDataRecorderOn:t.dataRecorder,disableTooltips:t.tooltips,url:t.url}})],1):t._e()])},Jt=[],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row align-content-center m-1"},[a("div",{staticClass:"col-12"},[a("canvas",{directives:[{name:"show",rawName:"v-show",value:"stopped"==t.currentMode||"positionPid"==t.currentMode,expression:"currentMode == 'stopped' || currentMode == 'positionPid'"}],attrs:{id:"smoothie-chart"}})])]),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",[t._v("Current mode: "+t._s(this.currentMode))])]),a("div",{staticClass:"panel-body"},[t._v(t._s(this.message))]),a("div",{staticClass:"panel-footer"},[t._v(t._s(this.error))])]),a("div",{attrs:{id:"buttons"}},[a("div",{staticClass:"row align-content-center m-1 btn-group"},[a("div",{staticClass:"col-sm"},["stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"pidposition"},on:{click:t.positionPid}},[t._v("PID Position")]):t._e(),a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"stop"},on:{click:t.stop}},[t._v("Stop")]),"stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"setmode"},on:{click:function(e){t.changingMode=!0}}},[t._v("Calibrate")]):t._e(),a("label",{staticClass:"m-2",attrs:{for:"inputSelect"}},[t._v("Input type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.inputMode,expression:"inputMode"}],attrs:{name:"inputSelect",id:"inputSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.inputMode=e.target.multiple?a:a[0]},t.updateStore]}},[a("option",{attrs:{value:"free"}},[t._v("Free")]),a("option",{attrs:{value:"step"}},[t._v("Step")])])])]),t.changingMode?a("div",{staticClass:"row align-content-center m-1 btn-group"},[a("div",{staticClass:"col-sm"},[a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"armposition"},on:{click:t.changeArm}},[t._v("Set Arm")]),a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"zero"},on:{click:t.zero}},[t._v("Zero")]),a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"initialise"},on:{click:t.initialise}},[t._v("Initialise")])])]):t._e()]),"changeArm"==t.currentMode?a("div",{staticClass:"row justify-content-center m-2 align-items-center"},[a("div",{staticClass:"col-3 sliderlabel"},[t._v(" Arm(60-120) ("+t._s(t.armPosition)+")")]),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.armPosition,expression:"armPosition"}],staticClass:"slider",attrs:{type:"range",min:"60",max:"120",id:"armSlider"},domProps:{value:t.armPosition},on:{__r:function(e){t.armPosition=e.target.value}}})]),a("button",{staticClass:"btn btn-default btn-lg col-2",attrs:{id:"set"},on:{click:t.setArm}},[t._v("Set")])]):t._e(),"positionPid"==t.currentMode?a("div",["free"==t.inputMode?a("div",["positionPid"==t.currentMode?a("div",{staticClass:"row justify-content-center m-2 align-items-center"},[a("div",{staticClass:"col-3 sliderlabel"},[t._v(" Angle ("+t._s(parseFloat(Math.PI*t.angleParam/180).toFixed(2))+"rad)")]),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.angleParam,expression:"angleParam"}],staticClass:"slider",attrs:{type:"range",min:"-50",max:"50",id:"angleSlider"},domProps:{value:t.angleParam},on:{__r:function(e){t.angleParam=e.target.value}}})]),a("button",{staticClass:"btn btn-default btn-lg col-2",attrs:{id:"set"},on:{click:t.setPosition}},[t._v("Set")])]):t._e()]):"step"==t.inputMode?a("div",[a("StepCommand",{attrs:{mode:t.currentMode,remoteLabVersion:t.version,dataSocket:t.getDataSocket,isDataRecorderOn:t.dataRecorder,disableTooltips:t.tooltips}})],1):"ramp"==t.inputMode?a("div",[a("RampCommand",{attrs:{mode:t.currentMode,remoteLabVersion:t.version,dataSocket:t.getDataSocket,isDataRecorderOn:t.dataRecorder,disableTooltips:t.tooltips}})],1):t._e()]):t._e(),"positionPid"==t.currentMode||"stopped"==t.currentMode?a("div",{staticClass:"row justify-content-center m-1 align-items-center"},[a("div",{staticClass:"form-group col-2"},[a("label",{attrs:{for:"kp"}},[t._v("Kp:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kpParam,expression:"kpParam"}],class:t.checkInputValid("kp",t.kpParam),attrs:{type:"text",id:"kp"},domProps:{value:t.kpParam},on:{input:function(e){e.target.composing||(t.kpParam=e.target.value)}}}),a("b-tooltip",{attrs:{triggers:"hover",delay:{show:t.tooltip_delay,hide:0},disabled:t.disableTooltips,target:"kp",title:t.getTooltipTitle("kp",t.kpParam)},on:{"update:disabled":function(e){t.disableTooltips=e}}})],1),a("div",{staticClass:"form-group col-2"},[a("label",{attrs:{for:"ki"}},[t._v("Ki:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kiParam,expression:"kiParam"}],class:t.checkInputValid("ki",t.kiParam),attrs:{type:"text",id:"ki"},domProps:{value:t.kiParam},on:{input:function(e){e.target.composing||(t.kiParam=e.target.value)}}}),a("b-tooltip",{attrs:{triggers:"hover",delay:{show:t.tooltip_delay,hide:0},disabled:t.disableTooltips,target:"ki",title:t.getTooltipTitle("ki",t.kiParam)},on:{"update:disabled":function(e){t.disableTooltips=e}}})],1),a("div",{staticClass:"form-group col-2"},[a("label",{attrs:{for:"kd"}},[t._v("Kd:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kdParam,expression:"kdParam"}],class:t.checkInputValid("kd",t.kdParam),attrs:{type:"text",id:"kd"},domProps:{value:t.kdParam},on:{input:function(e){e.target.composing||(t.kdParam=e.target.value)}}}),a("b-tooltip",{attrs:{triggers:"hover",delay:{show:t.tooltip_delay,hide:0},disabled:t.disableTooltips,target:"kd",title:t.getTooltipTitle("kd",t.kdParam)},on:{"update:disabled":function(e){t.disableTooltips=e}}})],1),a("button",{staticClass:"btn btn-default btn-sm mr-2",attrs:{id:"set"},on:{click:t.setParameters}},[t._v("Set")]),a("button",{staticClass:"btn btn-default btn-sm",attrs:{id:"reset"},on:{click:t.resetParameters}},[t._v("Reset")])]):t._e()])},Ht=[],qt=(a("96cf"),a("1da1")),Qt=a("2589"),Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 p-2 bg-secondary border rounded"},[t._m(0),a("div",{staticClass:"row justify-content-center"},["speedRaw"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"step_raw"}},[t._v("Step size (0 - "+t._s(t.max_voltage_step)+"V)")]):"positionPid"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"step_speed"}},[t._v("Step size (0 - "+t._s(t.max_position_step.toFixed(2))+" rad)")]):"speedPid"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"step_position"}},[t._v("Step size (0 - "+t._s(t.max_speed_step)+" rad/s)")]):t._e(),"speedRaw"==t.mode?a("input",{directives:[{name:"model",rawName:"v-model",value:t.step_size,expression:"step_size"}],class:t.getInputClass(t.step_size),attrs:{id:"step_raw",max:"max_voltage_step",min:"-max_voltage_step"},domProps:{value:t.step_size},on:{change:t.updateStore,input:function(e){e.target.composing||(t.step_size=e.target.value)}}}):"speedPid"==t.mode?a("input",{directives:[{name:"model",rawName:"v-model",value:t.step_size,expression:"step_size"}],class:t.getInputClass(t.step_size),attrs:{id:"step_speed",max:"max_speed_step",min:"-max_speed_step"},domProps:{value:t.step_size},on:{change:t.updateStore,input:function(e){e.target.composing||(t.step_size=e.target.value)}}}):"positionPid"==t.mode?a("input",{directives:[{name:"model",rawName:"v-model",value:t.step_size,expression:"step_size"}],class:t.getInputClass(t.step_size),attrs:{id:"step_position",max:"max_position_step",min:"-max_position_step"},domProps:{value:t.step_size},on:{change:t.updateStore,input:function(e){e.target.composing||(t.step_size=e.target.value)}}}):t._e(),a("button",{attrs:{id:"run"},on:{click:t.runCommand}},[t._v("Run")])])])},Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("h2",{attrs:{for:"addCommand"}},[t._v("Step Input")])])}],te={name:"StepCommand",props:{remoteLabVersion:String,mode:String,dataSocket:WebSocket,isDataRecorderOn:Boolean,disableTooltips:Boolean},data:function(){return{time_to_step:0,step_size:null,motor_max_voltage:12,encoder_max:1e3,tooltip_delay:2e3,max_position_step:2*Math.PI,max_speed_step:100,max_voltage_step:12}},components:{},created:function(){"variable_governor"==this.remoteLabVersion?this.max_position_step=Math.PI:"robot_arm"==this.remoteLabVersion&&(this.max_position_step=3*Math.PI/10)},mounted:function(){},methods:{runCommand:function(){this.isDataRecorderOn&&(c.state.isRecording=!0),aa.$emit("showinputtype",!1),c.state.step.step_time=this.time_to_step,c.state.step.step_start=0,c.state.step.step_size=this.step_size,"positionPid"==this.mode?aa.$emit("addstepfunction","angle"):"speedPid"==this.mode?aa.$emit("addstepfunction","rpm"):aa.$emit("addstepfunction","voltage(V)"),this.sendCommand()},sendCommand:function(){if("speedRaw"==this.mode){var t=parseFloat(this.step_size);this.dataSocket.send(JSON.stringify({set:"volts",to:t}))}else if("positionPid"==this.mode){var e=c.state.current_angle+parseFloat(this.step_size);this.dataSocket.send(JSON.stringify({set:"position",to:e}))}else if("speedPid"==this.mode){var a=2*c.state.current_ang_vel*Math.PI/60+parseFloat(this.step_size);this.dataSocket.send(JSON.stringify({set:"velocity",to:a}))}},updateStore:function(){c.state.step.step_time=this.time_to_step,this.mode,c.state.step.step_start=0,c.state.step.step_size=this.step_size},checkValueRange:function(t){return isNaN(t)||t<0?"Invalid step":"variable_governor"==this.remoteLabVersion||"spinning_disk"==this.remoteLabVersion?"positionPid"==this.mode?t>this.max_position_step?"Step too large":"Step size OK":"speedPid"==this.mode?t>this.max_speed_step?"Step too large":"Step size OK":"speedRaw"==this.mode?t>this.max_voltage_step?"Step too large":"Step size OK":"":"robot_arm"==this.remoteLabVersion?"positionPid"==this.mode?c.state.current_angle+t>this.max_position_step?"Steps outside of arm range":"Step size OK":"":void 0},getInputClass:function(t){var e="mr-2 form-control",a="";return!isNaN(t)&&t>=0?"positionPid"==this.mode?"robot_arm"==this.remoteLabVersion?c.state.current_angle+t>this.max_position_step&&(a=" error"):t>this.max_position_step&&(a=" error"):"speedPid"==this.mode?t>this.max_speed_step&&(a=" error"):t>this.max_voltage_step&&(a=" error"):a=" error",e+a}}},ee=te,ae=(a("4e55"),Object(f["a"])(ee,Zt,Yt,!1,null,"8024fc08",null)),se=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 p-2 bg-secondary border rounded"},[t._m(0),a("div",{staticClass:"row justify-content-center"},["speedRaw"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"ramp_start"}},[t._v("Start V")]):"speedPid"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"ramp_start"}},[t._v("Start rad/s")]):t._e(),"speedRaw"==t.mode||"speedPid"==t.mode?a("input",{directives:[{name:"model",rawName:"v-model",value:t.ramp_start,expression:"ramp_start"}],staticClass:"mr-2",attrs:{id:"ramp_start",size:"3"},domProps:{value:t.ramp_start},on:{input:function(e){e.target.composing||(t.ramp_start=e.target.value)}}}):t._e(),a("button",{directives:[{name:"show",rawName:"v-show",value:"speedRaw"==t.mode||"speedPid"==t.mode,expression:"mode == 'speedRaw' || mode == 'speedPid'"}],attrs:{id:"set"},on:{click:t.setStart}},[t._v("Set")])]),a("div",{staticClass:"row justify-content-center m-2"},["speedRaw"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"ramp_gradient"}},[t._v("Ramp gradient (V/s)")]):"positionPid"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"ramp_gradient"}},[t._v("Ramp gradient (rad/s)")]):"speedPid"==t.mode?a("label",{staticClass:"m-2",attrs:{for:"ramp_gradient"}},[t._v("Ramp gradient ((rad/s)/s)")]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ramp_gradient,expression:"ramp_gradient"}],class:t.getInputClass(t.ramp_gradient),attrs:{id:"ramp_gradient",size:"3"},domProps:{value:t.ramp_gradient},on:{input:function(e){e.target.composing||(t.ramp_gradient=e.target.value)}}}),"stopped"!=t.mode?a("button",{attrs:{id:"run",disabled:t.isRampRunning},on:{click:t.runCommand}},[t._v("Run")]):t._e()])])},ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("h2",{attrs:{for:"addCommand"}},[t._v("Ramp Input")])])}],re={name:"RampCommand",props:{remoteLabVersion:String,mode:String,dataSocket:WebSocket,isDataRecorderOn:Boolean,disableTooltips:Boolean},data:function(){return{time_until_ramp:0,ramp_gradient:1,ramp_start:1,motor_max_voltage:12,encoder_max:1e3,time:0,time_interval:.1,interval_id:null,max_value:6,initial_angle:0,tooltip_delay:2e3,max_position_ramp:2*Math.PI,max_speed_ramp:50,max_voltage_ramp:12,isRampRunning:!1}},components:{},computed:{},created:function(){aa.$on("stopramp",this.stopCommand)},mounted:function(){},methods:{runCommand:function(){var t=this;this.isRampRunning||(this.isDataRecorderOn&&(c.state.isRecording=!0),aa.$emit("showinputtype",!1),this.time=0,this.time_interval=parseFloat(this.time_interval),this.ramp_gradient=Math.abs(parseFloat(this.ramp_gradient)),c.state.ramp.ramp_start_time=this.time_until_ramp,c.state.ramp.ramp_start=0,c.state.ramp.ramp_gradient=this.ramp_gradient,"speedPid"==this.mode?(this.max_value=c.state.ramp.max_rad_s,aa.$emit("addrampfunction","rad/s",this.max_value)):"speedRaw"==this.mode?(this.max_value=c.state.ramp.max_voltage,aa.$emit("addrampfunction","voltage(V)",this.max_value)):"positionPid"==this.mode&&(this.max_value=6*Math.PI,aa.$emit("addrampfunction","theta",this.max_value)),this.initial_angle=c.state.current_angle,this.interval_id=setInterval((function(){return t.sendCommand()}),1e3*this.time_interval),this.isRampRunning=!0)},sendCommand:function(){this.time+=this.time_interval;var t=this.ramp_gradient*this.time;if("speedRaw"==this.mode){var e=parseFloat(t)+parseFloat(this.ramp_start);this.dataSocket.send(JSON.stringify({set:"volts",to:e}))}else if("speedPid"==this.mode){var a=parseFloat(t)+parseFloat(this.ramp_start);this.dataSocket.send(JSON.stringify({set:"velocity",to:a}))}else if("positionPid"==this.mode){var s=parseFloat(t)+parseFloat(this.initial_angle);this.dataSocket.send(JSON.stringify({set:"position",to:s}))}else this.stopCommand()},stopCommand:function(){clearInterval(this.interval_id),this.isRampRunning=!1},setStart:function(){var t=parseFloat(this.ramp_start);"speedRaw"==this.mode?this.dataSocket.send(JSON.stringify({set:"volts",to:t})):this.dataSocket.send(JSON.stringify({set:"velocity",to:t}))},checkValueRange:function(t){return isNaN(t)||t<0?"Invalid ramp":"positionPid"==this.mode?t>this.max_position_ramp?"Ramp gradient is large":"Ramp gradient OK":"speedPid"==this.mode?t>this.max_speed_ramp?"Ramp gradient is large":"Ramp gradient OK":"speedRaw"==this.mode?t>this.max_voltage_ramp?"Ramp gradient is large":"Ramp gradient OK":""},getInputClass:function(t){var e="mr-2 form-control",a="";return!isNaN(t)&&t>=0?"positionPid"==this.mode?t>this.max_position_ramp&&(a=" error"):"speedPid"==this.mode?t>this.max_speed_ramp&&(a=" error"):t>this.max_voltage_ramp&&(a=" error"):a=" error",e+a}}},oe=re,ce=(a("5d96"),Object(f["a"])(oe,ie,ne,!1,null,"e382afc4",null)),de=ce.exports,le={name:"ControlPanel",props:{isDataRecorderOn:Boolean,disableTooltips:Boolean,remoteLabVersion:String,url:String},components:{StepCommand:se,RampCommand:de},data:function(){return{local_debug:!1,dataSocket:null,angleParam:0,kpParam:1,kiParam:0,kdParam:0,dtParam:10,armPosition:90,isStopped:!0,changingMode:!1,currentMode:"stopped",inputMode:"free",message:"",error:"",canvas:null,angle_max:3.14,angle_min:-3.14,timerParam:30,tooltip_delay:2e3,max_parameter_values:{kp:10,ki:20,kd:5,dt:20},min_parameter_values:{kp:0,ki:0,kd:0,dt:.01}}},created:function(){aa.$on("stop",this.stop),aa.$on("setfreeinput",this.setFreeMode),aa.$on("setstepinput",this.setStepMode),aa.$on("setrampinput",this.setRampMode),aa.$on("setpidpositionmode",this.positionPid),aa.$on("hardwarestop",this.hasStopped)},mounted:function(){return Object(qt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{getDataSocket:function(){return this.dataSocket},getUrl:function(){return this.$store.getters.getDataURL},version:function(){return this.$store.getters.getRemoteLabVersion},dataRecorder:function(){return this.$store.getters.getIsDataRecorderOn},tooltips:function(){return this.$store.getters.getDisableTooltips}},watch:{getUrl:function(){var t=this;return Object(qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.connect();case 2:console.log("connection complete"),t.setParameters(),console.log("params set"),c.setGraphDataParameter("theta");case 6:case"end":return e.stop()}}),e)})))()}},methods:{stop:function(){this.clearMessages(),this.speedParam=0,this.currentMode="stopped",this.dataSocket.send(JSON.stringify({set:"mode",to:"stop"})),this.changingMode=!1,this.updateStore()},hasStopped:function(){"stopped"!=this.currentMode&&(this.clearMessages(),this.showInputType=!0,"zero"==this.currentMode?this.message="Hardware has been zeroed":this.error="Hardware has automatically stopped. You are best to zero the hardware before restart",this.speedParam=0,this.currentMode="stopped",this.changingMode=!1,this.updateStore())},zero:function(){this.clearMessages(),"stopped"==this.currentMode?(this.currentMode="zero",this.dataSocket.send(JSON.stringify({set:"mode",to:"zero"}))):this.error="Must STOP before ZERO",this.changingMode=!1,this.updateStore()},positionPid:function(){this.clearMessages(),"stopped"==this.currentMode?(this.currentMode="positionPid",this.dataSocket.send(JSON.stringify({set:"mode",to:"positionPid"}))):this.error="Must STOP before entering positionPid mode",this.changingMode=!1,this.updateStore()},setPosition:function(){if(this.clearMessages(),isNaN(this.angleParam))this.error="Angle parameter is NaN";else if("positionPid"==this.currentMode){var t=2e3*this.angleParam/360;this.dataSocket.send(JSON.stringify({set:"position",to:t}))}else this.error="Must be in positionPid mode"},initialise:function(){this.clearMessages(),"stopped"==this.currentMode?(this.currentMode="initialise",this.dataSocket.send(JSON.stringify({set:"mode",to:"initialise"}))):this.error="Must STOP before entering initialise mode",this.changingMode=!1,this.updateStore()},changeArm:function(){this.clearMessages(),"stopped"==this.currentMode?(this.currentMode="changeArm",this.dataSocket.send(JSON.stringify({set:"mode",to:"changeArm"}))):this.error="Must STOP before entering changeArm mode",this.changingMode=!1,this.updateStore()},setArm:function(){if(this.clearMessages(),"changeArm"==this.currentMode){var t=this.armPosition;this.dataSocket.send(JSON.stringify({set:"arm",to:t}))}else this.error="Must be in changeArm mode"},setParameters:function(){!isNaN(this.kpParam)&&!isNaN(this.kiParam)&&!isNaN(this.kdParam)&&!isNaN(this.dtParam)&&this.kpParam>=0&&this.kiParam>=0&&this.kdParam>=0&&this.dtParam>=0?(this.dataSocket.send(JSON.stringify({set:"parameters",kp:this.kpParam,ki:this.kiParam,kd:this.kdParam})),this.updateStore()):this.error="Cannot parse PID parameters"},setTimer:function(){this.clearMessages(),this.dataSocket.send(JSON.stringify({set:"timer",to:this.timerParam}))},hotkey:function(t){"s"==t.key&&this.stop()},clearMessages:function(){this.message="",this.error=""},updateStore:function(){c.state.pid_parameters.Kp=this.kpParam,c.state.pid_parameters.Ki=this.kiParam,c.state.pid_parameters.Kd=this.kdParam,c.state.pid_parameters.dt=this.dtParam,c.state.currentMode=this.currentMode,c.state.inputMode=this.inputMode},setFreeMode:function(){this.inputMode="free"},setStepMode:function(){this.inputMode="step"},setRampMode:function(){this.inputMode="ramp"},resetParameters:function(){this.kpParam=1,this.kiParam=0,this.kdParam=0,this.dtParam=20,this.setParameters()},connect:function(){var t=this;return Object(qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=t.url;console.log("data URL is ="+a),t.dataSocket=new WebSocket(t.url);var s,i,n,r=0,o=0,d=!1,l=1200,u=60,m=2e3,p=!0,h=new Qt["SmoothieChart"]({responsive:p,millisPerPixel:10,grid:{fillStyle:"#ffffff"},interpolation:"linear",maxValue:1.57,minValue:-1.57,labels:{fillStyle:"#0024ff",precision:2}});t.canvas=document.getElementById("smoothie-chart");var f=new Qt["TimeSeries"];h.addTimeSeries(f,{lineWidth:2,strokeStyle:"#0024ff"}),h.streamTo(t.canvas,0),t.dataSocket.onopen=function(t){console.log("dataSocket open"+t),e(console.log("opened"))},t.dataSocket.onmessage=function(t){try{var e=JSON.parse(t.data),a=e.time,p=(new Date).getTime()-a,h=e.enc;if(c.state.current_enc_pos=h,e.awaiting_stop&&aa.$emit("hardwarestop"),0==o&&(r=p),s=1/u,i=1-s,p=o<l?(r*o+p)/(o+1):r*i+p*s,o+=1,h=2*h*Math.PI/m,h>=-Math.PI&&h<=Math.PI){c.state.current_angle=h;var g=180*h/Math.PI;c.state.current_angle_deg=g}n=a+r,isNaN(n)?d&&console.log("NaN so not logging to smoothie",r,p,a,h):(isNaN(h)||f.append(a+r,h),c.state.current_time=a+r,d&&console.log(r,p,a,h))}catch(v){d&&console.log(v)}},c.state.start_time=(new Date).getTime(),window.addEventListener("keydown",t.hotkey,!1),window.addEventListener("pagehide",t.stop),window.addEventListener("beforeunload",t.stop)})));case 1:case"end":return e.stop()}}),e)})))()},checkInputValid:function(t,e){return!isNaN(e)&&e>=0?"kp"==t?e>this.max_parameter_values.kp||e<this.min_parameter_values.kp?"form-control error":"form-control":"ki"==t?e>this.max_parameter_values.ki||e<this.min_parameter_values.ki?"form-control error":"form-control":"kd"==t?e>this.max_parameter_values.kd||e<this.min_parameter_values.kd?"form-control error":"form-control":"dt"==t?e>this.max_parameter_values.dt||e<this.min_parameter_values.dt?"form-control error":"form-control":void 0:" form-control error"},getTooltipTitle:function(t,e){return isNaN(e)?"Invalid input":"kp"==t?e>this.max_parameter_values.kp||e<this.min_parameter_values.kp?"Outside appropriate range":"Value looks good!":"ki"==t?e>this.max_parameter_values.ki||e<this.min_parameter_values.ki?"Outside appropriate range":"Value looks good!":"kd"==t?e>this.max_parameter_values.kd||e<this.min_parameter_values.kd?"Outside appropriate range":"Value looks good!":"dt"==t?e>this.max_parameter_values.dt||e<this.min_parameter_values.dt?"Outside appropriate range":"Value looks good!":void 0}}},ue=le,me=(a("9b4d"),Object(f["a"])(ue,Xt,Ht,!1,null,"c08adf6c",null)),pe=me.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row align-content-center m-1"},[a("div",{staticClass:"col-12"},[a("canvas",{directives:[{name:"show",rawName:"v-show",value:"positionPid"==t.currentMode,expression:'currentMode == "positionPid"'}],attrs:{id:"smoothie-chart_theta"}}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:"positionPid"!=t.currentMode,expression:'currentMode != "positionPid"'}],attrs:{id:"smoothie-chart_omega"}})])]),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",[t._v("Current mode: "+t._s(t.getModeName))])]),a("div",{staticClass:"panel-body"},[t._v(t._s(this.message))]),a("div",{class:t.getErrorClass},[a("h3",[t._v(t._s(this.error))])])]),a("div",{attrs:{id:"buttons"}},[a("div",{staticClass:"row align-content-center m-1 btn-group"},[a("div",{staticClass:"col-sm"},["stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg mr-1",attrs:{id:"pidspeed"},on:{click:t.speedPid}},[t._v("Velocity (PID)")]):t._e(),"stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg mr-1",attrs:{id:"pidposition"},on:{click:t.positionPid}},[t._v("Position (PID)")]):t._e(),"stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg mr-1",attrs:{id:"dcmotor"},on:{click:t.speedRaw}},[t._v("Voltage (open loop)")]):t._e(),a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"stop"},on:{click:t.stop}},[t._v("Stop")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showInputType,expression:"showInputType"}]},[a("label",{staticClass:"m-2",attrs:{for:"inputSelect"}},[t._v("Input type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.inputMode,expression:"inputMode"}],attrs:{name:"inputSelect",id:"inputSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.inputMode=e.target.multiple?a:a[0]},t.updateStore]}},[a("option",{attrs:{value:"free"}},[t._v("Free")]),a("option",{attrs:{value:"step"}},[t._v("Step")]),"robot_arm"!=t.remoteLabVersion?a("option",{attrs:{value:"ramp"}},[t._v("Ramp")]):t._e()])])])])]),"positionPid"==t.currentMode||"speedPid"==t.currentMode||"speedRaw"==t.currentMode?a("div",["free"==t.inputMode?a("div",["positionPid"==t.currentMode?a("div",{staticClass:"row justify-content-center m-2 align-items-center"},[a("div",{staticClass:"col-3 sliderlabel"},[t._v(" Angle ("+t._s(parseFloat(t.angleParam).toFixed(2))+"rad)")]),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.angleParam,expression:"angleParam"}],staticClass:"slider",attrs:{type:"range",min:"-1.57",max:"1.57",step:"0.01",id:"angleSlider"},domProps:{value:t.angleParam},on:{__r:function(e){t.angleParam=e.target.value}}})]),a("button",{staticClass:"btn btn-default btn-lg col-2",attrs:{id:"set"},on:{click:t.setPosition}},[t._v("Set")])]):t._e(),"speedPid"==t.currentMode?a("div",{staticClass:"row justify-content-center m-1 align-items-center"},[a("div",{staticClass:"col-3  sliderlabel"},[t._v(" Speed ("+t._s(parseFloat(t.speedParam).toFixed(2))+"rad/s)")]),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.speedParam,expression:"speedParam"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"200",id:"brakeSlider"},domProps:{value:t.speedParam},on:{__r:function(e){t.speedParam=e.target.value}}})]),a("button",{staticClass:"btn btn-default btn-lg col-2",attrs:{id:"set"},on:{click:t.setSpeed}},[t._v("Set")])]):t._e(),"speedRaw"==t.currentMode?a("div",[a("DCMotorPanel",{attrs:{dataSocket:t.getDataSocket,maxV:12}})],1):t._e()]):"step"==t.inputMode?a("div",[a("StepCommand",{attrs:{mode:t.currentMode,remoteLabVersion:t.remoteLabVersion,dataSocket:t.getDataSocket,isDataRecorderOn:t.isDataRecorderOn,disableTooltips:t.disableTooltips}})],1):"ramp"==t.inputMode?a("div",[a("RampCommand",{attrs:{mode:t.currentMode,remoteLabVersion:t.remoteLabVersion,dataSocket:t.getDataSocket,isDataRecorderOn:t.isDataRecorderOn,disableTooltips:t.disableTooltips}})],1):t._e()]):t._e(),"speedPid"==t.currentMode||"positionPid"==t.currentMode?a("div",{staticClass:"row justify-content-center m-1 align-items-center"},[a("div",{staticClass:"form-group col-2"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kpParam,expression:"kpParam"}],class:t.checkInputValid("kp",t.kpParam),attrs:{type:"text",id:"kp"},domProps:{value:t.kpParam},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setParameters(e)},blur:t.setParameters,input:function(e){e.target.composing||(t.kpParam=e.target.value)}}})]),a("div",{staticClass:"form-group col-2"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kiParam,expression:"kiParam"}],class:t.checkInputValid("ki",t.kiParam),attrs:{type:"text",id:"ki"},domProps:{value:t.kiParam},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setParameters(e)},blur:t.setParameters,input:function(e){e.target.composing||(t.kiParam=e.target.value)}}})]),a("div",{staticClass:"form-group col-2"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kdParam,expression:"kdParam"}],class:t.checkInputValid("kd",t.kdParam),attrs:{type:"text",id:"kd"},domProps:{value:t.kdParam},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setParameters(e)},blur:t.setParameters,input:function(e){e.target.composing||(t.kdParam=e.target.value)}}})]),a("button",{staticClass:"btn btn-default btn-sm mt-3",attrs:{id:"reset"},on:{click:t.resetParameters}},[t._v("Reset")])]):t._e()])},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"kp"}},[t._v("K"),a("sub",[t._v("p")]),t._v(":")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"ki"}},[t._v("K"),a("sub",[t._v("i")]),t._v(":")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"kd"}},[t._v("K"),a("sub",[t._v("d")]),t._v(":")])}],ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 p-2 bg-white border rounded"},[a("div",{staticClass:"form-group row justify-content-center align-items-center pb-2"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"voltage"}},[t._v("Input voltage ("+t._s(t.voltage)+"V)")]),a("div",{staticClass:"col-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.voltage,expression:"voltage"}],staticClass:"slider",attrs:{type:"range",min:-t.maxV,max:t.maxV,step:"0.1",list:"tickmarks",id:"voltage"},domProps:{value:t.voltage},on:{change:t.setVoltage,__r:function(e){t.voltage=e.target.value}}})]),a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"ang_vel"}},[t._v("Motor angular velocity (rad/s)")]),t.isAnalogueOutput?a("div",{staticClass:"col-sm-4"},[a("analogue-output",{attrs:{outputValue:t.angVel,minValue:0,maxValue:300,intervalValue:20,minorIntervalValue:10}})],1):a("div",{staticClass:"col-sm-4"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"ang_velocity"},domProps:{value:t.avgAngVel}})])])])},ve=[],_e=(a("a9e3"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),be=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-0 p-0 bg-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("canvas",{attrs:{id:"output"}})])])])}],ke={name:"AnalogueOutput",props:{outputValue:String,minValue:Number,maxValue:Number,intervalValue:Number,minorIntervalValue:Number},data:function(){return{canvas:null,ctx:null,arm:0}},created:function(){},beforeMount:function(){},mounted:function(){this.canvas=document.getElementById("output"),this.ctx=this.canvas.getContext("2d"),this.drawDial(),this.drawTicks(),this.drawMinorTicks(),this.drawArm()},components:{},computed:{armValue:function(){var t=this.outputValue;return isNaN(Number(t))?0:Number(t)}},watch:{armValue:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),isNaN(Number(this.outputValue))?this.arm=0:this.arm=Math.abs(Number(this.outputValue)),this.drawDial(),this.drawTicks(),this.drawMinorTicks(),this.drawArm()}},methods:{drawArm:function(){var t=Math.PI/2+2*Math.PI*this.arm/this.maxValue;this.ctx.lineWidth=4,this.ctx.beginPath(),this.ctx.moveTo(this.canvas.width/2,this.canvas.height/2),this.ctx.lineTo(this.canvas.width/2+Math.cos(t)*this.canvas.height/2,this.canvas.height/2+Math.sin(t)*this.canvas.height/2),this.ctx.strokeStyle="#586A73",this.ctx.stroke()},drawDial:function(){this.ctx.beginPath(),this.ctx.arc(this.canvas.width/2,this.canvas.height/2,this.canvas.height/2-5,0,2*Math.PI),this.ctx.lineWidth=3,this.ctx.fillStyle="rgba(50, 50, 50, 0.1)",this.ctx.strokeStyle="#92949C",this.ctx.stroke(),this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(this.canvas.width/2,this.canvas.height/2,this.canvas.height/2,0,2*Math.PI),this.ctx.lineWidth=3,this.ctx.strokeStyle="#92949C",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(this.canvas.width/2,this.canvas.height/2,5,0,2*Math.PI),this.ctx.lineWidth=3,this.ctx.fillStyle="#353535",this.ctx.strokeStyle="#0C3D4A",this.ctx.stroke(),this.ctx.fill()},drawTicks:function(){for(var t=(this.maxValue-this.minValue)/this.intervalValue,e=Math.PI/2,a=0;a<t;a++){e=2*a*Math.PI/t+Math.PI/2,this.ctx.lineWidth=2,this.ctx.beginPath();var s=this.canvas.width/2+Math.cos(e)*(this.canvas.height/2),i=this.canvas.height/2+Math.sin(e)*(this.canvas.height/2),n=this.canvas.width/2+Math.cos(e)*(this.canvas.height/2-this.canvas.height/2/4),r=this.canvas.height/2+Math.sin(e)*(this.canvas.height/2-this.canvas.height/2/4);this.ctx.moveTo(s,i),this.ctx.lineTo(n,r),this.ctx.strokeStyle="#466B76",this.ctx.stroke(),this.drawTickValue((this.minValue+a*this.intervalValue).toString(),n,r)}},drawTickValue:function(t,e,a){this.ctx.font="10px Arial",this.ctx.textAlign="center",this.ctx.fillText(t,e,a)},drawMinorTicks:function(){for(var t=(this.maxValue-this.minValue)/this.minorIntervalValue,e=Math.PI/2,a=0;a<t;a++){e=2*a*Math.PI/t+Math.PI/2,this.ctx.lineWidth=1,this.ctx.beginPath();var s=this.canvas.width/2+Math.cos(e)*(this.canvas.height/2),i=this.canvas.height/2+Math.sin(e)*(this.canvas.height/2),n=this.canvas.width/2+Math.cos(e)*(this.canvas.height/2-this.canvas.height/2/7),r=this.canvas.height/2+Math.sin(e)*(this.canvas.height/2-this.canvas.height/2/7);this.ctx.moveTo(s,i),this.ctx.lineTo(n,r),this.ctx.strokeStyle="#466B76",this.ctx.stroke()}}}},Se=ke,xe=(a("9889"),Object(f["a"])(Se,_e,be,!1,null,"699ee62e",null)),we=xe.exports,Pe={name:"DCMotorPanel",props:{dataSocket:WebSocket,maxV:Number},data:function(){return{data_store:c,voltage:0,motor_max_voltage:12,isAnalogueOutput:!0}},beforeMount:function(){},mounted:function(){},components:{AnalogueOutput:we},computed:{angVel:function(){var t=this.data_store.state.current_ang_vel;return t=2*t*Math.PI/60,t},avgAngVel:function(){var t=this.data_store.calculateAverageVelocity();return t.toFixed(2)}},methods:{setVoltage:function(){var t=this.voltage;this.dataSocket.send(JSON.stringify({set:"volts",to:t}))}}},Ce=Pe,ye=Object(f["a"])(Ce,ge,ve,!1,null,"3a60a2a0",null),Me=ye.exports,De={name:"ControlPanel",props:{isDataRecorderOn:Boolean,disableTooltips:Boolean,remoteLabVersion:String,url:String},components:{DCMotorPanel:Me,StepCommand:se,RampCommand:de},data:function(){return{dataSocket:null,speedParam:0,angleParam:0,kpParam:1,kiParam:0,kdParam:0,dtParam:20,isStopped:!0,changingMode:!1,currentMode:"stopped",inputMode:"step",message:"",error:"",canvas_omega:null,canvas_theta:null,ang_vel_max:1e3,ang_vel_min:-1e3,angle_max:3.14,angle_min:-3.14,timerParam:30,tooltip_delay:2e3,showInputType:!0,max_parameter_values:{kp:10,ki:10,kd:5,dt:20},min_parameter_values:{kp:0,ki:0,kd:0,dt:.01}}},created:function(){var t=this;aa.$on("stop",this.stop),aa.$on("setfreeinput",this.setFreeMode),aa.$on("setstepinput",this.setStepMode),aa.$on("setrampinput",this.setRampMode),aa.$on("setdcmotormode",this.speedRaw),aa.$on("setpidspeedmode",this.speedPid),aa.$on("setpidpositionmode",this.positionPid),aa.$on("hardwarestop",this.hasStopped),aa.$on("showinputtype",(function(e){t.showInputType=e})),aa.$on("maxdatapointsreached",(function(){t.error="Max data points reached, graphing automatically stopped"}))},mounted:function(){},computed:{getDataSocket:function(){return this.dataSocket},getUrl:function(){return this.$store.getters.getDataURL},version:function(){return this.$store.getters.getRemoteLabVersion},dataRecorder:function(){return this.$store.getters.getIsDataRecorderOn},tooltips:function(){return this.$store.getters.getDisableTooltips},getModeName:function(){return"positionPid"==this.currentMode?"position (PID)":"speedPid"==this.currentMode?"velocity (PID)":"speedRaw"==this.currentMode?"voltage (open loop)":this.currentMode},getErrorClass:function(){return""==this.error?"":"error-message border border-danger"}},watch:{getUrl:function(){var t=this;return Object(qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.connect();case 2:console.log("connection complete"),c.setGraphDataParameter("omega");case 4:case"end":return e.stop()}}),e)})))()}},methods:{stop:function(){this.clearMessages(),"ramp"==this.inputMode&&aa.$emit("stopramp"),this.showInputType=!0,this.speedParam=0,this.currentMode="stopped",this.dataSocket.send(JSON.stringify({set:"mode",to:"stop"})),this.changingMode=!1,this.updateStore()},hasStopped:function(t){"stopped"!=this.currentMode&&(this.clearMessages(),this.showInputType=!0,this.error="Automatic stop: "+t+". Select a mode to continue.",this.speedParam=0,this.currentMode="stopped",this.changingMode=!1,this.updateStore())},speedPid:function(){this.clearMessages(),this.setMaxParameters("speedPid"),"stopped"==this.currentMode?(c.setGraphDataParameter("omega"),this.currentMode="speedPid",this.dataSocket.send(JSON.stringify({set:"mode",to:"velocity"}))):this.error="Must STOP before entering speedPid mode",this.changingMode=!1,this.updateStore(),setTimeout(this.setParameters,500)},speedRaw:function(){this.clearMessages(),"stopped"==this.currentMode?(c.setGraphDataParameter("omega"),this.currentMode="speedRaw",this.dataSocket.send(JSON.stringify({set:"mode",to:"motor"}))):this.error="Must STOP before entering speedRaw mode",this.changingMode=!1,this.updateStore()},setSpeed:function(){if(this.clearMessages(),this.showInputType=!1,isNaN(this.speedParam))this.error="Speed parameter is NaN";else if("speedPid"==this.currentMode){var t=parseFloat(this.speedParam);this.dataSocket.send(JSON.stringify({set:"velocity",to:t}))}else this.error},positionPid:function(){this.clearMessages(),this.setMaxParameters("positionPid"),"stopped"==this.currentMode?(c.setGraphDataParameter("theta"),this.currentMode="positionPid",this.dataSocket.send(JSON.stringify({set:"mode",to:"position"}))):this.error="Must STOP before entering positionPid mode",this.changingMode=!1,this.updateStore(),setTimeout(this.setParameters,500)},setPosition:function(){if(this.clearMessages(),this.showInputType=!1,isNaN(this.angleParam))this.error="Angle parameter is NaN";else if("positionPid"==this.currentMode){var t=this.angleParam;this.dataSocket.send(JSON.stringify({set:"position",to:t}))}else this.error="Must be in positionPid mode"},setParameters:function(){this.clearMessages(),!isNaN(this.kpParam)&&!isNaN(this.kiParam)&&!isNaN(this.kdParam)&&!isNaN(this.dtParam)&&this.kpParam>=0&&this.kiParam>=0&&this.kdParam>=0?(console.log("Kp set = "+parseFloat(this.kpParam)),this.dataSocket.send(JSON.stringify({set:"parameters",kp:parseFloat(this.kpParam),ki:parseFloat(this.kiParam),kd:parseFloat(this.kdParam)})),this.updateStore(),console.log("parameters sent")):this.error="Cannot parse PID parameters"},setTimer:function(){this.clearMessages(),this.dataSocket.send(JSON.stringify({set:"timer",to:this.timerParam}))},hotkey:function(t){"s"==t.key&&this.stop()},clearMessages:function(){this.message="",this.error=""},updateStore:function(){c.state.pid_parameters.Kp=this.kpParam,c.state.pid_parameters.Ki=this.kiParam,c.state.pid_parameters.Kd=this.kdParam,c.state.pid_parameters.dt=this.dtParam,c.state.currentMode=this.currentMode,c.state.inputMode=this.inputMode,console.log("store updated")},setFreeMode:function(){this.inputMode="free"},setStepMode:function(){this.inputMode="step"},setRampMode:function(){this.inputMode="ramp"},resetParameters:function(){this.kpParam=1,this.kiParam=0,this.kdParam=0,this.dtParam=20,this.setParameters()},toggleInputType:function(t){console.log("event emitted"),this.showInputType=t},connect:function(){var t=this;return Object(qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=t.url;console.log("data URL is ="+a),t.dataSocket=new WebSocket(t.url);var s,i,n,r=0,o=0,d=[],l=0,u=!1,m=1200,p=60,h=!0,f=new Qt["SmoothieChart"]({responsive:h,millisPerPixel:10,grid:{fillStyle:"#ffffff"},maxValue:400,minValue:-400,interpolation:"linear",labels:{fillStyle:"#0024ff",precision:2}});t.canvas_omega=document.getElementById("smoothie-chart_omega");var g=new Qt["TimeSeries"];f.addTimeSeries(g,{lineWidth:2,strokeStyle:"#0024ff"}),f.streamTo(t.canvas_omega,0);var v=new Qt["SmoothieChart"]({responsive:h,millisPerPixel:10,grid:{fillStyle:"#ffffff"},maxValue:6.28,minValue:-1,interpolation:"linear",labels:{fillStyle:"#0024ff",precision:2}});t.canvas_theta=document.getElementById("smoothie-chart_theta");var _=new Qt["TimeSeries"];v.addTimeSeries(_,{lineWidth:2,strokeStyle:"#0024ff"}),v.streamTo(t.canvas_theta,0),t.dataSocket.onopen=function(t){console.log("dataSocket open"+t),e(console.log("opened"))},t.dataSocket.onmessage=function(e){try{var a=JSON.parse(e.data);if(c.state.current_p_value=a.p_sig,c.state.current_i_value=a.i_sig,c.state.current_d_value=a.d_sig,c.state.current_error=a.e,c.state.current_drive=a.y,c.state.current_command_value=a.c,a.error)t.hasStopped(a.error);else{var h=a.t;h=parseFloat(h);var f=(new Date).getTime()-h,v=a.d,b=a.v,k=60*b/(2*Math.PI);0==l?(r=f,d[0]=f):d[l%10]=f,o=0;for(var S=0;S<d.length;S++)o+=d[S];o/=d.length,s=1/p,i=1-s,f=l<m?(r*l+f)/(l+1):r*i+f*s,l+=1,n=h+f,isNaN(n)?u&&console.log("NaN so not logging to smoothie",r,h,b):(isNaN(v)||(c.state.current_time=h,c.state.current_angle=v,_.append(h+o,v)),isNaN(b)||(c.state.current_time=h,c.state.current_ang_vel=k,g.append(h+o,b)),u&&console.log(r,h,b))}}catch(x){u&&console.log(x)}},c.state.start_time=(new Date).getTime(),window.addEventListener("keydown",t.hotkey,!1),window.addEventListener("pagehide",t.stop),window.addEventListener("beforeunload",t.stop)})));case 1:case"end":return e.stop()}}),e)})))()},setMaxParameters:function(t){("positionPid"==t||"speedPid"==t)&&(this.max_parameter_values.kp=10,this.max_parameter_values.ki=10,this.max_parameter_values.kd=5,this.max_parameter_values.dt=20)},checkInputValid:function(t,e){return!isNaN(e)&&e>=0?"kp"==t?e>this.max_parameter_values.kp||e<this.min_parameter_values.kp?"form-control error":"form-control":"ki"==t?e>this.max_parameter_values.ki||e<this.min_parameter_values.ki?"form-control error":"form-control":"kd"==t?e>this.max_parameter_values.kd||e<this.min_parameter_values.kd?"form-control error":"form-control":"dt"==t?e>this.max_parameter_values.dt||e<this.min_parameter_values.dt?"form-control error":"form-control":void 0:" form-control error"},getTooltipTitle:function(t,e){return isNaN(e)?"Invalid input":"kp"==t?e>this.max_parameter_values.kp||e<this.min_parameter_values.kp?"Outside appropriate range":"Value looks good!":"ki"==t?e>this.max_parameter_values.ki||e<this.min_parameter_values.ki?"Outside appropriate range":"Value looks good!":"kd"==t?e>this.max_parameter_values.kd||e<this.min_parameter_values.kd?"Outside appropriate range":"Value looks good!":"dt"==t?e>this.max_parameter_values.dt||e<this.min_parameter_values.dt?"Outside appropriate range":"Value looks good!":void 0}}},Oe=De,Re=(a("7d33"),Object(f["a"])(Oe,he,fe,!1,null,"2e7214fe",null)),Te=Re.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row align-content-center m-1"},[a("div",{staticClass:"col-12"},[a("canvas",{directives:[{name:"show",rawName:"v-show",value:"positionPid"==t.currentMode,expression:'currentMode == "positionPid"'}],attrs:{id:"smoothie-chart_theta"}}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:"positionPid"!=t.currentMode,expression:'currentMode != "positionPid"'}],attrs:{id:"smoothie-chart_omega"}})])]),a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("h3",[t._v("Current mode: "+t._s(this.currentMode))])]),a("div",{staticClass:"panel-body"},[t._v(t._s(this.message))]),a("div",{staticClass:"panel-footer"},[t._v(t._s(this.error))])]),a("div",{attrs:{id:"buttons"}},[a("div",{staticClass:"row align-content-center m-1 btn-group"},[a("div",{staticClass:"col-sm"},["stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"pidspeed"},on:{click:t.speedPid}},[t._v("PID Speed")]):t._e(),"stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"pidposition"},on:{click:t.positionPid}},[t._v("PID Position")]):t._e(),"stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"dcmotor"},on:{click:t.speedRaw}},[t._v("DC Motor")]):t._e(),"stopped"==t.currentMode?a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"setmode"},on:{click:function(e){t.changingMode=!0}}},[t._v("Calibrate")]):t._e(),a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"stop"},on:{click:t.stop}},[t._v("Stop")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showInputType,expression:"showInputType"}]},[a("label",{staticClass:"m-2",attrs:{for:"inputSelect"}},[t._v("Input type:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.inputMode,expression:"inputMode"}],attrs:{name:"inputSelect",id:"inputSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.inputMode=e.target.multiple?a:a[0]},t.updateStore]}},[a("option",{attrs:{value:"free"}},[t._v("Free")]),a("option",{attrs:{value:"step"}},[t._v("Step")]),"robot_arm"!=t.remoteLabVersion?a("option",{attrs:{value:"ramp"}},[t._v("Ramp")]):t._e()])])])]),t.changingMode?a("div",{staticClass:"row align-content-center m-1 btn-group"},[a("div",{staticClass:"col-sm"},[a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"resetHeight"},on:{click:t.resetHeight}},[t._v("Zero")]),a("button",{staticClass:"btn btn-default btn-lg",attrs:{id:"configure"},on:{click:t.configure}},[t._v("Set height")])])]):t._e()]),"positionPid"==t.currentMode||"speedPid"==t.currentMode||"speedRaw"==t.currentMode?a("div",["free"==t.inputMode?a("div",["positionPid"==t.currentMode?a("div",{staticClass:"row justify-content-center m-2 align-items-center"},[a("div",{staticClass:"col-3 sliderlabel"},[t._v(" Angle ("+t._s(parseFloat(Math.PI*t.angleParam/180).toFixed(2))+"rad)")]),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.angleParam,expression:"angleParam"}],staticClass:"slider",attrs:{type:"range",min:"-180",max:"180",id:"angleSlider"},domProps:{value:t.angleParam},on:{__r:function(e){t.angleParam=e.target.value}}})]),a("button",{staticClass:"btn btn-default btn-lg col-2",attrs:{id:"set"},on:{click:t.setPosition}},[t._v("Set")])]):t._e(),"speedPid"==t.currentMode?a("div",{staticClass:"row justify-content-center m-1 align-items-center"},[a("div",{staticClass:"col-3  sliderlabel"},[t._v(" Speed ("+t._s((2*t.speedParam*Math.PI/60).toFixed(2))+"rad/s)")]),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.speedParam,expression:"speedParam"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1000",id:"brakeSlider"},domProps:{value:t.speedParam},on:{__r:function(e){t.speedParam=e.target.value}}})]),a("button",{staticClass:"btn btn-default btn-lg col-2",attrs:{id:"set"},on:{click:t.setSpeed}},[t._v("Set")])]):t._e(),"speedRaw"==t.currentMode?a("div",[a("DCMotorPanel",{attrs:{dataSocket:t.getDataSocket,maxV:6}})],1):t._e()]):"step"==t.inputMode?a("div",[a("StepCommand",{attrs:{mode:t.currentMode,remoteLabVersion:t.version,dataSocket:t.getDataSocket,isDataRecorderOn:t.dataRecorder,disableTooltips:t.tooltips}})],1):"ramp"==t.inputMode?a("div",[a("RampCommand",{attrs:{mode:t.currentMode,remoteLabVersion:t.version,dataSocket:t.getDataSocket,isDataRecorderOn:t.dataRecorder,disableTooltips:t.tooltips}})],1):t._e()]):t._e(),"configure"==t.currentMode?a("div",{staticClass:"row justify-content-center m-1 align-items-center"},[a("div",{staticClass:"col-3  sliderlabel"},[t._v(" Height ("+t._s(t.heightParam)+"mm)")]),a("div",{staticClass:"col-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.heightParam,expression:"heightParam"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"30",id:"heightSlider"},domProps:{value:t.heightParam},on:{change:t.setHeight,__r:function(e){t.heightParam=e.target.value}}})])]):t._e(),"speedPid"==t.currentMode||"positionPid"==t.currentMode||"stopped"==t.currentMode?a("div",{staticClass:"row justify-content-center m-1 align-items-center"},[a("div",{staticClass:"form-group col-2"},[a("label",{attrs:{for:"kp"}},[t._v("Kp:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kpParam,expression:"kpParam"}],class:t.checkInputValid("kp",t.kpParam),attrs:{type:"text",id:"kp"},domProps:{value:t.kpParam},on:{input:function(e){e.target.composing||(t.kpParam=e.target.value)}}}),a("b-tooltip",{attrs:{triggers:"hover",delay:{show:t.tooltip_delay,hide:0},disabled:t.disableTooltips,target:"kp",title:t.getTooltipTitle("kp",t.kpParam)},on:{"update:disabled":function(e){t.disableTooltips=e}}})],1),a("div",{staticClass:"form-group col-2"},[a("label",{attrs:{for:"ki"}},[t._v("Ki:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kiParam,expression:"kiParam"}],class:t.checkInputValid("ki",t.kiParam),attrs:{type:"text",id:"ki"},domProps:{value:t.kiParam},on:{input:function(e){e.target.composing||(t.kiParam=e.target.value)}}}),a("b-tooltip",{attrs:{triggers:"hover",delay:{show:t.tooltip_delay,hide:0},disabled:t.disableTooltips,target:"ki",title:t.getTooltipTitle("ki",t.kiParam)},on:{"update:disabled":function(e){t.disableTooltips=e}}})],1),a("div",{staticClass:"form-group col-2"},[a("label",{attrs:{for:"kd"}},[t._v("Kd:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.kdParam,expression:"kdParam"}],class:t.checkInputValid("kd",t.kdParam),attrs:{type:"text",id:"kd"},domProps:{value:t.kdParam},on:{input:function(e){e.target.composing||(t.kdParam=e.target.value)}}}),a("b-tooltip",{attrs:{triggers:"hover",delay:{show:t.tooltip_delay,hide:0},disabled:t.disableTooltips,target:"kd",title:t.getTooltipTitle("kd",t.kdParam)},on:{"update:disabled":function(e){t.disableTooltips=e}}})],1),a("button",{staticClass:"btn btn-default btn-sm mr-2",attrs:{id:"set"},on:{click:t.setParameters}},[t._v("Set")]),a("button",{staticClass:"btn btn-default btn-sm",attrs:{id:"reset"},on:{click:t.resetParameters}},[t._v("Reset")])]):t._e()])},Ae=[],Ie={name:"ControlPanel",props:{isDataRecorderOn:Boolean,disableTooltips:Boolean,remoteLabVersion:String,url:String},components:{DCMotorPanel:Me,StepCommand:se,RampCommand:de},data:function(){return{local_debug:!1,dataSocket:null,speedParam:0,heightParam:0,angleParam:0,kpParam:1,kiParam:0,kdParam:0,dtParam:10,isStopped:!0,changingMode:!1,currentMode:"stopped",inputMode:"free",message:"",error:"",canvas_omega:null,canvas_theta:null,ang_vel_max:1e3,ang_vel_min:-1e3,angle_max:3.14,angle_min:-3.14,timerParam:30,tooltip_delay:2e3,showInputType:!0,max_parameter_values:{kp:10,ki:20,kd:5,dt:20},min_parameter_values:{kp:0,ki:0,kd:0,dt:.01}}},created:function(){var t=this;aa.$on("stop",this.stop),aa.$on("setfreeinput",this.setFreeMode),aa.$on("setstepinput",this.setStepMode),aa.$on("setrampinput",this.setRampMode),aa.$on("setdcmotormode",this.speedRaw),aa.$on("setpidspeedmode",this.speedPid),aa.$on("hardwarestop",this.hasStopped),aa.$on("showinputtype",(function(e){t.showInputType=e}))},mounted:function(){return Object(qt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{getDataSocket:function(){return this.dataSocket},getUrl:function(){return this.$store.getters.getDataURL},version:function(){return this.$store.getters.getRemoteLabVersion},dataRecorder:function(){return this.$store.getters.getIsDataRecorderOn},tooltips:function(){return this.$store.getters.getDisableTooltips}},watch:{getUrl:function(){var t=this;return Object(qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.connect();case 2:return console.log("connection complete"),t.setParameters(),console.log("params set"),e.next=7,new Promise((function(t){setTimeout((function(){t(console.log("waiting to resetHeight"))}),1e3)}));case 7:t.resetHeight(),c.setGraphDataParameter("omega");case 9:case"end":return e.stop()}}),e)})))()}},methods:{stop:function(){this.clearMessages(),"ramp"==this.inputMode&&aa.$emit("stopramp"),this.showInputType=!0,this.speedParam=0,this.currentMode="stopped",this.dataSocket.send(JSON.stringify({set:"mode",to:"stop"})),this.changingMode=!1,this.updateStore()},hasStopped:function(){"stopped"!=this.currentMode&&(this.clearMessages(),this.showInputType=!0,"resetHeight"==this.currentMode?this.message="Height reset":"positionPid"==this.currentMode?this.error="Hardware has automatically stopped. Try reducing the PID parameters or step size":this.error="Hardware has timed out and automatically stopped",this.speedParam=0,this.currentMode="stopped",this.changingMode=!1,this.updateStore())},resetHeight:function(){this.clearMessages(),"stopped"==this.currentMode?(this.currentMode="resetHeight",this.dataSocket.send(JSON.stringify({set:"mode",to:"resetHeight"}))):this.error="Must STOP before resetHeight",this.heightParam=0,this.changingMode=!1,this.updateStore()},configure:function(){this.clearMessages(),"stopped"==this.currentMode?(this.currentMode="configure",this.dataSocket.send(JSON.stringify({set:"mode",to:"configure"}))):this.error="Must STOP before configure",this.changingMode=!1,this.updateStore()},speedPid:function(){this.clearMessages(),this.setMaxParameters("speedPid"),"stopped"==this.currentMode?(c.setGraphDataParameter("omega"),this.currentMode="speedPid",this.dataSocket.send(JSON.stringify({set:"mode",to:"speedPid"}))):this.error="Must STOP before entering speedPid mode",this.changingMode=!1,this.updateStore()},speedRaw:function(){this.clearMessages(),"stopped"==this.currentMode?(c.setGraphDataParameter("omega"),this.currentMode="speedRaw",this.dataSocket.send(JSON.stringify({set:"mode",to:"speedRaw"}))):this.error="Must STOP before entering speedRaw mode",this.changingMode=!1,this.updateStore()},setSpeed:function(){this.clearMessages(),this.showInputType=!1,isNaN(this.speedParam)?this.error="Speed parameter is NaN":"speedPid"==this.currentMode||"speedRaw"==this.currentMode?this.dataSocket.send(JSON.stringify({set:"speed",to:this.speedParam})):this.error},positionPid:function(){this.clearMessages(),this.setMaxParameters("positionPid"),"stopped"==this.currentMode?(c.setGraphDataParameter("theta"),this.currentMode="positionPid",this.dataSocket.send(JSON.stringify({set:"mode",to:"positionPid"}))):this.error="Must STOP before entering positionPid mode",this.changingMode=!1,this.updateStore()},setPosition:function(){if(this.clearMessages(),this.showInputType=!1,isNaN(this.angleParam))this.error="Angle parameter is NaN";else if("positionPid"==this.currentMode){var t=2e3*this.angleParam/360;this.dataSocket.send(JSON.stringify({set:"position",to:t}))}else this.error="Must be in positionPid mode"},setHeight:function(){this.clearMessages(),"configure"==this.currentMode?this.dataSocket.send(JSON.stringify({set:"height",to:this.heightParam})):this.error="Must be in configure mode"},setParameters:function(){this.clearMessages(),!isNaN(this.kpParam)&&!isNaN(this.kiParam)&&!isNaN(this.kdParam)&&!isNaN(this.dtParam)&&this.kpParam>=0&&this.kiParam>=0&&this.kdParam>=0&&this.dtParam>=0?(this.dataSocket.send(JSON.stringify({set:"parameters",kp:this.kpParam,ki:this.kiParam,kd:this.kdParam})),this.updateStore()):this.error="Cannot parse PID parameters"},setTimer:function(){this.clearMessages(),this.dataSocket.send(JSON.stringify({set:"timer",to:this.timerParam}))},hotkey:function(t){"s"==t.key&&this.stop()},clearMessages:function(){this.message="",this.error=""},updateStore:function(){c.state.pid_parameters.Kp=this.kpParam,c.state.pid_parameters.Ki=this.kiParam,c.state.pid_parameters.Kd=this.kdParam,c.state.pid_parameters.dt=this.dtParam,c.state.currentMode=this.currentMode,c.state.inputMode=this.inputMode,console.log("store updated")},setFreeMode:function(){this.inputMode="free"},setStepMode:function(){this.inputMode="step"},setRampMode:function(){this.inputMode="ramp"},resetParameters:function(){this.kpParam=1,this.kiParam=0,this.kdParam=0,this.dtParam=20,this.setParameters()},toggleInputType:function(t){console.log("event emitted"),this.showInputType=t},connect:function(){var t=this;return Object(qt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=t.url;console.log("data URL is ="+a),t.dataSocket=new WebSocket(t.url);var s,i,n,r=0,o=0,d=!1,l=1200,u=60,m=2e3,p=!0,h=new Qt["SmoothieChart"]({responsive:p,millisPerPixel:10,grid:{fillStyle:"#ffffff"},interpolation:"linear",maxValue:220,minValue:-220,labels:{fillStyle:"#0024ff",precision:2}});t.canvas_omega=document.getElementById("smoothie-chart_omega");var f=new Qt["TimeSeries"];h.addTimeSeries(f,{lineWidth:2,strokeStyle:"#0024ff"}),h.streamTo(t.canvas_omega,0);var g=new Qt["SmoothieChart"]({responsive:p,millisPerPixel:10,grid:{fillStyle:"#ffffff"},interpolation:"linear",maxValue:3.14,minValue:-3.14,labels:{fillStyle:"#0024ff",precision:2}});t.canvas_theta=document.getElementById("smoothie-chart_theta");var v=new Qt["TimeSeries"];g.addTimeSeries(v,{lineWidth:2,strokeStyle:"#0024ff"}),g.streamTo(t.canvas_theta,0),t.dataSocket.onopen=function(t){console.log("dataSocket open"+t),e(console.log("opened"))},t.dataSocket.onmessage=function(t){try{var e=JSON.parse(t.data),a=e.time,p=(new Date).getTime()-a,h=e.enc;c.state.current_enc_pos=h;var g=e.enc_ang_vel;if(e.awaiting_stop&&aa.$emit("hardwarestop"),0==o&&(r=p),s=1/u,i=1-s,p=o<l?(r*o+p)/(o+1):r*i+p*s,o+=1,h=2*h*Math.PI/m,h>=-Math.PI&&h<=Math.PI){c.state.current_angle=h;var _=180*h/Math.PI;c.state.current_angle_deg=_}if(n=a+r,isNaN(n))d&&console.log("NaN so not logging to smoothie",r,p,a,g);else{if(isNaN(h)||v.append(a+r,h),!isNaN(g)&&g<2e3){c.state.current_ang_vel=g;var b=2*g*Math.PI/60;f.append(a+r,b)}c.state.current_time=a,d&&console.log(r,p,a,g)}}catch(k){d&&console.log(k)}},c.state.start_time=(new Date).getTime(),window.addEventListener("keydown",t.hotkey,!1),window.addEventListener("pagehide",t.stop),window.addEventListener("beforeunload",t.stop)})));case 1:case"end":return e.stop()}}),e)})))()},setMaxParameters:function(t){"positionPid"==t?(this.max_parameter_values.kp=10,this.max_parameter_values.ki=20,this.max_parameter_values.kd=5,this.max_parameter_values.dt=20):"speedPid"==t&&(this.max_parameter_values.kp=2,this.max_parameter_values.ki=10,this.max_parameter_values.kd=1,this.max_parameter_values.dt=20)},checkInputValid:function(t,e){return!isNaN(e)&&e>=0?"kp"==t?e>this.max_parameter_values.kp||e<this.min_parameter_values.kp?"form-control error":"form-control":"ki"==t?e>this.max_parameter_values.ki||e<this.min_parameter_values.ki?"form-control error":"form-control":"kd"==t?e>this.max_parameter_values.kd||e<this.min_parameter_values.kd?"form-control error":"form-control":"dt"==t?e>this.max_parameter_values.dt||e<this.min_parameter_values.dt?"form-control error":"form-control":void 0:" form-control error"},getTooltipTitle:function(t,e){return isNaN(e)?"Invalid input":"kp"==t?e>this.max_parameter_values.kp||e<this.min_parameter_values.kp?"Outside appropriate range":"Value looks good!":"ki"==t?e>this.max_parameter_values.ki||e<this.min_parameter_values.ki?"Outside appropriate range":"Value looks good!":"kd"==t?e>this.max_parameter_values.kd||e<this.min_parameter_values.kd?"Outside appropriate range":"Value looks good!":"dt"==t?e>this.max_parameter_values.dt||e<this.min_parameter_values.dt?"Outside appropriate range":"Value looks good!":void 0}}},je=Ie,Ee=(a("cdf1"),Object(f["a"])(je,Ne,Ae,!1,null,"79c782d4",null)),Ve=Ee.exports,Le={name:"DataStream",components:{ControlPanelRobotArm:pe,ControlPanelSpinningDisk:Te,ControlPanelVariableGovernor:Ve},data:function(){return{stream:Object}},computed:{urlOK:function(){return this.$store.getters.getDataURLObtained},streamOK:function(){return this.$store.getters.getStream("data")},url:function(){return this.$store.getters.getDataURL},version:function(){return this.$store.getters.getRemoteLabVersion},dataRecorder:function(){return this.$store.getters.getIsDataRecorderOn},tooltips:function(){return this.$store.getters.getDisableTooltips}},mounted:function(){var t=this,e=function(){t.getWebsocketConnection()};document.addEventListener("streams:dropped",e)},methods:{getWebsocketConnection:function(){this.stream=this.$store.getters.getStream("data");var t=this.stream.url,e=this.stream.token,a=this.$store;a.dispatch("deleteDataURL"),At.a.post(t,{},{headers:{Authorization:e}}).then((function(t){a.dispatch("setDataURL",t.data.uri)})).catch((function(t){return console.log(t)}))}},watch:{streamOK:function(t){t?this.getWebsocketConnection():console.log("no stream")},urlOK:function(t){t&&console.log("get dataURL",this.urlOK,this.url)}}},Fe=Le,ze=Object(f["a"])(Fe,$t,Jt,!1,null,"09d269f5",null),Ue=ze.exports,Be=a("5a0c"),We=a.n(Be),Ge={name:"Streams",components:{WebcamStream:Kt,DataStream:Ue},data:function(){return{}},computed:{decodedStreams:function(){return this.$store.getters.getStreams},streamsObtained:function(){return this.$store.getters.getStreamsObtained},videoStream:function(){return this.$store.getters.getStream("video")},dataStream:function(){return this.$store.getters.getStream("data")}},created:function(){aa.$on("sessionended",this.sessionExpired)},mounted:function(){if(!this.streamsObtained){try{var t=new URLSearchParams(window.location.search),e=t.get("streams"),a=JSON.parse(decodeURIComponent(String(e)));this.$store.dispatch("setStreams",a);var s=t.get("exp");this.$store.dispatch("setExpiryTime",s);var i=t.get("v");this.$store.dispatch("setCamera",i)}catch(d){console.log("error decoding streams"),this.$store.dispatch("deleteStreams")}var n=this,r=function(){n.$store.dispatch("setLastVideoWrite",We()().valueOf())};document.addEventListener("jsmpeg:write",(function(){r()}));var o=function(){var t=n.$store.getters.getLastVideoCheck,e=n.$store.getters.getLastVideoWrite,a=function(){n.$store.dispatch("setConnectionIsDropped",!0),n.$store.dispatch("setConnectionDroppedAt",We()().unix());var t=new Event("streams:dropped");document.dispatchEvent(t)};if(t>e){if(n.$store.getters.getConnectionIsDropped){var s=n.$store.getters.getConnectionDroppedAt,i=We()().unix()-s;return void(i>10&&a())}a()}else n.$store.dispatch("setLastVideoCheck",We()().valueOf()),n.$store.dispatch("setConnectionIsDropped",!1)},c=setInterval(o,1e3);document.addEventListener("streams:expired",(function(){clearInterval(c)}))}},methods:{sessionExpired:function(){var t=new Event("streams:expired");document.dispatchEvent(t)}},watch:{}},Ke=Ge,$e=Object(f["a"])(Ke,Dt,Ot,!1,null,null,null),Je=$e.exports,Xe={name:"App",components:{GraphOutput:v,TableOutput:P,Stopwatch:R,Workspace:F,DataRecorder:K,NavigationBar:st,GraphInput:dt,SystemDiagrams:ft,Streams:Je,MotorSnapshot:St,Instructions:Mt},data:function(){return{remoteLabVersion:"spinning_disk",isTableOn:!1,isGraphOn:!1,isStopwatchOn:!1,isWorkspaceOn:!1,isAutoCommandOn:!1,isDataRecorderOn:!1,isInputGraphOn:!1,isSystemDiagramsOn:!1,isSimulationOn:!1,isSnapshotOn:!1,disableTooltips:!1,showLoadDataModal:!1,saved_date:""}},created:function(){aa.$on("togglegraph",this.toggleGraph),aa.$on("clearworkspace",this.clearWorkspace),aa.$on("toggleworkspace",this.addWorkspace),aa.$on("toggledatarecorder",this.toggleDataRecorder),aa.$on("togglestopwatch",this.toggleStopwatch),aa.$on("toggletable",this.toggleTable),aa.$on("togglegraphinput",this.toggleInputGraph),aa.$on("togglesystemdiagrams",this.toggleSystemDiagrams),aa.$on("togglesimulation",this.toggleSimulation),aa.$on("togglesnapshot",this.toggleSnapshot),aa.$on("setexercise1v1",this.setExercise1v1Interface),aa.$on("setexercise1v2",this.setExercise1v2Interface),aa.$on("setexercise1v3",this.setExercise1v3Interface),aa.$on("setexercise2v1",this.setExercise2v1Interface),this.$store.dispatch("setRemoteLabVersion",this.remoteLabVersion),this.$store.dispatch("setDataRecorder",this.isDataRecorderOn),this.$store.dispatch("setDisableTooltips",this.disableTooltips)},mounted:function(){var t=this;c.hasDataToLoad(this.remoteLabVersion)?(this.saved_date=JSON.parse(window.localStorage.getItem("dateSaved")),this.showLoadDataModal=!0):this.showLoadDataModal=!1,window.addEventListener("pagehide",(function(){c.saveDataToLocalStorage(t.remoteLabVersion)})),window.addEventListener("beforeunload",(function(){c.saveDataToLocalStorage(t.remoteLabVersion)}))},methods:{addWorkspace:function(){this.isWorkspaceOn=!0},toggleGraph:function(){this.isGraphOn=!this.isGraphOn,this.isGraphOn&&(this.isDataRecorderOn||this.toggleDataRecorder())},clearWorkspace:function(){this.isWorkspaceOn=!1},toggleDataRecorder:function(){this.isDataRecorderOn=!this.isDataRecorderOn,this.isDataRecorderOn?this.$store.dispatch("setDataRecorder",!0):this.$store.dispatch("setDataRecorder",!1)},toggleStopwatch:function(){this.isStopwatchOn=!this.isStopwatchOn},toggleTable:function(){this.isTableOn=!this.isTableOn,this.isTableOn&&(this.isDataRecorderOn||this.toggleDataRecorder())},toggleInputGraph:function(){this.isInputGraphOn=!this.isInputGraphOn},toggleSystemDiagrams:function(){this.isSystemDiagramsOn=!this.isSystemDiagramsOn},toggleSimulation:function(){this.isSimulationOn=!this.isSimulationOn},toggleSnapshot:function(){this.isSnapshotOn=!this.isSnapshotOn,this.isSnapshotOn&&(this.isDataRecorderOn||this.toggleDataRecorder())},setExercise1v1Interface:function(){this.isGraphOn=!1,this.isDataRecorderOn=!1,this.isTableOn=!1,this.isInputGraphOn=!1,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,aa.$emit("stop"),aa.$emit("setdcmotormode"),aa.$emit("setfreeinput")},setExercise1v2Interface:function(){this.isGraphOn=!0,this.isDataRecorderOn=!0,this.isTableOn=!1,this.isInputGraphOn=!0,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,aa.$emit("stop"),aa.$emit("setdcmotormode"),aa.$emit("setstepinput")},setExercise1v3Interface:function(){this.isGraphOn=!0,this.isDataRecorderOn=!0,this.isTableOn=!1,this.isInputGraphOn=!0,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,aa.$emit("stop"),aa.$emit("setpidpositionmode"),aa.$emit("setstepinput")},setExercise2v1Interface:function(){this.isGraphOn=!0,this.isDataRecorderOn=!0,this.isTableOn=!1,this.isInputGraphOn=!0,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,aa.$emit("stop"),aa.$emit("setpidpositionmode"),aa.$emit("setstepinput")},loadData:function(){c.loadDataFromLocalStorage(),this.showLoadDataModal=!1}}},He=Xe,qe=(a("034f"),Object(f["a"])(He,i,n,!1,null,null,null)),Qe=qe.exports,Ze=a("2f62");s["default"].use(Ze["a"]);var Ye=new Ze["a"].Store({state:{connectionDroppedAt:0,connectionIsDropped:!1,lastVideoCheck:0,lastVideoWrite:0,streams:[],streamsObtained:!1,videoURL:"",videoURLObtained:!1,dataURL:"",dataURLObtained:!1,remoteLabVersion:"",isDataRecorderOn:!1,disableTooltips:!1,expiryTime:"",camera:""},mutations:{SET_CONNECTION_DROPPED_AT:function(t,e){t.connectionDroppedAt=e},SET_CONNECTION_IS_DROPPED:function(t,e){t.connectionIsDropped=e},SET_LAST_VIDEO_CHECK:function(t,e){t.lastVideoCheck=e},SET_LAST_VIDEO_WRITE:function(t,e){t.lastVideoWrite=e},DELETE_STREAMS:function(t){t.streams={},t.streamsObtained=!1},SET_STREAMS:function(t,e){t.streams=e,t.streamsObtained=!0},SET_VIDEO_URL:function(t,e){t.videoURL=e,t.videoURLObtained=!0},DELETE_VIDEO_URL:function(t){t.videoURL="",t.videoURLObtained=!1},SET_DATA_URL:function(t,e){t.dataURL=e,t.dataURLObtained=!0},DELETE_DATA_URL:function(t){t.dataURL="",t.dataURLObtained=!1},SET_REMOTE_LAB_VERSION:function(t,e){t.remoteLabVersion=e},SET_DATA_RECORDER:function(t,e){t.isDataRecorderOn=e},SET_DISABLE_TOOLTIPS:function(t,e){t.disableTooltips=e},SET_EXPIRY_TIME:function(t,e){t.expiryTime=e},SET_CAMERA:function(t,e){t.camera=e}},actions:{setConnectionDroppedAt:function(t,e){t.commit("SET_CONNECTION_DROPPED_AT",e)},setConnectionIsDropped:function(t,e){t.commit("SET_CONNECTION_IS_DROPPED",e)},setLastVideoCheck:function(t,e){t.commit("SET_LAST_VIDEO_CHECK",e)},setLastVideoWrite:function(t,e){t.commit("SET_LAST_VIDEO_WRITE",e)},deleteStreams:function(t){t.commit("DELETE_STREAMS")},setStreams:function(t,e){t.commit("SET_STREAMS",e)},setVideoURL:function(t,e){t.commit("SET_VIDEO_URL",e)},deleteVideoURL:function(t){t.commit("DELETE_VIDEO_URL")},setDataURL:function(t,e){t.commit("SET_DATA_URL",e)},deleteDataURL:function(t){t.commit("DELETE_DATA_URL")},setRemoteLabVersion:function(t,e){t.commit("SET_REMOTE_LAB_VERSION",e)},setDataRecorder:function(t,e){t.commit("SET_DATA_RECORDER",e)},setDisableTooltips:function(t,e){t.commit("SET_DISABLE_TOOLTIPS",e)},setExpiryTime:function(t,e){t.commit("SET_EXPIRY_TIME",e)},setCamera:function(t,e){t.commit("SET_CAMERA",e)}},getters:{getStreamsObtained:function(t){return t.streamsObtained},getStreams:function(t){return t.streams},getStream:function(t){return function(e){if(null!=t.streams){if(!t.streamsObtained)return{};var a=t.streams.filter((function(t){return t.for==e}));return a.length<1?{}:a[0]}return{}}},getVideoURL:function(t){return t.videoURL},getVideoURLObtained:function(t){return t.videoURLObtained},getDataURL:function(t){return t.dataURL},getDataURLObtained:function(t){return t.dataURLObtained},getRemoteLabVersion:function(t){return t.remoteLabVersion},getIsDataRecorderOn:function(t){return t.isDataRecorderOn},getDisableTooltips:function(t){return t.disableTooltips},getExpiryTime:function(t){return t.expiryTime},getConnectionDroppedAt:function(t){return t.connectionDroppedAt},getConnectionIsDropped:function(t){return t.connectionIsDropped},getLastVideoCheck:function(t){return t.lastVideoCheck},getLastVideoWrite:function(t){return t.lastVideoWrite},getCamera:function(t){return t.camera}}}),ta=Ye,ea=(a("ab8b"),a("5f5b")),aa=(a("54ba"),a("2dd8"),new s["default"]);s["default"].config.productionTip=!1,s["default"].use(ea["a"]),new s["default"]({store:ta,render:function(t){return t(Qe)}}).$mount("#app")},5700:function(t,e,a){"use strict";var s=a("d1f7"),i=a.n(s);i.a},"5cd5":function(t,e,a){"use strict";var s=a("d5de"),i=a.n(s);i.a},"5d96":function(t,e,a){"use strict";var s=a("841f"),i=a.n(s);i.a},"61bc":function(t,e,a){"use strict";var s=a("6931"),i=a.n(s);i.a},6439:function(t,e,a){"use strict";var s=a("104a"),i=a.n(s);i.a},6931:function(t,e,a){},7220:function(t,e,a){t.exports=a.p+"img/secondOrderBlockDiagram.e2c2213b.png"},"72af":function(t,e){t.exports="data:image/png;base64,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"},7867:function(t,e,a){"use strict";var s=a("7b41"),i=a.n(s);i.a},"7b41":function(t,e,a){},"7d33":function(t,e,a){"use strict";var s=a("c2c9"),i=a.n(s);i.a},"841f":function(t,e,a){},"851b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAAAoCAYAAABegnBwAAAABHNCSVQICAgIfAhkiAAAABl0RVh0U29mdHdhcmUAZ25vbWUtc2NyZWVuc2hvdO8Dvz4AAA0rSURBVHic7ZxrUJRVGMd/7I2biwpyMUlUZGXzMg4Ckk6jqJGmpWVqDpGDjmZNH2i0YayZ1DFtJm3GMrGZtLKabMbUadSyrERFUUQQRXTBC+vCIpHAsrAuu+/L6YPjjrqLXASV2t/H91ye8777nPP8z3MO+AghBF689FAUj3oAXrw8CF4H9tKjUT3qAXj572O1WqmsrKS6upqoqCgGDRrUZX17V2Av3YIkSSxfvhyNRkNQUBB6vZ6JEyfy7bff0tLS0mV2vA7spVtQqVRkZmZy8OBBMjIyUCqV+Pv7ExcXh0LRdW7ndWAv3UZoaCgTJkxg6NChtLS0EBYWxvDhw7vUhteB/6dIkkRdXd1DsVNQUIAQAr1eT3h4eJf273Xg/yk7duwgOTkZs9ncrXbq6uooKioCYOzYsfj5+XVp/14H/p9itVqpr6/H4XB0q52KigquXLmCv78/CQkJXap/wevAXrqZwsJCGhoaCA8P73L9C14H9tKNSJLEiRMnkGUZvV5PWFhYl9to8yCjrq6OP/74g6amJpKTk4mKirpvfVmWUSqVXTbAx41r165x/PhxGhoaSEpKYsSIER0Ki9XV1Rw6dIiamhri4+NJSEhApbr1M0iSRF5eHmfOnKF///5MmjSJ3r17d9erdDsWi4XCwkIAkpKS8PPz4/Lly+Tk5ODr68v48eN58sknH8jGfb98Tk4Oc+fOpbi4mKNHj5KYmMivv/7qsW5zczNLly5Fq9Wyc+fOBxrU44jRaCQ1NZVx48aRn5+PJEmsWrWKtWvXUlpaSnp6Op988kmrmtLhcPDpp58ye/ZsysrKaGpqIi0tjbS0NGpqajCbzSxYsIBt27ahUqnYv38/SUlJHDt27CG/addhMpm4fPkyAQEB6HQ6MjIyePfdd7FYLBQUFBAfH8+qVauw2+2dNyJaoaysTLz44ouisLBQCCHEkSNHhFarFcnJyaK+vt6t/oULF0RERIRQq9Vix44drXXbI8nOzhYDBw4Uo0aNEhcvXnQ9r62tFfPmzRPx8fECEJMmTRJWq9WtvdPpFGvXrhXp6emirq7O9Xzv3r3C399fvP322yI9PV1s3bpVyLIszp8/L4YMGSIAkZ6e3i3vtHnzZhEVFSWuXr3aLf0LIcRXX30lVCqVCAgIEOPGjRNffPGFcDqdQgghZFkWmzZtEiqVSqxevVpIktQpGx4lhCzLbN++nWnTpjFq1CgAqqqqsNvt1NTUcPPmTbfQVlRUxI0bNwgODna1aS8Oh4OtW7fy119/IUlSpyaiJxQKBTqdjszMTPr27dupPnJzc0lNTQVg+/btDBs2zFXWt29fUlNTmTdvHgAJCQn4+/u79ZGTk8PZs2fZtGkTffr0cT3X6XRotVqysrKYNWsWr776KgqFgqKiIkwmEz4+PsTExHRq3I+a2/pXkiTUajVLliwhLS3NJbcUCgVTpkwhJCSEr7/+mtTUVKKjoztsx6MDG41GiouLWbx4MQqFAkmS+P3333E6nQwaNIigoKC76suyzMmTJ3E6neh0Op544okOD+TmzZtYrVZkWe5w29bw8fHBarV2elJUV1eTkZFBVVUVH330kceJGR0dTUBAALIsM2bMGDf9b7Va2bZtG+np6YSGht5VdjuNpVQqmTVrFoGBgQCkpKSwevVqgoKCWLBgQafG/qi5U/8uXLiQ1NRUt72CVquld+/elJeXU1BQ0HUOfPLkybsc0WQycejQIZRKJdOnTycgIOCu+larlVOnTgG3ViGtVtuhQWg0GpYtW8ayZcs6/ALdhSzLZGVlkZeXR0xMjGt1vJeSkhKsVivBwcGMHDnSrdxgMNDc3MzYsWM9ljU1NREWFnZXeUhICCtWrOjaF3rImEwmLl26hL+/P1OnTnVtVO/E4XBgs9lwOBxUVlZ2yo5HB54yZQpTpkxxGc3JycFkMhEREcHEiRPd6pvNZkpLS1Gr1SQmJv4nshDl5eV8//33AEyePNljVJFlmby8PBwOBzExMfTv39+tzrBhw9i4ceNd0uHOtg8Ste6lqamJAwcOYDab27zxdfz4cSwWC9u3b3cb272o1WrGjh3LmDFj2j2WwsJCrFYrAwYMaDX/W1NTQ2NjIwBOp7Pdfd+JRwe+M9TZ7Xb27duH0+kkKSnJ413OoqIi6urqCAkJ6bD+fVw5ePAgRqMRjUZDcnKyxxXEZrO5Ik9cXBy9evVyq6PVaj1GJKvVSkFBAQBPP/20R+3cUUwmEx988AFlZWVt1pUkCSEEa9asaTMNqFQqWbRoESNHjkSj0bSr79v69373H0pKSmhsbESpVNKvX782+/VEm3ngiooKjh8/jkqlYvr06W5n2bIsc+LEiS5dSR41zc3NZGdnI8syERERxMXFeaxnNpsxGAyo1WoSEhI6FHkqKyspKyvDz8+vy6JWbGws58+fb1fdrKwsPv74Y7Kzs7v0gjlAQ0MDZ86cASAxMdHj/QdZlikoKECSJPr06dPpU7o2Hfj06dNUV1cTHh7O+PHj3cqtViv5+fmuwXpahdpDU1MTVVVVnQ4lnlAoFISGhhIcHNyhdhaLhdLSUuDWJu3ezddtzp49y40bN+jbty+jR4/ukI2ioiLq6+uJiIjwqJ17MjU1NRiNRnx9fRk9erTHFb6+vp7c3FzglswaOnRop2zd14Hv1WmeNF5FRQVlZWVoNJpOryRNTU3Mnj2b3377rcNt2yIyMpLDhw8zZMiQdrex2+00NDQAoNfrXdmBO5FlmVOnTuFwONDpdAwYMACAxsZGzGYzOp2u1f7vzNrExMR4PGKtrq6mubmZgQMHtnvcjwu1tbXY7Xa0Wi2xsbEe61y4cIHS0lIUCgVz5sxpU4e3xn0dWJIkLl26BNwKT5502pkzZ6ivr6dfv36dXkkCAwP57rvvuHbtWpen0cLDw4mMjOxQO6VS6dK8kZGRHlcQm81GXl4eAPHx8S6du3//foqLi1mzZk2r/d8ZteLj492+qyzLfPbZZ8TGxpKWltahsT8OqNVqfHx8CAoKanXy79mzh4aGBvR6PXPmzOn0LbU2JcTtHGpYWJibEUmSyM3Nxel0MmzYMNcq1BlCQ0NbDdUPm169ehEeHo7BYKBXr14eP+65c+coKipCrVa78r+SJJGfn09iYiJw6/v8+OOP5ObmsnjxYpfMMBgMlJSUoFQqiY2NdYtaRqORsrIylixZ0v0v2w2EhISg1WpRqVQeI3JpaSm7du3Cz8+PlStXPlCUua/bK5VK12ULh8OBuOd/oJSUlLB3717glv69Nz/cU9Fqta50odlsdosK5eXlvPfee9TX1+Pn5+f6AaqqqigvL3c58J9//snSpUvJyspiy5YtSJKELMv8/PPP3Lx5E6VS6bZnsNvtbN68mZSUlAe+6PKoCAsLIy4ujtraWre/+rDZbKxfv56KigqWL1/OSy+99EC27uvAKpWKmTNnEhgYyNGjR7FYLK4yg8HA0qVLMZlMaDSaDu/CH2cUCgWvv/46sbGxHDx4kL///ttVdvHiRd566y3mzp3LM888g4+PDwqFgpaWFvbs2cOgQYNckej28Xvv3r154YUXUKlUZGdnYzAY2LhxIwqFgnPnzrlytna7nQ0bNmCz2Zg/f36XX/5+WAQGBvLGG2/Q3NzMrl27XAuAzWbjww8/5IcffmDFihW8//777UrL3Y82JcSzzz7Lhg0bWLlyJa+88gqTJ0/GaDRy5coVEhISyM/Pp1+/fv+Z/O9toqOj+emnn1iyZAmzZ8/m+eefp7y8HLPZTGZmJhMmTCAuLo7XXnuNdevWMXjwYIxGI59//rlLP0+bNo2ZM2disVgoKSlh//79VFVVsW7dOnQ6nctha2trCQ4O5tixYyQlJbF+/XqP2rEn8dxzz/HNN9+QmZnJtWvXiIyM5MCBAwgh2L17N1OnTu2SCeoj7tUFrWCxWDh16hS1tbXo9Xqio6PJyMjgyy+/ZNq0aezcubPHf3RPyLLMhQsXMBgMREdHM2LEiLsONaxWK0eOHAFgwoQJbpKgpaWF4uJiSkpKGDBgAImJifj6+rrKr1+/Tm5uLgqFgsTERI+Znu6gO/PAd9LY2Mjp06f5559/0Ov1xMbGdm1k6exVObPZLIYPHy5UKpXYsmVLZ7vx8ojIysoSgwcP7tbrlA+DVqdCYWEhTz31FJGRkeTk5LiV//LLL5SWljJq1KgHFuJeHj5xcXGkpaUREhLyqIfyYHjyaqfTKRYtWiQA4evrK3bv3n1X+dWrV4VerxdarVbs27fvocw0L1484XET19LSgt1uJyoqioULF5KSkuIqs1qtZGZmcuXKFTZs2MDUqVMf1lzz4sUNjw6s0WiYMWMGTqeTN99807U5MxqNvPPOOxw+fJitW7cyf/78/0zqzEvPpNU02ssvv0xtbS0zZswgNDQUm81GZWUlKSkpnD59ult3rl68tJc202gtLS1cv34dhULh8TjZi5dHSbvzwF68PI54l1MvPRqvA3vp0Xgd2EuP5l9NKK6sFB//lwAAAABJRU5ErkJggg=="},"85ec":function(t,e,a){},"8f6f":function(t,e,a){},"913c":function(t,e,a){},"94e8":function(t,e,a){"use strict";var s=a("04a9"),i=a.n(s);i.a},9889:function(t,e,a){"use strict";var s=a("0dd6"),i=a.n(s);i.a},"9ad2":function(t,e,a){},"9b4d":function(t,e,a){"use strict";var s=a("913c"),i=a.n(s);i.a},"9c15":function(t,e,a){t.exports=a.p+"img/VoltSpeedTransferFunction.db4d2df1.png"},"9f80":function(t,e,a){},b4f2:function(t,e,a){t.exports=a.p+"img/protractor.ea6a877b.png"},c142:function(t,e,a){"use strict";var s=a("d2ed"),i=a.n(s);i.a},c2c9:function(t,e,a){},cdf1:function(t,e,a){"use strict";var s=a("1bdb"),i=a.n(s);i.a},d1f7:function(t,e,a){},d2ed:function(t,e,a){},d34e:function(t,e,a){t.exports=a.p+"img/red-light.258c907c.png"},d5de:function(t,e,a){},f469:function(t,e,a){t.exports=a.p+"img/plantTransferFirstOrder.66778c92.png"},f892:function(t,e,a){"use strict";var s=a("24b2"),i=a.n(s);i.a}});
//# sourceMappingURL=app.64a8a060.js.map