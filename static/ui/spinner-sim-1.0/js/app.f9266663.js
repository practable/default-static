(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],l=0,f=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/ui/spinner-sim-1.0/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"014b":function(t,e,a){},"034f":function(t,e,a){"use strict";a("85ec")},"04e6":function(t,e,a){t.exports=a.p+"img/plantTransferSecondOrder.5b45ba76.png"},"06f7":function(t,e,a){},"0d11":function(t,e,a){},"168f":function(t,e,a){t.exports=a.p+"img/ruler.41f3337c.png"},"1e7e":function(t,e,a){t.exports=a.p+"img/pidTransferFunction.a04e5dc8.png"},"21fe":function(t,e,a){"use strict";a("be58")},3246:function(t,e,a){},3657:function(t,e,a){"use strict";a("06f7")},3948:function(t,e,a){"use strict";a("3246")},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id="4678"},4775:function(t,e,a){"use strict";a("0d11")},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return jt}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid-sm m-0",attrs:{id:"app"}},[a("navigation-bar",{attrs:{remoteLabVersion:t.remoteLabVersion}}),a("b-modal",{attrs:{id:"load-data-modal",title:"Load data"},on:{ok:t.loadData},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.ok,s=e.cancel;return[a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(t){return n()}}},[t._v(" Load ")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(t){return s()}}},[t._v(" Cancel ")])]}}]),model:{value:t.showLoadDataModal,callback:function(e){t.showLoadDataModal=e},expression:"showLoadDataModal"}},[a("p",[t._v("Previously recorded data was saved on "+t._s(t.saved_date)+". Do you want to load this previous data?")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSimulationOn,expression:"isSimulationOn"}]},[a("simulation")],1),t.isTableOn?a("div",{staticClass:"col-sm-12"},[a("table-output",{attrs:{remoteLabVersion:t.remoteLabVersion}})],1):t._e()]),a("div",{staticClass:"col-sm-6"},[t.isSystemDiagramsOn?a("div",{staticClass:"row"},[a("system-diagrams",{attrs:{remoteLabVersion:t.remoteLabVersion}})],1):t._e(),a("div",{staticClass:"row"},[t.isStopwatchOn?a("div",{staticClass:"col-sm-5"},[a("stopwatch")],1):t._e()]),t.isInputGraphOn?a("div",[a("graph-input",{attrs:{type:"graphinput",id:"input0"}})],1):t._e(),t.isGraphOn?a("div",[a("graph-output",{attrs:{type:"graph",id:"graph0"}})],1):t._e()])]),t.isWorkspaceOn?a("div",[a("workspace",{attrs:{mode:t.remoteLabVersion}})],1):t._e()],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row m-0 justify-content-center",attrs:{id:"chart-canvas"}},[a("div",{staticClass:"col-12"},[a("canvas",{attrs:{id:t.id},on:{mousedown:t.startLine,mouseup:t.endDrag,mousemove:t.endLine}})])]),a("div",{staticClass:"row mb-2 justify-content-center align-items-center",attrs:{id:"chart-functions"}},[a("div",{staticClass:"form-group col-3"},[a("label",{staticClass:"m-2",attrs:{for:"unitSelect"}},[t._v("Units:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],staticClass:"col-sm",attrs:{name:"unitSelect",id:"unitSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.unit=e.target.multiple?a:a[0]},t.getData]}},["theta"==t.getGraphParameter?a("option",{attrs:{value:"rad"}},[t._v("rad")]):t._e(),"theta"==t.getGraphParameter?a("option",{attrs:{value:"deg"}},[t._v("deg")]):t._e(),"omega"==t.getGraphParameter?a("option",{attrs:{value:"rpm"}},[t._v("RPM")]):t._e(),"omega"==t.getGraphParameter?a("option",{attrs:{value:"rad/s"}},[t._v("rad/s")]):t._e()])]),a("div",{staticClass:"form-group col-3"},[a("label",{staticClass:"m-2",attrs:{for:"gradient"}},[t._v("Gradient:")]),a("input",{staticClass:"col-sm",attrs:{id:"gradient",readonly:""},domProps:{value:t.gradient}})]),a("div",{staticClass:"form-group col-6"},[a("label",{staticClass:"m-2",attrs:{for:"graph"}},[t._v("Plot function: ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentFunction,expression:"currentFunction"}],staticClass:"col-sm-4",attrs:{name:"function",id:"function"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentFunction=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"linear"}},[t._v("Linear")]),a("option",{attrs:{value:"quadratic"}},[t._v("Quadratic")]),a("option",{attrs:{value:"trigonometric"}},[t._v("Trigonometric")]),a("option",{attrs:{value:"exponential"}},[t._v("Exponential")]),"omega"==t.getGraphParameter?a("option",{attrs:{value:"step"}},[t._v("Step")]):t._e(),"omega"==t.getGraphParameter?a("option",{attrs:{value:"ramp"}},[t._v("Ramp")]):t._e()]),"linear"===t.currentFunction?a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("x + ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.linear)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"quadratic"===t.currentFunction?a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.quadratic)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"trigonometric"===t.currentFunction?a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"2"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("sin(")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"2"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_c"}},[t._v(" t + ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"2"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}}),a("label",{staticClass:"m-2"},[t._v(" ) ")]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.trigonometric)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"exponential"===t.currentFunction?a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("exp(")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v(" t)")]),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.exponential)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"step"===t.currentFunction?a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("Y(s)=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("/s(")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v(" s+1)")]),a("label",{staticClass:"m-2",attrs:{for:"func_c"}},[t._v(" t0 = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"3"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}}),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.step)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"ramp"===t.currentFunction?a("div",[a("label",{staticClass:"m-2",attrs:{for:"func_a"}},[t._v("Y(s)=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("/s^2(")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v(" s+1)")]),a("label",{staticClass:"m-2",attrs:{for:"func_c"}},[t._v(" t0 = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"3"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}}),a("label",{staticClass:"m-2",attrs:{for:"func_d"}},[t._v(" w0 = ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_d,expression:"func_d"}],attrs:{id:"func_d",size:"3"},domProps:{value:t.func_d},on:{input:function(e){e.target.composing||(t.func_d=e.target.value)}}}),a("div",{staticClass:"row-sm justify-content-center"},[a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.ramp)}}},[t._v("Plot")]),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):t._e()])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"m-2",attrs:{for:"func_b"}},[t._v("x"),a("sup",[t._v("2")]),t._v(" + ")])}],c=(a("4de4"),a("4160"),a("159b"),a("a434"),{state:{current_enc_pos:0,current_angle:0,current_ang_vel:0,previous_ang_vels:[],values_in_average:100,average_count:0,current_time:0,start_time:0,currentMode:"",inputMode:"",graphDataParameter:"omega",data:[],unityDataObject:null,step:{step_time:0,step_start:0,step_size:0},ramp:{ramp_start:0,ramp_gradient:1,ramp_start_time:0,max_voltage:2.5,max_rad_s:110},pid_parameters:{Kp:1,Ki:0,Kd:0,dt:3}},addUnityData:function(t){this.state.unityDataObject=t},setGraphDataParameter:function(t){this.state.graphDataParameter=t},calculateAverageVelocity:function(){this.state.previous_ang_vels[this.state.average_count]=this.state.current_ang_vel,this.state.average_count>=this.state.values_in_average-1?this.state.average_count=0:this.state.average_count++;for(var t=0,e=0;e<this.state.values_in_average;e++)t+=this.state.previous_ang_vels[e];return t/this.state.values_in_average},clearAllData:function(){this.state.data=[],this.current_angle_unwrapped=0,this.current_ang_vel_unwrapped=0},getNumData:function(){return this.state.data.length},addData:function(t){this.state.data.push(t)},deleteData:function(t){this.state.data.splice(t,1)},getTime:function(){return(this.state.current_time-this.state.start_time)/1e3},getMaxTime:function(){var t=-1/0;return this.state.data.forEach((function(e){e.t>t&&(t=e.t)})),t},getMinTime:function(){var t=1/0;return this.state.data.forEach((function(e){e.t<t&&(t=e.t)})),t},hasStorage:function(){try{return window.localStorage.setItem("test","storage"),window.localStorage.removeItem("test"),!0}catch(t){return!1}},hasDataToLoad:function(t){return!!window.localStorage.getItem("savedData")&&window.localStorage.getItem("remoteLabVersion")==t},saveDataToLocalStorage:function(t){if(this.hasStorage()){if(this.getNumData()>0){var e=JSON.stringify(this.state.data);window.localStorage.setItem("savedData",e);var a=JSON.stringify(new Date);return window.localStorage.setItem("dateSaved",a),window.localStorage.setItem("remoteLabVersion",t),!0}return console.log("no data to save"),!1}return console.log("no localStorage allowed"),!1},loadDataFromLocalStorage:function(){if(this.hasStorage()){if(window.localStorage.getItem("savedData")){var t=window.localStorage.getItem("savedData");t=JSON.parse(t),this.clearAllData();for(var e=0;e<t.length;e++)this.addData(t[e]);return!0}return console.log("no saved data"),!1}return console.log("no saved data"),!1}}),u=c;window.dataStore=u;var d,l,f=a("30ef"),h={name:"GraphOutput",props:["type","id"],data:function(){return{dataStore:c,chart:null,chartData:[],gradient_start_point:{x:0,y:0},gradient_end_point:{x:0,y:0},gradient:0,mouseDragging:!1,currentFunction:"linear",func_a:0,func_b:0,func_c:0,func_d:0,funcTimeStep:.01,YAxisMax:0,YAxisMin:0,XAxisMax:0,XAxisMin:0,unit:""}},computed:{getCurrentMode:function(){console.log(this.dataStore.state.currentMode);var t=this.dataStore.state.currentMode;return t},getGraphParameter:function(){return c.state.graphDataParameter},newData:function(){return this.dataStore.state.data}},mounted:function(){this.createChart(),this.getData(),"theta"==c.state.graphDataParameter?this.unit="rad":this.unit="rad/s"},created:function(){jt.$on("newgraphadded",this.chartAdded),jt.$on("clearalldata",this.clearData)},watch:{getGraphParameter:function(){"theta"==c.state.graphDataParameter?this.unit="rad":this.unit="rad/s"},newData:function(){this.getLatestData()}},methods:{createChart:function(){var t=this,e=document.getElementById(this.id),a=e.getContext("2d"),n=new f["Chart"](a,{type:"scatter",data:{datasets:[{label:this.type,data:this.chartData,pointBackgroundColor:"rgba(0, 0, 0, 1)"}]},options:{legend:{display:!1},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"time/s"},type:"linear",position:"bottom",ticks:{callback:function(e,a,n){return t.updateXAxisMax(e,a,n),t.updateXAxisMin(e,a),e}}}],yAxes:[{scaleLabel:{display:!0,labelString:c.state.graphDataParameter},type:"linear",position:"left",ticks:{callback:function(e,a,n){return t.updateYAxisMax(e,a),t.updateYAxisMin(e,a,n),e}}}]},responsive:!0}});this.chart=n,e.onclick=function(t){var e=n.getElementsAtEvent(t);e[0]&&jt.$emit("newselectedobject",e[0]._index)}},updateYAxisMax:function(t,e){0==e&&(this.YAxisMax=t)},updateYAxisMin:function(t,e,a){e==a.length-1&&(this.YAxisMin=t)},updateXAxisMin:function(t,e){0==e&&(this.XAxisMin=t)},updateXAxisMax:function(t,e,a){e==a.length-1&&(this.XAxisMax=t)},addDataToChart:function(t){this.chart.data.datasets.forEach((function(e){e.data.push(t)})),this.chart.update(0),this.chart.options.scales.yAxes[0].scaleLabel.labelString=c.state.graphDataParameter},clearData:function(){this.chartData=[],this.chart.data.datasets[0].data=this.chartData,this.chart.update()},getData:function(){this.clearData();for(var t=0;t<c.state.data.length;t++){var e=c.state.data[t].t,a=void 0;switch(c.state.graphDataParameter){case"theta":a="deg"==this.unit?c.state.data[t].theta_deg:c.state.data[t].theta;break;case"omega":a="rpm"==this.unit?c.state.data[t].omega:c.state.data[t].omega_rad;break}this.addDataToChart({x:e,y:a})}},getLatestData:function(){var t,e=c.getNumData()-1;if(e>=0){var a=c.state.data[e].t;switch(c.state.graphDataParameter){case"theta":t="deg"==this.unit?c.state.data[e].theta_deg:c.state.data[e].theta;break;case"omega":t="rpm"==this.unit?c.state.data[e].omega:c.state.data[e].omega_rad;break}this.addDataToChart({x:a,y:t})}},removeChart:function(){this.chart.destroy()},startLine:function(t){this.gradient_start_point.x=t.offsetX,this.gradient_start_point.y=t.offsetY,this.mouseDragging=!0},endDrag:function(){this.mouseDragging=!1},endLine:function(t){if(this.mouseDragging){this.gradient_end_point.x=t.offsetX,this.gradient_end_point.y=t.offsetY;var e=(this.gradient_start_point.y-this.gradient_end_point.y)/(this.gradient_end_point.x-this.gradient_start_point.x),a=32,n=document.getElementById(this.id),s=n.clientHeight-a,i=n.clientWidth,r=s/i,o=this.YAxisMax-this.YAxisMin,c=this.XAxisMax-this.XAxisMin,u=o/c;this.chartData.length>1&&(this.gradient=u*e/r,this.drawLine(this.gradient_start_point,this.gradient_end_point))}},drawLine:function(t,e){var a=document.getElementById(this.id),n=a.getContext("2d");n.clearRect(0,0,a.width,a.height),this.chart.update(0),n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.lineWidth=5,n.strokeStyle="red",n.stroke()},plotFunc:function(t){for(var e,a,n=this.XAxisMin,s=this.XAxisMax,i=s-n,r=i/this.funcTimeStep,o=[],c=0;c<r;c++){e=n+c*this.funcTimeStep,a=t(e);var u={x:e,y:a};o.push(u)}this.addNewDataSet("rgba(255, 0, 0, 0.5)",o)},linear:function(t){return parseFloat(this.func_a)*t+parseFloat(this.func_b)},quadratic:function(t){return parseFloat(this.func_a)*t*t+parseFloat(this.func_b)},trigonometric:function(t){return parseFloat(this.func_a)*Math.sin(parseFloat(this.func_b)*t+parseFloat(this.func_c))},exponential:function(t){return parseFloat(this.func_a)*Math.exp(parseFloat(this.func_b)*t)},step:function(t){var e=parseFloat(this.func_c),a=1-Math.exp(-(t-e)/parseFloat(this.func_b));return t<e?0:parseFloat(this.func_a)*a},ramp:function(t){var e=parseFloat(this.func_b),a=parseFloat(this.func_a),n=parseFloat(this.func_c),s=parseFloat(this.func_d);return t<n?s:a*(t-n-e+e*Math.exp(-(t-n)/e))+s},addNewDataSet:function(t,e){this.chart.data.datasets.push({label:"plotted function",pointBackgroundColor:t,data:e}),this.chart.update(0)},deleteFunctionDataset:function(){this.chart.data.datasets=this.chart.data.datasets.filter((function(t){return"plotted function"!==t.label})),this.chart.update(0)}}},m=h,p=(a("bb03"),a("2877")),g=Object(p["a"])(m,r,o,!1,null,"9e6c7a72",null),_=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 bg-white border rounded"},[a("div",{staticClass:"row justify-content-center"},[a("table",{staticClass:"table"},[t._m(0),t._l(t.tableData,(function(e){return a("tr",{key:e.id,class:[e.id==t.selected_row_id?"selected-row":""],attrs:{id:e.id},on:{click:function(a){return t.changeSelected(e.id)}}},[a("td",[t._v(t._s(e.t))]),a("td",[t._v(t._s(e.theta.toFixed(2)))]),a("td",[t._v(t._s(e.omega_rad.toFixed(2)))]),a("td",[t._v(t._s(e.p.toFixed(3)))]),a("td",[t._v(t._s(e.i.toFixed(3)))]),a("td",[t._v(t._s(e.d.toFixed(3)))])])}))],2)])])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Time/s")]),a("th",{attrs:{scope:"col"}},[t._v("Angle/rad")]),a("th",{attrs:{scope:"col"}},[t._v("Angular Velocity/rad/s")]),a("th",{attrs:{scope:"col"}},[t._v("P")]),a("th",{attrs:{scope:"col"}},[t._v("I")]),a("th",{attrs:{scope:"col"}},[t._v("D")])])}],x=(a("a630"),a("c975"),a("b0c0"),a("3ca3"),{name:"TableOutput",props:{remoteLabVersion:String},data:function(){return{tableData:c.state.data,searchData:[],search_field:"",selected_row_id:"0"}},methods:{getMode:function(){return c.state.currentMode},search:function(){if(""==this.search_field)this.searchData=Array.from(this.tableData);else{var t,e;this.searchData=[];for(var a=0;a<this.tableData.length;a++)t=this.tableData[a],e=t.id+t.mass+t.name+t.reclat+t.reclong+t.recclass,e.toUpperCase().indexOf(this.search_field.toUpperCase())>-1&&this.searchData.push(t)}},changeSelected:function(t){this.selected_row_id=t;var e=document.getElementById(t);e.scrollIntoView(!1)}},mounted:function(){},created:function(){jt.$on("newselectedobject",this.changeSelected),jt.$on("clearalldata",this.getData)}}),D=x,w=(a("3948"),Object(p["a"])(D,v,b,!1,null,"3e156f0b",null)),S=w.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 p-2 bg-white border rounded"},[a("div",{staticClass:"row-sm"},[a("div",{staticClass:"form-group col-12"},[a("input",{staticClass:"form-control",attrs:{type:"text",id:"stopwatch",readonly:""},domProps:{value:t.time_string}})])]),a("div",{staticClass:"row justify-content-center pb-2"},[t.isTiming?t._e():a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"start"},on:{click:t.startTimer}},[t._v("Start")]),t.isTiming?a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"pause"},on:{click:t.pauseTimer}},[t._v("Pause")]):t._e(),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"reset"},on:{click:t.resetTimer}},[t._v("Reset")])])])},j=[],C=(a("d3b7"),a("25f0"),{name:"Stopwatch",data:function(){return{isTiming:!1,timerID:0,current_time:0,time_string:""}},created:function(){this.isTiming=!1,this.time_string=this.millsecondsFormatted(this.current_time)},methods:{startTimer:function(){var t=this;this.isTiming=!0,this.timerID=setInterval((function(){t.updateTime()}),10)},pauseTimer:function(){this.isTiming=!1,clearInterval(this.timerID)},resetTimer:function(){this.current_time=0,this.time_string=this.millsecondsFormatted(this.current_time)},updateTime:function(){this.current_time+=10,this.time_string=this.millsecondsFormatted(this.current_time)},millsecondsFormatted:function(t){var e=t%1e3,a=Math.floor(t/1e3),n=Math.floor(a/60);a%=60;var s=Math.floor(n/60);n%=60,s>=100&&(this.current_time=0);var i=s<10?"0"+s.toString():s.toString(),r=n<10?"0"+n.toString():n.toString(),o=a<10?"0"+a.toString():a.toString(),c=e.toString();return i+":"+r+":"+o+"."+c}},computed:{}}),k=C,O=(a("86e5"),Object(p["a"])(k,y,j,!1,null,"f21c8492",null)),T=O.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("canvas",{class:t.workspace_canvas_clickable?"clickable":"unclickable",attrs:{id:"workspace"},on:{mousedown:t.checkClick,mousemove:t.moveClicked,mouseup:t.mouseUnclick}}),n("img",{attrs:{id:"protractor",src:a("b4f2"),hidden:""}}),n("img",{attrs:{id:"ruler",src:a("168f"),hidden:""}})])},L=[],A=(a("cb29"),a("38cf"),new Image),R=new Image,M=[],I={name:"Workspace",props:{mode:String},data:function(){return{isSelected:!1,selected_index:null,selected_offset_x:0,selected_offset_y:0,rotateMode:!1,workspace_canvas_clickable:!0,ruler_width:800,ruler_height:80}},created:function(){jt.$on("addprotractor",this.addProtractor),jt.$on("addruler",this.addRuler),"robot_arm"==this.mode?(this.ruler_width=533,this.ruler_height=53.3):"variable_governor"==this.mode?(this.ruler_width=640,this.ruler_height=64):(this.ruler_width=1100,this.ruler_height=110)},mounted:function(){M=[],d=document.getElementById("workspace"),d.width=screen.width,d.height=screen.height,l=d.getContext("2d"),window.addEventListener("keydown",this.updateMode,!1),window.addEventListener("keyup",this.updateMode,!1)},methods:{draw:function(){l.clearRect(0,0,screen.width,screen.height);for(var t=0;t<M.length;t++)l.save(),null!=M[t].image?(l.translate(M[t].x,M[t].y),l.translate(M[t].width/2,M[t].height/2),l.rotate(M[t].angle),l.drawImage(M[t].image,-M[t].width/2,-M[t].height/2,M[t].width,M[t].height)):(l.beginPath(),l.rect(M[t].x,M[t].y,M[t].width,M[t].height),l.stroke(),l.fill(),l.fillStyle="#444444"),l.restore()},addProtractor:function(){A.onload=function(){var t=100,e=100,a=400,n=200;M.push({x:t,y:e,width:a,height:n,image:A,angle:0}),l.drawImage(A,t,e,a,n)},A.src=document.getElementById("protractor").src},addRuler:function(){var t=this;R.onload=function(){var e=100,a=300,n=t.ruler_width,s=t.ruler_height;M.push({x:e,y:a,width:n,height:s,image:R,angle:0}),l.drawImage(R,e,a,n,s)},R.src=document.getElementById("ruler").src},updateMode:function(t){t.repeat||("o"==t.key?this.rotateMode=!this.rotateMode:"w"==t.key&&"keydown"==t.type&&(console.log(t),this.workspace_canvas_clickable=!this.workspace_canvas_clickable))},checkClick:function(t){for(var e=0;e<M.length;e++){var a=[0,0],n=[M[e].x+M[e].width/2,M[e].y+M[e].height/2],s=[t.offsetX-n[0],t.offsetY-n[1]],i=[],r=[M[e].x-n[0],M[e].y-n[1]],o=[M[e].x+M[e].width-n[0],M[e].y-n[1]],c=[M[e].x+M[e].width-n[0],M[e].y+M[e].height-n[1]],u=[M[e].x-n[0],M[e].y+M[e].height-n[1]];i.push(r),i.push(o),i.push(c),i.push(u);for(var d=M[e].angle,l=0;l<4;l++){var f=i[l][0],h=i[l][1];i[l][0]=f*Math.cos(d)-h*Math.sin(d),i[l][1]=f*Math.sin(d)+h*Math.cos(d)}this.doIntersect(a,s,i[0],i[1])||this.doIntersect(a,s,i[1],i[2])||this.doIntersect(a,s,i[2],i[3])||this.doIntersect(a,s,i[3],i[0])||(this.isSelected=!0,this.selected_index=e,this.selected_offset_x=t.offsetX-M[e].x,this.selected_offset_y=t.offsetY-M[e].y)}},checkOrientation:function(t,e,a){var n=(t[1]-e[1])*(a[0]-t[0])-(t[0]-e[0])*(a[1]-t[1]);return 0==n?0:n>0?1:2},doIntersect:function(t,e,a,n){var s=this.checkOrientation(t,e,a),i=this.checkOrientation(t,e,n),r=this.checkOrientation(a,n,t),o=this.checkOrientation(a,n,e);return s!=i&&r!=o},moveClicked:function(t){this.isSelected&&(this.rotateMode?t.movementY<0?M[this.selected_index].angle-=Math.PI/180:t.movementY>0&&(M[this.selected_index].angle+=Math.PI/180):(M[this.selected_index].x=t.offsetX-this.selected_offset_x,M[this.selected_index].y=t.offsetY-this.selected_offset_y),this.draw())},mouseUnclick:function(){this.isSelected=!1,this.selected_index=null}}},P=I,F=(a("3657"),Object(p["a"])(P,E,L,!1,null,"6ce54666",null)),$=F.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5 pb-2"},[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary",fixed:"top"}},[a("b-navbar-brand",{attrs:{href:"#"}},[t._v("Remote Lab: "+t._s(t.labName)+" ")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-nav-item-dropdown",{attrs:{text:"Menu",right:""}},[a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("graph")}}},[t._v("Graph")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("datarecorder")}}},[t._v("Data Recorder")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("stopwatch")}}},[t._v("Stopwatch")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("table")}}},[t._v("Table")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("systemdiagrams")}}},[t._v("System Diagrams")]),a("b-dropdown-item",{on:{click:function(e){return t.toggleComponent("graphinput")}}},[t._v("Graph Input")])],1),a("b-nav-item-dropdown",{attrs:{text:"Tools",right:""}},[a("b-dropdown-item",{on:{click:function(e){return t.addTool("ruler")}}},[t._v("Ruler")]),a("b-dropdown-item",{on:{click:function(e){return t.addTool("protractor")}}},[t._v("Protractor")])],1),a("b-nav-item",{on:{click:t.clearWorkspace}},[t._v("Clear Workspace")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-text",[a("clock")],1)],1)],1)],1)],1)},N=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"row"}},[a("div",{attrs:{id:"sessionTime"}},[t._v(" "+t._s(t.current_time))])])},z=[],B={name:"Clock",data:function(){return{current_time:"",current_time_left:"",interval_id:0}},components:{},computed:{sessionEndTime:function(){var t=new Date(1e3*this.$store.getters.getExpiryTime);return this.getTime(t)}},watch:{},created:function(){},mounted:function(){var t=this;this.interval_id=setInterval((function(){t.updateClock()}),1e3)},methods:{addZeroes:function(t){return t<10?"0"+t:t},updateClock:function(){var t=new Date;this.current_time=this.getTime(t)},getTime:function(t){var e=t.getHours(),a=t.getMinutes(),n=t.getSeconds();return e=this.addZeroes(e),a=this.addZeroes(a),n=this.addZeroes(n),e+":"+a+":"+n},getTimeLeft:function(t){var e=1e3*this.$store.getters.getExpiryTime-t.getTime(),a=e/1e3,n=Math.floor(a/60);return a=Math.floor(a%60),n=this.addZeroes(n),a=this.addZeroes(a),e>0?n+" min : "+a+" secs":(jt.$emit("stop"),jt.$emit("sessionended",!0),clearInterval(this.interval_id),"ENDED")}}},G=B,Y=(a("21fe"),Object(p["a"])(G,U,z,!1,null,"5c06cd04",null)),X=Y.exports,W={name:"NavigationBar",props:{remoteLabVersion:String},data:function(){return{taskOptionsAvailable:!0}},components:{Clock:X},mounted:function(){},computed:{labName:function(){return"variable_governor"==this.remoteLabVersion?"Variable Governor":"spinning_disk"==this.remoteLabVersion?"Spinning Disk":"Robot Arm"}},methods:{addTool:function(t){this.toggleComponent("workspace"),setTimeout((function(){jt.$emit("add"+t)}))},toggleComponent:function(t){jt.$emit("toggle"+t)},clearWorkspace:function(){jt.$emit("clearworkspace")},setExercise1v1:function(){jt.$emit("setexercise1v1")},setExercise1v2:function(){jt.$emit("setexercise1v2")},setExercise1v3:function(){jt.$emit("setexercise1v3")},setExercise2v1:function(){jt.$emit("setexercise2v1")}}},q=W,J=Object(p["a"])(q,V,N,!1,null,"07c95f05",null),Z=J.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-sm m-2 bg-white border rounded"},[a("div",{staticClass:"row m-0 justify-content-center",attrs:{id:"chart-canvas"}},[a("div",{staticClass:"col-12"},[a("canvas",{attrs:{id:t.id},on:{mousedown:t.startLine,mouseup:t.endDrag,mousemove:t.endLine}})])])])},K=[],Q={name:"GraphInput",props:["type","id"],data:function(){return{chart:null,chartData:[],gradient_start_point:{x:0,y:0},gradient_end_point:{x:0,y:0},gradient:0,mouseDragging:!1,funcTimeStep:.1,YAxisMax:0,YAxisMin:0,XAxisMax:0,XAxisMin:0}},methods:{createChart:function(){var t=this,e=document.getElementById(this.id),a=e.getContext("2d"),n=new f["Chart"](a,{type:"scatter",data:{datasets:[{label:this.type,data:this.chartData,pointBackgroundColor:"rgba(0, 0, 0, 1)"}]},options:{legend:{display:!1},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"time/s"},type:"linear",position:"bottom",ticks:{callback:function(e,a,n){return t.updateXAxisMax(e,a,n),t.updateXAxisMin(e,a),e}}}],yAxes:[{scaleLabel:{display:!0,labelString:this.currentDataParameter},type:"linear",position:"left",ticks:{callback:function(e,a,n){return t.updateYAxisMax(e,a),t.updateYAxisMin(e,a,n),e}}}]},responsive:!0}});this.chart=n,e.onclick=function(t){var e=n.getElementsAtEvent(t);e[0]&&jt.$emit("newselectedobject",e[0]._index)}},updateYAxisMax:function(t,e){0==e&&(this.YAxisMax=t)},updateYAxisMin:function(t,e,a){e==a.length-1&&(this.YAxisMin=t)},updateXAxisMin:function(t,e){0==e&&(this.XAxisMin=t)},updateXAxisMax:function(t,e,a){e==a.length-1&&(this.XAxisMax=t)},clearData:function(){this.chartData=[],this.chart.data.datasets[0].data=this.chartData,this.chart.update()},removeChart:function(){this.chart.destroy()},startLine:function(t){this.gradient_start_point.x=t.offsetX,this.gradient_start_point.y=t.offsetY,this.mouseDragging=!0},endDrag:function(){this.mouseDragging=!1},endLine:function(t){if(this.mouseDragging){this.gradient_end_point.x=t.offsetX,this.gradient_end_point.y=t.offsetY;var e=(this.gradient_start_point.y-this.gradient_end_point.y)/(this.gradient_end_point.x-this.gradient_start_point.x),a=32,n=document.getElementById(this.id),s=n.clientHeight-a,i=n.clientWidth,r=s/i,o=this.YAxisMax-this.YAxisMin,c=this.XAxisMax-this.XAxisMin,u=o/c;this.chartData.length>1&&(this.gradient=u*e/r,this.drawLine(this.gradient_start_point,this.gradient_end_point))}},drawLine:function(t,e){var a=document.getElementById(this.id),n=a.getContext("2d");n.clearRect(0,0,a.width,a.height),this.chart.update(0),n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.lineWidth=5,n.strokeStyle="red",n.stroke()},step:function(t){this.deleteFunctionDataset(),this.chart.options.scales.yAxes[0].scaleLabel.labelString=t;for(var e,a,n=0,s=2*c.state.step.step_time,i=s-n,r=i/this.funcTimeStep,o=[],u=0;u<r;u++){e=n+u*this.funcTimeStep,a=e>=c.state.step.step_time?c.state.step.step_start+c.state.step.step_size:c.state.step.step_start;var d={x:e,y:a};o.push(d)}this.addNewDataSet("rgba(255, 0, 0, 0.5)",o)},ramp:function(t,e){this.deleteFunctionDataset(),this.chart.options.scales.yAxes[0].scaleLabel.labelString=t;for(var a,n,s=0,i=parseFloat((e-c.state.ramp.ramp_start)/c.state.ramp.ramp_gradient)+parseFloat(c.state.ramp.ramp_start_time),r=i-s,o=r/this.funcTimeStep,u=[],d=0;d<o;d++){a=s+d*this.funcTimeStep,n=a>=c.state.ramp.ramp_start_time?c.state.ramp.ramp_start+c.state.ramp.ramp_gradient*(a-c.state.ramp.ramp_start_time):c.state.ramp.ramp_start;var l={x:a,y:n};u.push(l)}this.addNewDataSet("rgba(255, 0, 0, 0.5)",u)},addNewDataSet:function(t,e){this.chart.data.datasets.push({label:"plotted function",pointBackgroundColor:t,data:e}),this.chart.update(0)},deleteFunctionDataset:function(){this.chart.data.datasets=this.chart.data.datasets.filter((function(t){return"plotted function"!==t.label})),this.chart.update(0)}},computed:{},mounted:function(){this.createChart(),jt.$on("addstepfunction",this.step),jt.$on("addrampfunction",this.ramp)},created:function(){}},tt=Q,et=(a("4775"),Object(p["a"])(tt,H,K,!1,null,"3cfb5644",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-2 p-2 bg-white border rounded"},[t._m(0),n("div",{staticClass:"row m-2 p-2"},[t._m(1),n("div",{staticClass:"col-6"},[n("h2",[t._v("Plant transfer function")]),"variable_governor"==t.remoteLabVersion||"spinning_disk"==t.remoteLabVersion?n("img",{attrs:{id:"pidTransferFunction",src:a("f469")}}):n("img",{attrs:{id:"pidTransferFunction",src:a("04e6")}})])])])},st=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row m-2 p-2"},[n("div",{staticClass:"col-12"},[n("h2",[t._v("System Block Diagram")]),n("img",{attrs:{id:"secondOrderDiagram",src:a("7220")}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-6"},[n("h2",[t._v("Controller transfer function")]),n("img",{attrs:{id:"pidTransferFunction",src:a("1e7e")}})])}],it={name:"SystemDiagrams",props:{remoteLabVersion:String},data:function(){return{}},created:function(){},methods:{},computed:{}},rt=it,ot=(a("61bc"),Object(p["a"])(rt,nt,st,!1,null,"6ba3cb26",null)),ct=ot.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-2 p-2 bg-white border rounded"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("unity",{ref:"myInstance",attrs:{id:"unityCanvas",src:"./Build/MotorSimulationBuild.json",unityLoader:"./Build/UnityLoader.js",tabindex:"1"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"m-2 p-2 bg-white border rounded col"},[a("div",{staticClass:"row m-2 justify-content-center align-items-center"},[t.isRecording?t._e():a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"recordButton"},on:{click:t.record}},[t._v("Record")]),t.isRecording?a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"stopButton"},on:{click:t.stopRecording}},[t._v("Stop")]):t._e(),a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"clearButton"},on:{click:t.clearGraph}},[t._v("Reset")]),t.hasData?a("button",{staticClass:"btn btn-default btn-xs",attrs:{id:"outputButton"},on:{click:t.outputToCSV}},[t._v("Download CSV")]):t._e()])])])])},dt=[],lt=(a("b680"),a("1b6a")),ft=a.n(lt),ht={name:"Simulation",components:{Unity:ft.a},data:function(){return{dataStore:c,isRecording:!1,current_mode:"",start_time:0,start_angle_deg:0,start_angle_rad:0,canvas:null}},computed:{hasData:function(){return 0!==c.getNumData},dataUpdate:function(){return this.dataStore.state.unityDataObject}},watch:{dataUpdate:function(){this.getUnityData(this.dataStore.state.unityDataObject)}},created:function(){},mounted:function(){setTimeout(this.getCanvas,1e3)},methods:{getCanvas:function(){this.canvas=document.getElementById("#canvas"),null!=this.canvas?this.canvas.addEventListener("mousedown",this.returnFocus,!0):setTimeout(this.getCanvas,1e3)},getUnityData:function(t){if(this.isRecording||t.running&&0==c.getNumData()){this.isRecording=!0,0==c.getNumData()&&(this.start_time=t.t,this.start_angle_deg=t.theta_deg,this.start_angle_rad=t.theta);var e=(t.t-this.start_time).toFixed(2),a=t.theta-this.start_angle_rad,n=t.theta_deg-this.start_angle_deg;a<-Math.PI/2&&(a+=2*Math.PI,n+=360);var s={id:c.getNumData(),t:e,theta:a,omega:t.omega,theta_deg:n,omega_rad:t.omega_rad,p:t.p,i:t.i,d:t.d};t.mode!=this.current_mode&&("positionPid"==t.mode?(c.state.graphDataParameter="theta",this.current_mode=t.mode):(c.state.graphDataParameter="omega",this.current_mode=t.mode)),c.addData(s)}},record:function(){this.isRecording=!0},stopRecording:function(){this.isRecording=!1},clearGraph:function(){c.clearAllData(),jt.$emit("clearalldata")},outputToCSV:function(){var t="",e="",a=new Date;if(e=a.getDate().toString()+(a.getMonth()+1).toString()+a.getFullYear().toString()+"_SIM_","theta"==c.state.graphDataParameter){e+="Position",t="Time/s,Angle/rad,p,i,d\n";var n=c.state.data;n.forEach((function(e){t+=e.t.toString(),t+=",",t+=e.theta.toString(),t+=",",t+=e.p.toString(),t+=",",t+=e.i.toString(),t+=",",t+=e.d.toString(),t+="\n"}))}else if("omega"==c.state.graphDataParameter){e+="AngularVelocity",t="Time/s,AngVel/rad/s,p,i,d\n";var s=c.state.data;s.forEach((function(e){t+=e.t.toString(),t+=",",t+=e.omega_rad.toString(),t+=",",t+=e.p.toString(),t+=",",t+=e.i.toString(),t+=",",t+=e.d.toString(),t+="\n"}))}else{t="Time/s,Angle/rad,AngVel/rad/s,p,i,d\n";var i=c.state.data;i.forEach((function(e){t+=e.t.toString(),t+=",",t+=e.theta.toString(),t+=",",t+=e.omega_rad.toString(),t+=",",t+=e.p.toString(),t+=",",t+=e.i.toString(),t+=",",t+=e.d.toString(),t+="\n"}))}e+=".csv";var r=document.createElement("a");r.href="data:text/csv;charset=utf-8,"+encodeURI(t),r.target="_blank",r.download=e,r.click()},returnFocus:function(){console.log("should return focus"),this.canvas.setAttribute("tabindex","1"),this.canvas.focus()}}},mt=ht,pt=(a("6df5"),Object(p["a"])(mt,ut,dt,!1,null,"2a205ffa",null)),gt=pt.exports,_t={name:"App",components:{GraphOutput:_,TableOutput:S,Stopwatch:T,Workspace:$,NavigationBar:Z,GraphInput:at,SystemDiagrams:ct,Simulation:gt},data:function(){return{remoteLabVersion:"spinning_disk",isTableOn:!1,isGraphOn:!1,isStopwatchOn:!1,isWorkspaceOn:!1,isAutoCommandOn:!1,isDataRecorderOn:!1,isInputGraphOn:!1,isSystemDiagramsOn:!1,isSimulationOn:!0,disableTooltips:!1,showLoadDataModal:!1,saved_date:""}},created:function(){jt.$on("togglegraph",this.toggleGraph),jt.$on("clearworkspace",this.clearWorkspace),jt.$on("toggleworkspace",this.addWorkspace),jt.$on("toggledatarecorder",this.toggleDataRecorder),jt.$on("togglestopwatch",this.toggleStopwatch),jt.$on("toggletable",this.toggleTable),jt.$on("togglegraphinput",this.toggleInputGraph),jt.$on("togglesystemdiagrams",this.toggleSystemDiagrams),jt.$on("togglesimulation",this.toggleSimulation),jt.$on("setexercise1v1",this.setExercise1v1Interface),jt.$on("setexercise1v2",this.setExercise1v2Interface),jt.$on("setexercise1v3",this.setExercise1v3Interface),jt.$on("setexercise2v1",this.setExercise2v1Interface),this.$store.dispatch("setRemoteLabVersion",this.remoteLabVersion),this.$store.dispatch("setDataRecorder",this.isDataRecorderOn),this.$store.dispatch("setDisableTooltips",this.disableTooltips)},mounted:function(){var t=this;c.hasDataToLoad(this.remoteLabVersion)?(this.saved_date=JSON.parse(window.localStorage.getItem("dateSaved")),this.showLoadDataModal=!0):this.showLoadDataModal=!1,window.addEventListener("pagehide",(function(){c.saveDataToLocalStorage(t.remoteLabVersion)})),window.addEventListener("beforeunload",(function(){c.saveDataToLocalStorage(t.remoteLabVersion)}))},methods:{addWorkspace:function(){this.isWorkspaceOn=!0},toggleGraph:function(){this.isGraphOn=!this.isGraphOn,this.isGraphOn&&(this.isDataRecorderOn||this.toggleDataRecorder())},clearWorkspace:function(){this.isWorkspaceOn=!1},toggleDataRecorder:function(){console.log("data recorder toggled"),this.isDataRecorderOn=!this.isDataRecorderOn,this.isDataRecorderOn?this.$store.dispatch("setDataRecorder",!0):this.$store.dispatch("setDataRecorder",!1)},toggleStopwatch:function(){this.isStopwatchOn=!this.isStopwatchOn},toggleTable:function(){this.isTableOn=!this.isTableOn,this.isTableOn&&(this.isDataRecorderOn||this.toggleDataRecorder())},toggleInputGraph:function(){this.isInputGraphOn=!this.isInputGraphOn},toggleSystemDiagrams:function(){this.isSystemDiagramsOn=!this.isSystemDiagramsOn},toggleSimulation:function(){this.isSimulationOn=!this.isSimulationOn},setExercise1v1Interface:function(){this.isGraphOn=!1,this.isDataRecorderOn=!1,this.isTableOn=!1,this.isInputGraphOn=!1,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,jt.$emit("stop"),jt.$emit("setdcmotormode"),jt.$emit("setfreeinput")},setExercise1v2Interface:function(){this.isGraphOn=!0,this.isDataRecorderOn=!0,this.isTableOn=!1,this.isInputGraphOn=!0,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,jt.$emit("stop"),jt.$emit("setdcmotormode"),jt.$emit("setstepinput")},setExercise1v3Interface:function(){this.isGraphOn=!0,this.isDataRecorderOn=!0,this.isTableOn=!1,this.isInputGraphOn=!0,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,jt.$emit("stop"),jt.$emit("setpidpositionmode"),jt.$emit("setstepinput")},setExercise2v1Interface:function(){this.isGraphOn=!0,this.isDataRecorderOn=!0,this.isTableOn=!1,this.isInputGraphOn=!0,this.isAutoCommandOn=!1,this.isWorkspaceOn=!1,jt.$emit("stop"),jt.$emit("setpidpositionmode"),jt.$emit("setstepinput")},loadData:function(){c.loadDataFromLocalStorage(),this.showLoadDataModal=!1}}},vt=_t,bt=(a("034f"),Object(p["a"])(vt,s,i,!1,null,null,null)),xt=bt.exports,Dt=a("2f62");n["default"].use(Dt["a"]);var wt=new Dt["a"].Store({state:{connectionDroppedAt:0,connectionIsDropped:!1,lastVideoCheck:0,lastVideoWrite:0,streams:[],streamsObtained:!1,videoURL:"",videoURLObtained:!1,dataURL:"",dataURLObtained:!1,remoteLabVersion:"",isDataRecorderOn:!1,disableTooltips:!1,expiryTime:""},mutations:{SET_CONNECTION_DROPPED_AT:function(t,e){t.connectionDroppedAt=e},SET_CONNECTION_IS_DROPPED:function(t,e){t.connectionIsDropped=e},SET_LAST_VIDEO_CHECK:function(t,e){t.lastVideoCheck=e},SET_LAST_VIDEO_WRITE:function(t,e){t.lastVideoWrite=e},DELETE_STREAMS:function(t){t.streams={},t.streamsObtained=!1},SET_STREAMS:function(t,e){t.streams=e,t.streamsObtained=!0},SET_VIDEO_URL:function(t,e){t.videoURL=e,t.videoURLObtained=!0},DELETE_VIDEO_URL:function(t){t.videoURL="",t.videoURLObtained=!1},SET_DATA_URL:function(t,e){t.dataURL=e,t.dataURLObtained=!0},DELETE_DATA_URL:function(t){t.dataURL="",t.dataURLObtained=!1},SET_REMOTE_LAB_VERSION:function(t,e){t.remoteLabVersion=e},SET_DATA_RECORDER:function(t,e){t.isDataRecorderOn=e},SET_DISABLE_TOOLTIPS:function(t,e){t.disableTooltips=e},SET_EXPIRY_TIME:function(t,e){t.expiryTime=e}},actions:{setConnectionDroppedAt:function(t,e){t.commit("SET_CONNECTION_DROPPED_AT",e)},setConnectionIsDropped:function(t,e){t.commit("SET_CONNECTION_IS_DROPPED",e)},setLastVideoCheck:function(t,e){t.commit("SET_LAST_VIDEO_CHECK",e)},setLastVideoWrite:function(t,e){t.commit("SET_LAST_VIDEO_WRITE",e)},deleteStreams:function(t){t.commit("DELETE_STREAMS")},setStreams:function(t,e){t.commit("SET_STREAMS",e)},setVideoURL:function(t,e){t.commit("SET_VIDEO_URL",e)},deleteVideoURL:function(t){t.commit("DELETE_VIDEO_URL")},setDataURL:function(t,e){t.commit("SET_DATA_URL",e)},deleteDataURL:function(t){t.commit("DELETE_DATA_URL")},setRemoteLabVersion:function(t,e){t.commit("SET_REMOTE_LAB_VERSION",e)},setDataRecorder:function(t,e){t.commit("SET_DATA_RECORDER",e)},setDisableTooltips:function(t,e){t.commit("SET_DISABLE_TOOLTIPS",e)},setExpiryTime:function(t,e){t.commit("SET_EXPIRY_TIME",e)}},getters:{getStreamsObtained:function(t){return t.streamsObtained},getStreams:function(t){return t.streams},getStream:function(t){return function(e){if(null!=t.streams){if(!t.streamsObtained)return{};var a=t.streams.filter((function(t){return t.for==e}));return a.length<1?{}:a[0]}return{}}},getVideoURL:function(t){return t.videoURL},getVideoURLObtained:function(t){return t.videoURLObtained},getDataURL:function(t){return t.dataURL},getDataURLObtained:function(t){return t.dataURLObtained},getRemoteLabVersion:function(t){return t.remoteLabVersion},getIsDataRecorderOn:function(t){return t.isDataRecorderOn},getDisableTooltips:function(t){return t.disableTooltips},getExpiryTime:function(t){return t.expiryTime},getConnectionDroppedAt:function(t){return t.connectionDroppedAt},getConnectionIsDropped:function(t){return t.connectionIsDropped},getLastVideoCheck:function(t){return t.lastVideoCheck},getLastVideoWrite:function(t){return t.lastVideoWrite}}}),St=wt,yt=(a("ab8b"),a("5f5b")),jt=(a("54ba"),a("2dd8"),new n["default"]);n["default"].config.productionTip=!1,n["default"].use(yt["a"]),new n["default"]({store:St,render:function(t){return t(xt)}}).$mount("#app")},"61bc":function(t,e,a){"use strict";a("6931")},6931:function(t,e,a){},"6df5":function(t,e,a){"use strict";a("b4bc")},7220:function(t,e,a){t.exports=a.p+"img/secondOrderBlockDiagram.e2c2213b.png"},"85ec":function(t,e,a){},"86e5":function(t,e,a){"use strict";a("96de")},"96de":function(t,e,a){},b4bc:function(t,e,a){},b4f2:function(t,e,a){t.exports=a.p+"img/protractor.ea6a877b.png"},bb03:function(t,e,a){"use strict";a("014b")},be58:function(t,e,a){},f469:function(t,e,a){t.exports=a.p+"img/plantTransferFirstOrder.66778c92.png"}});
//# sourceMappingURL=app.f9266663.js.map